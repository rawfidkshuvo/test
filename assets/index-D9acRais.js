(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ud={exports:{}},Ao={};var Q0;function Pb(){if(Q0)return Ao;Q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ao.Fragment=e,Ao.jsx=i,Ao.jsxs=i,Ao}var X0;function Bb(){return X0||(X0=1,Ud.exports=Pb()),Ud.exports}var b=Bb(),zd={exports:{}},Re={};var $0;function qb(){if($0)return Re;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ie={};function ye(O,G,te){this.props=O,this.context=G,this.refs=ie,this.updater=te||W}ye.prototype.isReactComponent={},ye.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ye.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ie(){}Ie.prototype=ye.prototype;function Se(O,G,te){this.props=O,this.context=G,this.refs=ie,this.updater=te||W}var Je=Se.prototype=new Ie;Je.constructor=Se,ne(Je,ye.prototype),Je.isPureReactComponent=!0;var pt=Array.isArray;function je(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,G,te){var re=te.ref;return{$$typeof:s,type:O,key:G,ref:re!==void 0?re:null,props:te}}function k(O,G){return I(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(te){return G[te]})}var x=/\/+/g;function lt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):G.toString(36)}function gt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(je,je):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,G,te,re,Ee){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Ne){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case s:case e:Le=!0;break;case E:return Le=O._init,F(Le(O._payload),G,te,re,Ee)}}if(Le)return Ee=Ee(O),Le=re===""?"."+lt(O,0):re,pt(Ee)?(te="",Le!=null&&(te=Le.replace(x,"$&/")+"/"),F(Ee,G,te,"",function(mi){return mi})):Ee!=null&&(D(Ee)&&(Ee=k(Ee,te+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Le)),G.push(Ee)),1;Le=0;var St=re===""?".":re+":";if(pt(O))for(var ot=0;ot<O.length;ot++)re=O[ot],Ne=St+lt(re,ot),Le+=F(re,G,te,Ne,Ee);else if(ot=q(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(re=O.next()).done;)re=re.value,Ne=St+lt(re,ot++),Le+=F(re,G,te,Ne,Ee);else if(Ne==="object"){if(typeof O.then=="function")return F(gt(O),G,te,re,Ee);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Le}function Z(O,G,te){if(O==null)return O;var re=[],Ee=0;return F(O,re,"","",function(Ne){return G.call(te,Ne,Ee++)}),re}function de(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(te){(O._status===0||O._status===-1)&&(O._status=1,O._result=te)},function(te){(O._status===0||O._status===-1)&&(O._status=2,O._result=te)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var He=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},xe={map:Z,forEach:function(O,G,te){Z(O,function(){G.apply(this,arguments)},te)},count:function(O){var G=0;return Z(O,function(){G++}),G},toArray:function(O){return Z(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=A,Re.Children=xe,Re.Component=ye,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=Se,Re.StrictMode=a,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,G,te){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=ne({},O.props),Ee=O.key;if(G!=null)for(Ne in G.key!==void 0&&(Ee=""+G.key),G)!w.call(G,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&G.ref===void 0||(re[Ne]=G[Ne]);var Ne=arguments.length-2;if(Ne===1)re.children=te;else if(1<Ne){for(var Le=Array(Ne),St=0;St<Ne;St++)Le[St]=arguments[St+2];re.children=Le}return I(O.type,Ee,re)},Re.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Re.createElement=function(O,G,te){var re,Ee={},Ne=null;if(G!=null)for(re in G.key!==void 0&&(Ne=""+G.key),G)w.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=G[re]);var Le=arguments.length-2;if(Le===1)Ee.children=te;else if(1<Le){for(var St=Array(Le),ot=0;ot<Le;ot++)St[ot]=arguments[ot+2];Ee.children=St}if(O&&O.defaultProps)for(re in Le=O.defaultProps,Le)Ee[re]===void 0&&(Ee[re]=Le[re]);return I(O,Ne,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:g,render:O}},Re.isValidElement=D,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},Re.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},Re.startTransition=function(O){var G=C.T,te={};C.T=te;try{var re=O(),Ee=C.S;Ee!==null&&Ee(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(je,He)}catch(Ne){He(Ne)}finally{G!==null&&te.types!==null&&(G.types=te.types),C.T=G}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(O){return C.H.use(O)},Re.useActionState=function(O,G,te){return C.H.useActionState(O,G,te)},Re.useCallback=function(O,G){return C.H.useCallback(O,G)},Re.useContext=function(O){return C.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,G){return C.H.useDeferredValue(O,G)},Re.useEffect=function(O,G){return C.H.useEffect(O,G)},Re.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(O,G,te){return C.H.useImperativeHandle(O,G,te)},Re.useInsertionEffect=function(O,G){return C.H.useInsertionEffect(O,G)},Re.useLayoutEffect=function(O,G){return C.H.useLayoutEffect(O,G)},Re.useMemo=function(O,G){return C.H.useMemo(O,G)},Re.useOptimistic=function(O,G){return C.H.useOptimistic(O,G)},Re.useReducer=function(O,G,te){return C.H.useReducer(O,G,te)},Re.useRef=function(O){return C.H.useRef(O)},Re.useState=function(O){return C.H.useState(O)},Re.useSyncExternalStore=function(O,G,te){return C.H.useSyncExternalStore(O,G,te)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.3",Re}var W0;function Lm(){return W0||(W0=1,zd.exports=qb()),zd.exports}var Qe=Lm(),Pd={exports:{}},wo={},Bd={exports:{}},qd={};var J0;function Hb(){return J0||(J0=1,(function(s){function e(F,Z){var de=F.length;F.push(Z);e:for(;0<de;){var He=de-1>>>1,xe=F[He];if(0<o(xe,Z))F[He]=Z,F[de]=xe,de=He;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var Z=F[0],de=F.pop();if(de!==Z){F[0]=de;e:for(var He=0,xe=F.length,O=xe>>>1;He<O;){var G=2*(He+1)-1,te=F[G],re=G+1,Ee=F[re];if(0>o(te,de))re<xe&&0>o(Ee,te)?(F[He]=Ee,F[re]=de,He=re):(F[He]=te,F[G]=de,He=G);else if(re<xe&&0>o(Ee,de))F[He]=Ee,F[re]=de,He=re;else break e}}return Z}function o(F,Z){var de=F.sortIndex-Z.sortIndex;return de!==0?de:F.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,A=null,N=3,q=!1,W=!1,ne=!1,ie=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function Je(F){for(var Z=i(y);Z!==null;){if(Z.callback===null)a(y);else if(Z.startTime<=F)a(y),Z.sortIndex=Z.expirationTime,e(_,Z);else break;Z=i(y)}}function pt(F){if(ne=!1,Je(F),!W)if(i(_)!==null)W=!0,je||(je=!0,j());else{var Z=i(y);Z!==null&&gt(pt,Z.startTime-F)}}var je=!1,C=-1,w=5,I=-1;function k(){return ie?!0:!(s.unstable_now()-I<w)}function D(){if(ie=!1,je){var F=s.unstable_now();I=F;var Z=!0;try{e:{W=!1,ne&&(ne=!1,Ie(C),C=-1),q=!0;var de=N;try{t:{for(Je(F),A=i(_);A!==null&&!(A.expirationTime>F&&k());){var He=A.callback;if(typeof He=="function"){A.callback=null,N=A.priorityLevel;var xe=He(A.expirationTime<=F);if(F=s.unstable_now(),typeof xe=="function"){A.callback=xe,Je(F),Z=!0;break t}A===i(_)&&a(_),Je(F)}else a(_);A=i(_)}if(A!==null)Z=!0;else{var O=i(y);O!==null&&gt(pt,O.startTime-F),Z=!1}}break e}finally{A=null,N=de,q=!1}Z=void 0}}finally{Z?j():je=!1}}}var j;if(typeof Se=="function")j=function(){Se(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,lt=x.port2;x.port1.onmessage=D,j=function(){lt.postMessage(null)}}else j=function(){ye(D,0)};function gt(F,Z){C=ye(function(){F(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var Z=3;break;default:Z=N}var de=N;N=Z;try{return F()}finally{N=de}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=N;N=F;try{return Z()}finally{N=de}},s.unstable_scheduleCallback=function(F,Z,de){var He=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=de+xe,F={id:E++,callback:Z,priorityLevel:F,startTime:de,expirationTime:xe,sortIndex:-1},de>He?(F.sortIndex=de,e(y,F),i(_)===null&&F===i(y)&&(ne?(Ie(C),C=-1):ne=!0,gt(pt,de-He))):(F.sortIndex=xe,e(_,F),W||q||(W=!0,je||(je=!0,j()))),F},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(F){var Z=N;return function(){var de=N;N=Z;try{return F.apply(this,arguments)}finally{N=de}}}})(qd)),qd}var Z0;function Fb(){return Z0||(Z0=1,Bd.exports=Hb()),Bd.exports}var Hd={exports:{}},nn={};var e_;function Gb(){if(e_)return nn;e_=1;var s=Lm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},nn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:q}):E==="script"&&a.d.X(_,{crossOrigin:A,integrity:N,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var t_;function Kb(){if(t_)return Hd.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=Gb(),Hd.exports}var n_;function Yb(){if(n_)return wo;n_=1;var s=Fb(),e=Lm(),i=Kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ye:return"Profiler";case ie:return"StrictMode";case pt:return"Suspense";case je:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Se:return t.displayName||"Context";case Ie:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var gt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},He=[],xe=-1;function O(t){return{current:t}}function G(t){0>xe||(t.current=He[xe],He[xe]=null,xe--)}function te(t,n){xe++,He[xe]=t.current,t.current=n}var re=O(null),Ee=O(null),Ne=O(null),Le=O(null);function St(t,n){switch(te(Ne,n),te(Ee,t),te(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?y0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=y0(n),t=_0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(re),te(re,t)}function ot(){G(re),G(Ee),G(Ne)}function mi(t){t.memoizedState!==null&&te(Le,t);var n=re.current,r=_0(n,t.type);n!==r&&(te(Ee,t),te(re,r))}function Ts(t){Ee.current===t&&(G(re),G(Ee)),Le.current===t&&(G(Le),Eo._currentValue=de)}var bs,Ss;function Vn(t){if(bs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);bs=n&&n[1]||"",Ss=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+t+Ss}var Ar=!1;function Fi(t,n){if(!t||Ar)return"";Ar=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var P=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){P=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){P=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var K=`
`+R[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ar=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Vn(r):""}function oe(t,n){switch(t.tag){case 26:case 27:case 5:return Vn(t.type);case 16:return Vn("Lazy");case 13:return t.child!==n&&n!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Fi(t.type,!1);case 11:return Fi(t.type.render,!1);case 1:return Fi(t.type,!0);case 31:return Vn("Activity");default:return""}}function ae(t){try{var n="",r=null;do n+=oe(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var se=Object.prototype.hasOwnProperty,ue=s.unstable_scheduleCallback,Ae=s.unstable_cancelCallback,J=s.unstable_shouldYield,Te=s.unstable_requestPaint,pe=s.unstable_now,ht=s.unstable_getCurrentPriorityLevel,ut=s.unstable_ImmediatePriority,wr=s.unstable_UserBlockingPriority,bn=s.unstable_NormalPriority,Ph=s.unstable_LowPriority,ou=s.unstable_IdlePriority,uu=s.log,cu=s.unstable_setDisableYieldValue,Wn=null,Yt=null;function jn(t){if(typeof uu=="function"&&cu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Wn,t)}catch{}}var At=Math.clz32?Math.clz32:fu,hu=Math.log,ha=Math.LN2;function fu(t){return t>>>=0,t===0?32:31-(hu(t)/ha|0)|0}var pi=256,xr=262144,It=4194304;function gi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=gi(l):(p&=T,p!==0?h=gi(p):r||(r=T&~t,r!==0&&(h=gi(r))))):(T=l&~f,T!==0?h=gi(T):p!==0?h=gi(p):r||(r=l&~t,r!==0&&(h=gi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function _i(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var K=31-At(r),Q=1<<K;T[K]=0,R[K]=-1;var P=z[K];if(P!==null)for(z[K]=null,K=0;K<P.length;K++){var H=P[K];H!==null&&(H.lane&=-536870913)}r&=~Q}l!==0&&Cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-At(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Al(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-At(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function wl(t,n){var r=n&-n;return r=(r&42)!==0?1:Ir(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:B0(t.type))}function Zn(t,n){var r=Z.p;try{return Z.p=t,n()}finally{Z.p=r}}var ei=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ei,Ht="__reactProps$"+ei,vi="__reactContainer$"+ei,fa="__reactEvents$"+ei,Hh="__reactListeners$"+ei,pu="__reactHandles$"+ei,gu="__reactResources$"+ei,Ei="__reactMarker$"+ei;function da(t){delete t[Nt],delete t[Ht],delete t[fa],delete t[Hh],delete t[pu]}function Ti(t){var n=t[Nt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[vi]||r[Nt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=w0(t);t!==null;){if(r=t[Nt])return r;t=w0(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Nt]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[gu];return n||(n=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ei]=!0}var xl=new Set,Rl={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(Rl[t]=n,t=0;t<n.length;t++)xl.add(n[t])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Nl={};function yu(t){return se.call(Nl,t)?!0:se.call(Il,t)?!1:Cl.test(t)?Nl[t]=!0:(Il[t]=!0,!1)}function ma(t,n,r){if(yu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function An(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Dl(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function hn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ol(t,p,Ft(n)):r!=null?Ol(t,p,Ft(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function _u(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),et(t)}function Ol(t,n,r){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function vu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function xs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(gt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),et(t)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function kl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ml(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ml(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Vl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,xi=null;function Or(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Ht]||null;if(!h)throw Error(a(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Nr(l)}break e;case"textarea":vu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var _a=!1;function Is(t,n,r){if(_a)return t(n,r);_a=!0;try{var l=t(n);return l}finally{if(_a=!1,(Cs!==null||xi!==null)&&(mc(),Cs&&(n=Cs,t=xi,xi=Cs=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function ni(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ht]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(zn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Mr=!1}var Ri=null,jl=null,kr=null;function Ll(){if(kr)return kr;var t,n=jl,r=n.length,l,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return kr=h.slice(t,1<l?1-l:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ii(){return!1}function Qt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ii,this.isPropagationStopped=ii,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Qt(Yi),Ns=A({},Yi,{view:0,detail:0}),Ul=Qt(Ns),Ds,va,Ii,Ea=A({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ds=t.screenX-Ii.screenX,va=t.screenY-Ii.screenY):va=Ds=0,Ii=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:va}}),zl=Qt(Ea),jr=A({},Ea,{dataTransfer:0}),bu=Qt(jr),Su=A({},Ns,{relatedTarget:0}),Lr=Qt(Su),Pl=A({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Qt(Pl),Ta=A({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Qt(Ta),xu=A({},Yi,{data:0}),Ni=Qt(xu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Os(){return Nu}var on=A({},Ns,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Qt(on),Ou=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Qt(Ou),u=A({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Qt(u),v=A({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Qt(v),L=A({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qt(L),ee=A({},Yi,{newState:0,oldState:0}),De=Qt(ee),wt=[9,13,27,32],$e=zn&&"CompositionEvent"in window,yt=null;zn&&"documentMode"in document&&(yt=document.documentMode);var Pn=zn&&"TextEvent"in window&&!yt,Di=zn&&(!$e||yt&&8<yt&&11>=yt),si=" ",ri=!1;function Ur(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function cT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return t=n.data,t===si&&ri?null:t;default:return null}}function hT(t,n){if(Sa)return t==="compositionend"||!$e&&Ur(t,n)?(t=Ll(),kr=jl=Ri=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fT[t.type]:n==="textarea"}function Ip(t,n,r,l){Cs?xi?xi.push(l):xi=[l]:Cs=l,n=Tc(n,"onChange"),0<n.length&&(r=new Ci("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Bl=null,ql=null;function dT(t){h0(t,0)}function Mu(t){var n=Sn(t);if(Nr(n))return t}function Np(t,n){if(t==="change")return n}var Dp=!1;if(zn){var Fh;if(zn){var Gh="oninput"in document;if(!Gh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Gh=typeof Op.oninput=="function"}Fh=Gh}else Fh=!1;Dp=Fh&&(!document.documentMode||9<document.documentMode)}function Mp(){Bl&&(Bl.detachEvent("onpropertychange",kp),ql=Bl=null)}function kp(t){if(t.propertyName==="value"&&Mu(ql)){var n=[];Ip(n,ql,t,Un(t)),Is(dT,n)}}function mT(t,n,r){t==="focusin"?(Mp(),Bl=n,ql=r,Bl.attachEvent("onpropertychange",kp)):t==="focusout"&&Mp()}function pT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(ql)}function gT(t,n){if(t==="click")return Mu(n)}function yT(t,n){if(t==="input"||t==="change")return Mu(n)}function _T(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:_T;function Hl(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!se.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var r=Vp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vp(r)}}function Lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wi(t.document)}return n}function Kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vT=zn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Yh=null,Fl=null,Qh=!1;function zp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Aa==null||Aa!==wi(l)||(l=Aa,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Hl(Fl,l)||(Fl=l,l=Tc(Yh,"onSelect"),0<l.length&&(n=new Ci("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Aa)))}function zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var wa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Xh={},Pp={};zn&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Pr(t){if(Xh[t])return Xh[t];if(!wa[t])return t;var n=wa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pp)return Xh[t]=n[r];return t}var Bp=Pr("animationend"),qp=Pr("animationiteration"),Hp=Pr("animationstart"),ET=Pr("transitionrun"),TT=Pr("transitionstart"),bT=Pr("transitioncancel"),Fp=Pr("transitionend"),Gp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function ai(t,n){Gp.set(t,n),Si(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],xa=0,Wh=0;function Vu(){for(var t=xa,n=Wh=xa=0;n<t;){var r=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Kp(r,h,f)}}function ju(t,n,r,l){Bn[xa++]=t,Bn[xa++]=n,Bn[xa++]=r,Bn[xa++]=l,Wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,r,l){return ju(t,n,r,l),Lu(t)}function Br(t,n){return ju(t,null,null,n),Lu(t)}function Kp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Lu(t){if(50<fo)throw fo=0,od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function ST(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,r,l){return new ST(t,n,r,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var r=t.alternate;return r===null?(r=xn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=Cb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,r,n,h),t.elementType=I,t.lanes=f,t;case ne:return qr(r.children,h,f,n);case ie:p=8,h|=24;break;case ye:return t=xn(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case pt:return t=xn(13,r,n,h),t.elementType=pt,t.lanes=f,t;case je:return t=xn(19,r,n,h),t.elementType=je,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:p=10;break e;case Ie:p=9;break e;case Je:p=11;break e;case C:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=xn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function qr(t,n,r,l){return t=xn(7,t,l,n),t.lanes=r,t}function ef(t,n,r){return t=xn(6,t,null,n),t.lanes=r,t}function Qp(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,r){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xp=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var r=Xp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ae(n)},Xp.set(t,n),n)}return{value:t,source:n,stack:ae(n)}}var Ca=[],Ia=0,zu=null,Gl=0,Hn=[],Fn=0,Ms=null,Oi=1,Mi="";function $i(t,n){Ca[Ia++]=Gl,Ca[Ia++]=zu,zu=t,Gl=n}function $p(t,n,r){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Ms,Ms=t;var l=Oi;t=Mi;var h=32-At(l)-1;l&=~(1<<h),r+=1;var f=32-At(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Oi=1<<32-At(n)+h|r<<h|l,Mi=f+t}else Oi=1<<f|r<<h|l,Mi=t}function nf(t){t.return!==null&&($i(t,1),$p(t,1,0))}function sf(t){for(;t===zu;)zu=Ca[--Ia],Ca[Ia]=null,Gl=Ca[--Ia],Ca[Ia]=null;for(;t===Ms;)Ms=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null,Oi=Hn[--Fn],Hn[Fn]=null}function Wp(t,n){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Ms,Oi=n.id,Mi=n.overflow,Ms=t}var Xt=null,ft=null,Fe=!1,ks=null,Gn=!1,rf=Error(a(519));function Vs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(qn(n,t)),rf}function Jp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Nt]=t,n[Ht]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<po.length;r++)Ve(po[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),_u(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),xs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||p0(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Vs(t,!0)}function Zp(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xt=Xt.return}}function Na(t){if(t!==Xt)return!1;if(!Fe)return Zp(t),Fe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Sd(t.type,t.memoizedProps)),r=!r),r&&ft&&Vs(t),Zp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=A0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=A0(t)}else n===27?(n=ft,Xs(t.type)?(t=Cd,Cd=null,ft=t):ft=n):ft=Xt?Yn(t.stateNode.nextSibling):null;return!0}function Hr(){ft=Xt=null,Fe=!1}function af(){var t=ks;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),ks=null),t}function Kl(t){ks===null?ks=[t]:ks.push(t)}var lf=O(null),Fr=null,Wi=null;function js(t,n,r){te(lf,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=lf.current,G(lf)}function of(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function uf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),of(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),of(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;wn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Eo):t=[Eo])}h=h.return}t!==null&&uf(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Fr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return eg(Fr,t)}function Bu(t,n){return Fr===null&&Gr(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wi===null){if(t===null)throw Error(a(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return r}var AT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wT=s.unstable_scheduleCallback,xT=s.unstable_NormalPriority,Mt={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new AT,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&wT(xT,function(){t.controller.abort()})}var Ql=null,hf=0,Oa=0,Ma=null;function RT(t,n){if(Ql===null){var r=Ql=[];hf=0,Oa=md(),Ma={status:"pending",value:void 0,then:function(l){r.push(l)}}}return hf++,n.then(tg,tg),n}function tg(){if(--hf===0&&Ql!==null){Ma!==null&&(Ma.status="fulfilled");var t=Ql;Ql=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ng=F.S;F.S=function(t,n){zy=pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RT(t,n),ng!==null&&ng(t,n)};var Kr=O(null);function ff(){var t=Kr.current;return t!==null?t:ct.pooledCache}function qu(t,n){n===null?te(Kr,Kr.current):te(Kr,n.pool)}function ig(){var t=ff();return t===null?null:{parent:Mt._currentValue,pool:t}}var ka=Error(a(460)),df=Error(a(474)),Hu=Error(a(542)),Fu={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ti,ti),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Qr=n,ka}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Qr=r,ka):r}}var Qr=null;function ag(){if(Qr===null)throw Error(a(459));var t=Qr;return Qr=null,t}function lg(t){if(t===ka||t===Hu)throw Error(a(483))}var Va=null,Xl=0;function Gu(t){var n=Xl;return Xl+=1,Va===null&&(Va=[]),rg(Va,t,n)}function $l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){function n(V,M){if(t){var U=V.deletions;U===null?(V.deletions=[M],V.flags|=16):U.push(M)}}function r(V,M){if(!t)return null;for(;M!==null;)n(V,M),M=M.sibling;return null}function l(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(V,M){return V=Xi(V,M),V.index=0,V.sibling=null,V}function f(V,M,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<M?(V.flags|=67108866,M):U):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,M,U,Y){return M===null||M.tag!==6?(M=ef(U,V.mode,Y),M.return=V,M):(M=h(M,U),M.return=V,M)}function R(V,M,U,Y){var me=U.type;return me===ne?K(V,M,U.props.children,Y,U.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Yr(me)===M.type)?(M=h(M,U.props),$l(M,U),M.return=V,M):(M=Uu(U.type,U.key,U.props,null,V.mode,Y),$l(M,U),M.return=V,M)}function z(V,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=tf(U,V.mode,Y),M.return=V,M):(M=h(M,U.children||[]),M.return=V,M)}function K(V,M,U,Y,me){return M===null||M.tag!==7?(M=qr(U,V.mode,Y,me),M.return=V,M):(M=h(M,U),M.return=V,M)}function Q(V,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,V.mode,U),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return U=Uu(M.type,M.key,M.props,null,V.mode,U),$l(U,M),U.return=V,U;case W:return M=tf(M,V.mode,U),M.return=V,M;case w:return M=Yr(M),Q(V,M,U)}if(gt(M)||j(M))return M=qr(M,V.mode,U,null),M.return=V,M;if(typeof M.then=="function")return Q(V,Gu(M),U);if(M.$$typeof===Se)return Q(V,Bu(V,M),U);Ku(V,M)}return null}function P(V,M,U,Y){var me=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:T(V,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===me?R(V,M,U,Y):null;case W:return U.key===me?z(V,M,U,Y):null;case w:return U=Yr(U),P(V,M,U,Y)}if(gt(U)||j(U))return me!==null?null:K(V,M,U,Y,null);if(typeof U.then=="function")return P(V,M,Gu(U),Y);if(U.$$typeof===Se)return P(V,M,Bu(V,U),Y);Ku(V,U)}return null}function H(V,M,U,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,T(M,V,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return V=V.get(Y.key===null?U:Y.key)||null,R(M,V,Y,me);case W:return V=V.get(Y.key===null?U:Y.key)||null,z(M,V,Y,me);case w:return Y=Yr(Y),H(V,M,U,Y,me)}if(gt(Y)||j(Y))return V=V.get(U)||null,K(M,V,Y,me,null);if(typeof Y.then=="function")return H(V,M,U,Gu(Y),me);if(Y.$$typeof===Se)return H(V,M,U,Bu(M,Y),me);Ku(M,Y)}return null}function ce(V,M,U,Y){for(var me=null,Ke=null,he=M,Me=M=0,ze=null;he!==null&&Me<U.length;Me++){he.index>Me?(ze=he,he=null):ze=he.sibling;var Ye=P(V,he,U[Me],Y);if(Ye===null){he===null&&(he=ze);break}t&&he&&Ye.alternate===null&&n(V,he),M=f(Ye,M,Me),Ke===null?me=Ye:Ke.sibling=Ye,Ke=Ye,he=ze}if(Me===U.length)return r(V,he),Fe&&$i(V,Me),me;if(he===null){for(;Me<U.length;Me++)he=Q(V,U[Me],Y),he!==null&&(M=f(he,M,Me),Ke===null?me=he:Ke.sibling=he,Ke=he);return Fe&&$i(V,Me),me}for(he=l(he);Me<U.length;Me++)ze=H(he,V,Me,U[Me],Y),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?Me:ze.key),M=f(ze,M,Me),Ke===null?me=ze:Ke.sibling=ze,Ke=ze);return t&&he.forEach(function(er){return n(V,er)}),Fe&&$i(V,Me),me}function _e(V,M,U,Y){if(U==null)throw Error(a(151));for(var me=null,Ke=null,he=M,Me=M=0,ze=null,Ye=U.next();he!==null&&!Ye.done;Me++,Ye=U.next()){he.index>Me?(ze=he,he=null):ze=he.sibling;var er=P(V,he,Ye.value,Y);if(er===null){he===null&&(he=ze);break}t&&he&&er.alternate===null&&n(V,he),M=f(er,M,Me),Ke===null?me=er:Ke.sibling=er,Ke=er,he=ze}if(Ye.done)return r(V,he),Fe&&$i(V,Me),me;if(he===null){for(;!Ye.done;Me++,Ye=U.next())Ye=Q(V,Ye.value,Y),Ye!==null&&(M=f(Ye,M,Me),Ke===null?me=Ye:Ke.sibling=Ye,Ke=Ye);return Fe&&$i(V,Me),me}for(he=l(he);!Ye.done;Me++,Ye=U.next())Ye=H(he,V,Me,Ye.value,Y),Ye!==null&&(t&&Ye.alternate!==null&&he.delete(Ye.key===null?Me:Ye.key),M=f(Ye,M,Me),Ke===null?me=Ye:Ke.sibling=Ye,Ke=Ye);return t&&he.forEach(function(zb){return n(V,zb)}),Fe&&$i(V,Me),me}function at(V,M,U,Y){if(typeof U=="object"&&U!==null&&U.type===ne&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var me=U.key;M!==null;){if(M.key===me){if(me=U.type,me===ne){if(M.tag===7){r(V,M.sibling),Y=h(M,U.props.children),Y.return=V,V=Y;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Yr(me)===M.type){r(V,M.sibling),Y=h(M,U.props),$l(Y,U),Y.return=V,V=Y;break e}r(V,M);break}else n(V,M);M=M.sibling}U.type===ne?(Y=qr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Uu(U.type,U.key,U.props,null,V.mode,Y),$l(Y,U),Y.return=V,V=Y)}return p(V);case W:e:{for(me=U.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){r(V,M.sibling),Y=h(M,U.children||[]),Y.return=V,V=Y;break e}else{r(V,M);break}else n(V,M);M=M.sibling}Y=tf(U,V.mode,Y),Y.return=V,V=Y}return p(V);case w:return U=Yr(U),at(V,M,U,Y)}if(gt(U))return ce(V,M,U,Y);if(j(U)){if(me=j(U),typeof me!="function")throw Error(a(150));return U=me.call(U),_e(V,M,U,Y)}if(typeof U.then=="function")return at(V,M,Gu(U),Y);if(U.$$typeof===Se)return at(V,M,Bu(V,U),Y);Ku(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(r(V,M.sibling),Y=h(M,U),Y.return=V,V=Y):(r(V,M),Y=ef(U,V.mode,Y),Y.return=V,V=Y),p(V)):r(V,M)}return function(V,M,U,Y){try{Xl=0;var me=at(V,M,U,Y);return Va=null,me}catch(he){if(he===ka||he===Hu)throw he;var Ke=xn(29,he,null,V.mode);return Ke.lanes=Y,Ke.return=V,Ke}}}var Xr=og(!0),ug=og(!1),Ls=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Lu(t),Kp(t,null,r),n}return ju(t,l,n,r),Lu(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}function gf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yf=!1;function Jl(){if(yf){var t=Ma;if(t!==null)throw t}}function Zl(t,n,r,l){yf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==p&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,K=z=R=null,T=f;do{var P=T.lane&-536870913,H=P!==T.lane;if(H?(Ue&P)===P:(l&P)===P){P!==0&&P===Oa&&(yf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,_e=T;P=n;var at=r;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){Q=ce.call(at,Q,P);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,P=typeof ce=="function"?ce.call(at,Q,P):ce,P==null)break e;Q=A({},Q,P);break e;case 2:Ls=!0}}P=T.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=H,R=Q):K=K.next=H,p|=P;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Fs|=p,t.lanes=p,t.memoizedState=Q}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}var ja=O(null),Yu=O(0);function fg(t,n){t=ls,te(Yu,t),te(ja,n),ls=t|n.baseLanes}function _f(){te(Yu,ls),te(ja,ja.current)}function vf(){ls=Yu.current,G(ja),G(Yu)}var Rn=O(null),Kn=null;function Ps(t){var n=t.alternate;te(xt,xt.current&1),te(Rn,t),Kn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Kn=t)}function Ef(t){te(xt,xt.current),te(Rn,t),Kn===null&&(Kn=t)}function dg(t){t.tag===22?(te(xt,xt.current),te(Rn,t),Kn===null&&(Kn=t)):Bs()}function Bs(){te(xt,xt.current),te(Rn,Rn.current)}function Cn(t){G(Rn),Kn===t&&(Kn=null),G(xt)}var xt=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||Rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Oe=null,st=null,kt=null,Xu=!1,La=!1,$r=!1,$u=0,eo=0,Ua=null,IT=0;function Tt(){throw Error(a(321))}function Tf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!wn(t[r],n[r]))return!1;return!0}function bf(t,n,r,l,h,f){return Zi=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?$g:Lf,$r=!1,f=r(l,h),$r=!1,La&&(f=pg(n,r,l,h)),mg(t),f}function mg(t){F.H=io;var n=st!==null&&st.next!==null;if(Zi=0,kt=st=Oe=null,Xu=!1,eo=0,Ua=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Pu(t)&&(Vt=!0))}function pg(t,n,r,l){Oe=t;var h=0;do{if(La&&(Ua=null),eo=0,La=!1,25<=h)throw Error(a(301));if(h+=1,kt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Wg,f=n(r,l)}while(La);return f}function NT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?to(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Sf(){var t=$u!==0;return $u=0,t}function Af(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wf(t){if(Xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xu=!1}Zi=0,kt=st=Oe=null,La=!1,eo=$u=0,Ua=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=t:kt=kt.next=t,kt}function Rt(){if(st===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=kt===null?Oe.memoizedState:kt.next;if(n!==null)kt=n,st=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},kt===null?Oe.memoizedState=kt=t:kt=kt.next=t}return kt}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(t){var n=eo;return eo+=1,Ua===null&&(Ua=[]),t=rg(Ua,t,n),n=Oe,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?$g:Lf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return to(t);if(t.$$typeof===Se)return $t(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wu(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=k;return n.index++,r}function es(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=Rt();return Rf(n,st,t)}function Rf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,K=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ue&Q)===Q:(Zi&Q)===Q){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Oa&&(K=!0);else if((Zi&P)===P){z=z.next,P===Oa&&(K=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Q,p=f):R=R.next=Q,Oe.lanes|=P,Fs|=P;Q=z.action,$r&&r(f,Q),f=z.hasEagerState?z.eagerState:r(f,Q)}else P={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=P,p=f):R=R.next=P,Oe.lanes|=Q,Fs|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!wn(f,t.memoizedState)&&(Vt=!0,K&&(r=Ma,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);wn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function gg(t,n,r){var l=Oe,h=Rt(),f=Fe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!wn((st||h).memoizedState,r);if(p&&(h.memoizedState=r,Vt=!0),h=h.queue,Df(vg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},_g.bind(null,l,h,r,n),null),ct===null)throw Error(a(349));f||(Zi&127)!==0||yg(l,n,r)}return r}function yg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Wu(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _g(t,n,r,l){n.value=r,n.getSnapshot=l,Eg(n)&&Tg(t)}function vg(t,n,r){return r(function(){Eg(n)&&Tg(t)})}function Eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!wn(t,r)}catch{return!0}}function Tg(t){var n=Br(t,2);n!==null&&yn(n,t,2)}function If(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),$r){jn(!0);try{r()}finally{jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function bg(t,n,r,l){return t.baseState=r,Rf(t,st,typeof l=="function"?l:es)}function DT(t,n,r,l,h){if(nc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=r(h,l),R=F.S;R!==null&&R(p,T),Ag(t,n,T)}catch(z){Nf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),Ag(t,n,f)}catch(z){Nf(t,n,z)}}function Ag(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wg(t,n,l)},function(l){return Nf(t,n,l)}):wg(t,n,r)}function wg(t,n,r){n.status="fulfilled",n.value=r,xg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sg(t,r)))}function Nf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,xg(n),n=n.next;while(n!==l)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rg(t,n){return n}function Cg(t,n){if(Fe){var r=ct.formState;if(r!==null){e:{var l=Oe;if(Fe){if(ft){t:{for(var h=ft,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Yn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},r.queue=l,r=Yg.bind(null,Oe,l),l.dispatch=r,l=If(!1),f=jf.bind(null,Oe,!1,l.queue),l=un(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=DT.bind(null,Oe,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ig(t){var n=Rt();return Ng(n,st,t)}function Ng(t,n,r){if(n=Rf(t,n,Rg)[0],t=Zu(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=to(n)}catch(p){throw p===ka?Hu:p}else l=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,za(9,{destroy:void 0},OT.bind(null,h,r),null)),[l,f,t]}function OT(t,n){t.action=n}function Dg(t){var n=Rt(),r=st;if(r!==null)return Ng(n,r,t);Rt(),n=n.memoizedState,r=Rt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function za(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Wu(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Og(){return Rt().memoizedState}function ec(t,n,r,l){var h=un();Oe.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},r,l===void 0?null:l)}function tc(t,n,r,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&Tf(l,st.memoizedState.deps)?h.memoizedState=za(n,f,r,l):(Oe.flags|=t,h.memoizedState=za(1|n,f,r,l))}function Mg(t,n){ec(8390656,8,t,n)}function Df(t,n){tc(2048,8,t,n)}function MT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Wu(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function kg(t){var n=Rt().memoizedState;return MT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vg(t,n){return tc(4,2,t,n)}function jg(t,n){return tc(4,4,t,n)}function Lg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,r){r=r!=null?r.concat([t]):null,tc(4,4,Lg.bind(null,n,t),r)}function Of(){}function zg(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Tf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Pg(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Tf(n,l[1]))return l[0];if(l=t(),$r){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l}function Mf(t,n,r){return r===void 0||(Zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=By(),Oe.lanes|=t,Fs|=t,r)}function Bg(t,n,r,l){return wn(r,n)?r:ja.current!==null?(t=Mf(t,r,l),wn(t,n)||(Vt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=r):(t=By(),Oe.lanes|=t,Fs|=t,n)}function qg(t,n,r,l,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,jf(t,!1,n,r);try{var R=h(),z=F.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=CT(R,l);no(t,n,K,Dn(t))}else no(t,n,l,Dn(t))}catch(Q){no(t,n,{then:function(){},status:"rejected",reason:Q},Dn())}finally{Z.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function kT(){}function kf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Hg(t).queue;qg(t,h,n,de,r===null?kT:function(){return Fg(t),r(l)})}function Hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fg(t){var n=Hg(t);n.next===null&&(n=t.alternate.memoizedState),no(t,n.next.queue,{},Dn())}function Vf(){return $t(Eo)}function Gg(){return Rt().memoizedState}function Kg(){return Rt().memoizedState}function VT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Us(r);var l=zs(n,t,r);l!==null&&(yn(l,n,r),Wl(l,n,r)),n={cache:cf()},t.payload=n;return}n=n.return}}function jT(t,n,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nc(t)?Qg(n,r):(r=Jh(t,n,r,l),r!==null&&(yn(r,t,l),Xg(r,n,l)))}function Yg(t,n,r){var l=Dn();no(t,n,r,l)}function no(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Qg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,wn(T,p))return ju(t,n,h,0),ct===null&&Vu(),!1}catch{}if(r=Jh(t,n,h,l),r!==null)return yn(r,t,l),Xg(r,n,l),!0}return!1}function jf(t,n,r,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(n)throw Error(a(479))}else n=Jh(t,r,l,2),n!==null&&yn(n,t,2)}function nc(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Qg(t,n){La=Xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}var io={readContext:$t,use:Ju,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};io.useEffectEvent=Tt;var $g={readContext:$t,use:Ju,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Mg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ec(4194308,4,Lg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ec(4194308,4,t,n)},useInsertionEffect:function(t,n){ec(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var l=t();if($r){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=un();if(r!==void 0){var h=r(n);if($r){jn(!0);try{r(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jT.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Yg.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(t,n){var r=un();return Mf(r,t,n)},useTransition:function(){var t=If(!1);return t=qg.bind(null,Oe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Oe,h=un();if(Fe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Ue&127)!==0||yg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Mg(vg.bind(null,l,f,t),[t]),l.flags|=2048,za(9,{destroy:void 0},_g.bind(null,l,f,r,n),null),r},useId:function(){var t=un(),n=ct.identifierPrefix;if(Fe){var r=Mi,l=Oi;r=(l&~(1<<32-At(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=IT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Cg,useActionState:Cg,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return un().memoizedState=VT.bind(null,Oe)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lf={readContext:$t,use:Ju,useCallback:zg,useContext:$t,useEffect:Df,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:jg,useMemo:Pg,useReducer:Zu,useRef:Og,useState:function(){return Zu(es)},useDebugValue:Of,useDeferredValue:function(t,n){var r=Rt();return Bg(r,st.memoizedState,t,n)},useTransition:function(){var t=Zu(es)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Vf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,n){var r=Rt();return bg(r,st,t,n)},useMemoCache:xf,useCacheRefresh:Kg};Lf.useEffectEvent=kg;var Wg={readContext:$t,use:Ju,useCallback:zg,useContext:$t,useEffect:Df,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:jg,useMemo:Pg,useReducer:Cf,useRef:Og,useState:function(){return Cf(es)},useDebugValue:Of,useDeferredValue:function(t,n){var r=Rt();return st===null?Mf(r,t,n):Bg(r,st.memoizedState,t,n)},useTransition:function(){var t=Cf(es)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Vf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=Rt();return st!==null?bg(r,st,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Kg};Wg.useEffectEvent=kg;function Uf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Dn(),h=Us(l);h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,l),n!==null&&(yn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Dn(),h=Us(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,l),n!==null&&(yn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),l=Us(r);l.tag=2,n!=null&&(l.callback=n),n=zs(t,l,r),n!==null&&(yn(n,t,r),Wl(n,t,r))}};function Jg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,l)||!Hl(h,f):!0}function Zg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ey(t){ku(t)}function ty(t){console.error(t)}function ny(t){ku(t)}function ic(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=Us(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(t,n)},r}function sy(t){return t=Us(t),t.tag=3,t}function ry(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){iy(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){iy(n,r,l),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Da(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?pc():r.alternate===null&&bt===0&&(bt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return r.flags|=65536,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),hd(t,l,h)),!1}throw Error(a(435,r.tag))}return hd(t,l,h),pc(),!1}if(Fe)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(a(422),{cause:l}),Kl(qn(t,r)))):(l!==rf&&(n=Error(a(423),{cause:l}),Kl(qn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,r),h=Pf(t.stateNode,l,h),gf(t,h),bt!==4&&(bt=2)),!1;var f=Error(a(520),{cause:l});if(f=qn(f,r),ho===null?ho=[f]:ho.push(f),bt!==4&&(bt=2),n===null)return!0;l=qn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,l,t),gf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sy(h),ry(h,t,r,l),gf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),Vt=!1;function Wt(t,n,r,l){n.child=t===null?ug(n,null,r,l):Xr(n,t.child,r,l)}function ay(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Gr(n),l=bf(t,n,r,p,f,h),T=Sf(),t!==null&&!Vt?(Af(t,n,h),ts(t,n,h)):(Fe&&T&&nf(n),n.flags|=1,Wt(t,n,l,h),n.child)}function ly(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,oy(t,n,f,l,h)):(t=Uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(p,l)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Hl(f,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,ts(t,n,h)}return qf(t,n,r,l,h)}function uy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return cy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?fg(n,f):_f(),dg(n);else return l=n.lanes=536870912,cy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(qu(n,f.cachePool),fg(n,f),Bs(),n.memoizedState=null):(t!==null&&qu(n,null),_f(),Bs());return Wt(t,n,h,r),n.child}function so(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(t,n,r,l,h){var f=ff();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&qu(n,null),_f(),dg(n),t!==null&&Da(t,n,l,!0),n.childLanes=h,null}function sc(t,n){return n=ac({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function hy(t,n,r){return Xr(n,t.child,null,r),t=sc(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function UT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=sc(n,l),n.lanes=536870912,so(null,t);if(Ef(n),(t=ft)?(t=S0(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=Qp(t),r.return=n,n.child=r,Xt=n,ft=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return sc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=hy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Da(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(l=ct,l!==null&&(p=wl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(t,p),yn(l,t,p),Bf;pc(),n=hy(t,n,r)}else t=f.treeContext,ft=Yn(p.nextSibling),Xt=n,Fe=!0,ks=null,Gn=!1,t!==null&&Wp(n,t),n=sc(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function rc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qf(t,n,r,l,h){return Gr(n),r=bf(t,n,r,l,void 0,h),l=Sf(),t!==null&&!Vt?(Af(t,n,h),ts(t,n,h)):(Fe&&l&&nf(n),n.flags|=1,Wt(t,n,r,h),n.child)}function fy(t,n,r,l,h,f){return Gr(n),n.updateQueue=null,r=pg(n,l,r,h),mg(t),l=Sf(),t!==null&&!Vt?(Af(t,n,f),ts(t,n,f)):(Fe&&l&&nf(n),n.flags|=1,Wt(t,n,r,f),n.child)}function dy(t,n,r,l,h){if(Gr(n),n.stateNode===null){var f=Ra,p=r.contextType;typeof p=="object"&&p!==null&&(f=$t(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?$t(p):Ra,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Uf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&zf.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=Wr(r,T);f.props=R;var z=f.context,K=r.contextType;p=Ra,typeof K=="object"&&K!==null&&(p=$t(K));var Q=r.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Zg(n,f,l,p),Ls=!1;var P=n.memoizedState;f.state=P,Zl(n,l,f,h),Jl(),z=n.memoizedState,T||P!==z||Ls?(typeof Q=="function"&&(Uf(n,r,Q,l),z=n.memoizedState),(R=Ls||Jg(n,r,R,l,P,z,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),p=n.memoizedProps,K=Wr(r,p),f.props=K,Q=n.pendingProps,P=f.context,z=r.contextType,R=Ra,typeof z=="object"&&z!==null&&(R=$t(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&Zg(n,f,l,R),Ls=!1,P=n.memoizedState,f.state=P,Zl(n,l,f,h),Jl();var H=n.memoizedState;p!==Q||P!==H||Ls||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof T=="function"&&(Uf(n,r,T,l),H=n.memoizedState),(K=Ls||Jg(n,r,K,l,P,H,R)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,rc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,r,h)):Wt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ts(t,n,h),t}function my(t,n,r,l){return Hr(),n.flags|=256,Wt(t,n,r,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ig()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function py(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Ps(n):Bs(),(t=ft)?(t=S0(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=Qp(t),r.return=n,n.child=r,Xt=n,ft=null)):t=null,t===null)throw Vs(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Bs(),h=n.mode,T=ac({mode:"hidden",children:T},h),l=qr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Ff(r),l.childLanes=Gf(t,p,r),n.memoizedState=Hf,so(null,l)):(Ps(n),Kf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Yf(t,n,r)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),T=l.fallback,h=n.mode,l=ac({mode:"visible",children:l.children},h),T=qr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Xr(n,t.child,null,r),l=n.child,l.memoizedState=Ff(r),l.childLanes=Gf(t,p,r),n.memoizedState=Hf,n=so(null,l));else if(Ps(n),Rd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Kl({value:l,source:null,stack:null}),n=Yf(t,n,r)}else if(Vt||Da(t,n,r,!1),p=(r&t.childLanes)!==0,Vt||p){if(p=ct,p!==null&&(l=wl(p,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Br(t,l),yn(p,t,l),Bf;xd(T)||pc(),n=Yf(t,n,r)}else xd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ft=Yn(T.nextSibling),Xt=n,Fe=!0,ks=null,Gn=!1,t!==null&&Wp(n,t),n=Kf(n,l.children),n.flags|=4096);return n}return h?(Bs(),T=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=Xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=Xi(z,T):(T=qr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,so(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Ff(r):(h=T.cachePool,h!==null?(R=Mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ig(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Gf(t,p,r),n.memoizedState=Hf,so(t.child,l)):(Ps(n),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Kf(t,n){return n=ac({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ac(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function Yf(t,n,r){return Xr(n,t.child,null,r),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,r)}function Qf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function yy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=xt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,te(xt,p),Wt(t,n,l,r),l=Fe?Gl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,r,n);else if(t.tag===19)gy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,l);break;case"together":Qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Fs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Da(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Xi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function zT(t,n,r){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),js(n,Mt,t.memoizedState.cache),Hr();break;case 27:case 5:mi(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?py(t,n,r):(Ps(n),t=ts(t,n,r),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Da(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return yy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(xt,xt.current),l)break;return null;case 22:return n.lanes=0,uy(t,n,r,n.pendingProps);case 24:js(n,Mt,t.memoizedState.cache)}return ts(t,n,r)}function _y(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Xf(t,r)&&(n.flags&128)===0)return Vt=!1,zT(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(n.flags&1048576)!==0&&$p(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=Wr(t,l),n.tag=1,n=dy(null,n,t,l,r)):(n.tag=0,n=qf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=ay(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=ly(null,n,t,l,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Wr(l,n.pendingProps),dy(t,n,l,h,r);case 3:e:{if(St(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),Zl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,js(n,Mt,l),l!==f.cache&&uf(n,[Mt],r,!0),Jl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,l,r);break e}else if(l!==h){h=qn(Error(a(424)),n),Kl(h),n=my(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Yn(t.firstChild),Xt=n,Fe=!0,ks=null,Gn=!0,r=ug(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),l===h){n=ts(t,n,r);break e}Wt(t,n,l,r)}n=n.child}return n;case 26:return rc(t,n),t===null?(r=I0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Fe||(r=n.type,t=n.pendingProps,l=bc(Ne.current).createElement(r),l[Nt]=n,l[Ht]=t,Jt(l,r,t),Dt(l),n.stateNode=l):n.memoizedState=I0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return mi(n),t===null&&Fe&&(l=n.stateNode=x0(n.type,n.pendingProps,Ne.current),Xt=n,Gn=!0,h=ft,Xs(n.type)?(Cd=h,ft=Yn(l.firstChild)):ft=h),Wt(t,n,n.pendingProps.children,r),rc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=pb(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Xt=n,ft=Yn(l.firstChild),Gn=!1,h=!0):h=!1),h||Vs(n)),mi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Sd(h,f)?l=null:p!==null&&Sd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,NT,null,null,r),Eo._currentValue=h),rc(t,n),Wt(t,n,l,r),n.child;case 6:return t===null&&Fe&&((t=r=ft)&&(r=gb(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,Xt=n,ft=null,t=!0):t=!1),t||Vs(n)),null;case 13:return py(t,n,r);case 4:return St(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,r):Wt(t,n,l,r),n.child;case 11:return ay(t,n,n.type,n.pendingProps,r);case 7:return Wt(t,n,n.pendingProps,r),n.child;case 8:return Wt(t,n,n.pendingProps.children,r),n.child;case 12:return Wt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,js(n,n.type,l.value),Wt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Gr(n),h=$t(h),l=l(h),n.flags|=1,Wt(t,n,l,r),n.child;case 14:return ly(t,n,n.type,n.pendingProps,r);case 15:return oy(t,n,n.type,n.pendingProps,r);case 19:return yy(t,n,r);case 31:return UT(t,n,r);case 22:return uy(t,n,r,n.pendingProps);case 24:return Gr(n),l=$t(Mt),t===null?(h=ff(),h===null&&(h=ct,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},mf(n),js(n,Mt,h)):((t.lanes&r)!==0&&(pf(t,n),Zl(n,null,null,r),Jl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Mt,l)):(l=f.cache,js(n,Mt,l),l!==h.cache&&uf(n,[Mt],r,!0))),Wt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ns(t){t.flags|=4}function $f(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw Qr=Fu,df}else t.flags&=-16777217}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k0(n))if(Gy())t.flags|=8192;else throw Qr=Fu,df}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?du():536870912,t.lanes|=n,Ha|=n)}function ro(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function PT(t,n,r){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(Mt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Na(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(dt(n),vy(n,f)):(dt(n),$f(n,h,null,l,r))):f?f!==t.memoizedState?(ns(n),dt(n),vy(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(n),dt(n),$f(n,h,t,l,r)),null;case 27:if(Ts(n),r=Ne.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=re.current,Na(n)?Jp(n):(t=x0(h,l,r),n.stateNode=t,ns(n))}return dt(n),null;case 5:if(Ts(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=re.current,Na(n))Jp(n);else{var p=bc(Ne.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Nt]=n,f[Ht]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Jt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(n)}}return dt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ne.current,Na(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||p0(t.nodeValue,r)),t||Vs(n,!0)}else t=bc(t).createTextNode(l),t[Nt]=n,n.stateNode=t}return dt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else r=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),lc(n,n.updateQueue),dt(n),null);case 4:return ot(),t===null&&_d(n.stateNode.containerInfo),dt(n),null;case 10:return Ji(n.type),dt(n),null;case 19:if(G(xt),l=n.memoizedState,l===null)return dt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ro(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,ro(l,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Yp(r,t),r=r.sibling;return te(xt,xt.current&1|2),Fe&&$i(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&pe()>fc&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Fe)return dt(n),null}else 2*pe()-l.renderingStartTime>fc&&r!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pe(),t.sibling=null,r=xt.current,te(xt,h?r&1|2:r&1),Fe&&$i(n,l.treeForkCount),t):(dt(n),null);case 22:case 23:return Cn(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),r=n.updateQueue,r!==null&&lc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&G(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(Mt),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function BT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Mt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(xt),null;case 4:return ot(),null;case 10:return Ji(n.type),null;case 22:case 23:return Cn(n),vf(),t!==null&&G(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Mt),null;case 25:return null;default:return null}}function Ey(t,n){switch(sf(n),n.tag){case 3:Ji(Mt),ot();break;case 26:case 27:case 5:Ts(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:G(xt);break;case 10:Ji(n.type);break;case 22:case 23:Cn(n),vf(),t!==null&&G(Kr);break;case 24:Ji(Mt)}}function ao(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){nt(n,n.return,T)}}function qs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=r,z=T;try{z()}catch(K){nt(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){nt(n,n.return,K)}}function Ty(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hg(n,r)}catch(l){nt(t,t.return,l)}}}function by(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){nt(t,n,l)}}function lo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){nt(t,n,h)}}function ki(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){nt(t,n,h)}else r.current=null}function Sy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){nt(t,t.return,h)}}function Wf(t,n,r){try{var l=t.stateNode;ub(l,t.type,r,n),l[Ht]=n}catch(h){nt(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ti));else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,r),t=t.sibling;t!==null;)Zf(t,n,r),t=t.sibling}function oc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oc(t,n,r),t=t.sibling;t!==null;)oc(t,n,r),t=t.sibling}function wy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,l,r),n[Nt]=t,n[Ht]=r}catch(f){nt(t,t.return,f)}}var is=!1,jt=!1,ed=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function qT(t,n){if(t=t.containerInfo,Td=Ic,t=Up(t),Kh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,R=-1,z=0,K=0,Q=t,P=null;t:for(;;){for(var H;Q!==r||h!==0&&Q.nodeType!==3||(T=p+h),Q!==f||l!==0&&Q.nodeType!==3||(R=p+l),Q.nodeType===3&&(p+=Q.nodeValue.length),(H=Q.firstChild)!==null;)P=Q,Q=H;for(;;){if(Q===t)break t;if(P===r&&++z===h&&(T=p),P===f&&++K===l&&(R=p),(H=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=H}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:t,selectionRange:r},Ic=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=Wr(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){nt(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Ry(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rs(t,r),l&4&&ao(5,r);break;case 1:if(rs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){nt(r,r.return,p)}else{var h=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){nt(r,r.return,p)}}l&64&&Ty(r),l&512&&lo(r,r.return);break;case 3:if(rs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hg(t,n)}catch(p){nt(r,r.return,p)}}break;case 27:n===null&&l&4&&wy(r);case 26:case 5:rs(t,r),n===null&&l&4&&Sy(r),l&512&&lo(r,r.return);break;case 12:rs(t,r);break;case 31:rs(t,r),l&4&&Ny(t,r);break;case 13:rs(t,r),l&4&&Dy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=WT.bind(null,r),yb(t,r))));break;case 22:if(l=r.memoizedState!==null||is,!l){n=n!==null&&n.memoizedState!==null||jt,h=is;var f=jt;is=l,(jt=n)&&!f?as(t,r,(r.subtreeFlags&8772)!==0):rs(t,r),is=h,jt=f}break;case 30:break;default:rs(t,r)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,dn=!1;function ss(t,n,r){for(r=r.child;r!==null;)Iy(t,n,r),r=r.sibling}function Iy(t,n,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Wn,r)}catch{}switch(r.tag){case 26:jt||ki(r,n),ss(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||ki(r,n);var l=_t,h=dn;Xs(r.type)&&(_t=r.stateNode,dn=!1),ss(t,n,r),yo(r.stateNode),_t=l,dn=h;break;case 5:jt||ki(r,n);case 6:if(l=_t,h=dn,_t=null,ss(t,n,r),_t=l,dn=h,_t!==null)if(dn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(r.stateNode)}catch(f){nt(r,n,f)}else try{_t.removeChild(r.stateNode)}catch(f){nt(r,n,f)}break;case 18:_t!==null&&(dn?(t=_t,T0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):T0(_t,r.stateNode));break;case 4:l=_t,h=dn,_t=r.stateNode.containerInfo,dn=!0,ss(t,n,r),_t=l,dn=h;break;case 0:case 11:case 14:case 15:qs(2,r,n),jt||qs(4,r,n),ss(t,n,r);break;case 1:jt||(ki(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&by(r,n,l)),ss(t,n,r);break;case 21:ss(t,n,r);break;case 22:jt=(l=jt)||r.memoizedState!==null,ss(t,n,r),jt=l;break;default:ss(t,n,r)}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){nt(n,n.return,r)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){nt(n,n.return,r)}}function HT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(a(435,t.tag))}}function uc(t,n){var r=HT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=JT.bind(null,t,l);l.then(h,h)}})}function mn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){_t=T.stateNode,dn=!1;break e}break;case 5:_t=T.stateNode,dn=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(_t===null)throw Error(a(160));Iy(f,p,h),_t=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var li=null;function Oy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),pn(t),l&4&&(qs(3,t,t.return),ao(3,t),qs(5,t,t.return));break;case 1:mn(n,t),pn(t),l&512&&(jt||r===null||ki(r,r.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=li;if(mn(n,t),pn(t),l&512&&(jt||r===null||ki(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,l,r),f[Nt]=t,Dt(f),l=f;break e;case"link":var p=O0("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=O0("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Nt]=t,Dt(f),l=f}t.stateNode=l}else M0(h,t.type,t.stateNode);else t.stateNode=D0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?M0(h,t.type,t.stateNode):D0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(n,t),pn(t),l&512&&(jt||r===null||ki(r,r.return)),r!==null&&l&4&&Wf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,t),pn(t),l&512&&(jt||r===null||ki(r,r.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(ce){nt(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(mn(n,t),pn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){nt(t,t.return,ce)}}break;case 3:if(wc=null,h=li,li=Sc(n.containerInfo),mn(n,t),li=h,pn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ce){nt(t,t.return,ce)}ed&&(ed=!1,My(t));break;case 4:l=li,li=Sc(t.stateNode.containerInfo),mn(n,t),pn(t),li=l;break;case 12:mn(n,t),pn(t);break;case 31:mn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 13:mn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(hc=pe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=is,K=jt;if(is=z||h,jt=K||R,mn(n,t),jt=K,is=z,pn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||is||jt||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ce){nt(R,R.return,ce)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){nt(R,R.return,ce)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?b0(H,!0):b0(R.stateNode,!1)}catch(ce){nt(R,R.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,uc(t,r))));break;case 19:mn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 30:break;case 21:break;default:mn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ay(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Jf(t);oc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(fn(p,""),r.flags&=-33);var T=Jf(t);oc(t,T,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Jf(t);Zf(t,z,R);break;default:throw Error(a(161))}}catch(K){nt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Jr(n);break;case 1:ki(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&by(n,n.return,r),Jr(n);break;case 27:yo(n.stateNode);case 26:case 5:ki(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function as(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,r),ao(4,f);break;case 1:if(as(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){nt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)cg(R[h],T)}catch(z){nt(l,l.return,z)}}r&&p&64&&Ty(f),lo(f,f.return);break;case 27:wy(f);case 26:case 5:as(h,f,r),r&&l===null&&p&4&&Sy(f),lo(f,f.return);break;case 12:as(h,f,r);break;case 31:as(h,f,r),r&&p&4&&Ny(h,f);break;case 13:as(h,f,r),r&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&as(h,f,r),lo(f,f.return);break;case 30:break;default:as(h,f,r)}n=n.sibling}}function td(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yl(r))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function oi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,r,l),n=n.sibling}function ky(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,r,l),h&2048&&ao(9,n);break;case 1:oi(t,n,r,l);break;case 3:oi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){oi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){nt(n,n.return,R)}}else oi(t,n,r,l);break;case 31:oi(t,n,r,l);break;case 13:oi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,r,l):oo(t,n):f._visibility&2?oi(t,n,r,l):(f._visibility|=2,Pa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(p,n);break;case 24:oi(t,n,r,l),h&2048&&nd(n.alternate,n);break;default:oi(t,n,r,l)}}function Pa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,R=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(f,p,T,R,h),ao(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Pa(f,p,T,R,h):oo(f,p):(K._visibility|=2,Pa(f,p,T,R,h)),h&&z&2048&&td(p.alternate,p);break;case 24:Pa(f,p,T,R,h),h&&z&2048&&nd(p.alternate,p);break;default:Pa(f,p,T,R,h)}n=n.sibling}}function oo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:oo(r,l),h&2048&&td(l.alternate,l);break;case 24:oo(r,l),h&2048&&nd(l.alternate,l);break;default:oo(r,l)}n=n.sibling}}var uo=8192;function Ba(t,n,r){if(t.subtreeFlags&uo)for(t=t.child;t!==null;)Vy(t,n,r),t=t.sibling}function Vy(t,n,r){switch(t.tag){case 26:Ba(t,n,r),t.flags&uo&&t.memoizedState!==null&&Ib(r,li,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,r);break;case 3:case 4:var l=li;li=Sc(t.stateNode.containerInfo),Ba(t,n,r),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=uo,uo=16777216,Ba(t,n,r),uo=l):Ba(t,n,r));break;default:Ba(t,n,r)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,Uy(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:co(t),t.flags&2048&&qs(9,t,t.return);break;case 3:co(t);break;case 12:co(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cc(t)):co(t);break;default:co(t)}}function cc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,Uy(l,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),cc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cc(n));break;default:cc(n)}t=t.sibling}}function Uy(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Gt=l;else e:for(r=t;Gt!==null;){l=Gt;var h=l.sibling,f=l.return;if(Cy(l),l===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var FT={getCacheForType:function(t){var n=$t(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $t(Mt).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,ke=null,Ue=0,tt=0,In=null,Hs=!1,qa=!1,id=!1,ls=0,bt=0,Fs=0,Zr=0,sd=0,Nn=0,Ha=0,ho=null,gn=null,rd=!1,hc=0,zy=0,fc=1/0,dc=null,Gs=null,Pt=0,Ks=null,Fa=null,os=0,ad=0,ld=null,Py=null,fo=0,od=null;function Dn(){return(We&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?md():mu()}function By(){if(Nn===0)if((Ue&536870912)===0||Fe){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function yn(t,n,r){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Ys(t,Ue,Nn,!1)),Rr(t,r),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(Zr|=r),bt===4&&Ys(t,Ue,Nn,!1)),Vi(t))}function qy(t,n,r){if((We&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Jn(t,n),h=l?QT(t,n):cd(t,n,!0),f=l;do{if(h===0){qa&&!l&&Ys(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!KT(r)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=ho;var R=T.current.memoizedState.isDehydrated;if(R&&(Ga(T,p).flags|=256),p=cd(T,p,!1),p!==2){if(id&&!R){T.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),Ys(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(l,n,Nn,!Hs);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=hc+300-pe(),10<h)){if(Ys(l,n,Nn,!Hs),yi(l,0,!0)!==0)break e;os=n,l.timeoutHandle=v0(Hy.bind(null,l,r,gn,dc,rd,n,Nn,Zr,Ha,Hs,f,"Throttled",-0,0),h);break e}Hy(l,r,gn,dc,rd,n,Nn,Zr,Ha,Hs,f,null,-0,0)}}break}while(!0);Vi(t)}function Hy(t,n,r,l,h,f,p,T,R,z,K,Q,P,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Vy(n,f,Q);var ce=(f&62914560)===f?hc-pe():(f&4194048)===f?zy-pe():0;if(ce=Nb(Q,ce),ce!==null){os=f,t.cancelPendingCommit=ce(Wy.bind(null,t,n,f,r,l,h,p,T,R,K,Q,null,P,H)),Ys(t,f,p,!z);return}}Wy(t,n,f,r,l,h,p,T,R)}function KT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,r,l){n&=~sd,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Cr(t,r,n)}function mc(){return(We&6)===0?(mo(0),!1):!0}function ud(){if(ke!==null){if(tt===0)var t=ke.return;else t=ke,Wi=Fr=null,wf(t),Va=null,Xl=0,t=ke;for(;t!==null;)Ey(t.alternate,t),t=t.return;ke=null}}function Ga(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,fb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),os=0,ud(),ct=t,ke=r=Xi(t.current,null),Ue=n,tt=0,In=null,Hs=!1,qa=Jn(t,n),id=!1,Ha=Nn=sd=Zr=Fs=bt=0,gn=ho=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-At(l),f=1<<h;n|=t[h],l&=~f}return ls=n,Vu(),r}function Fy(t,n){Oe=null,F.H=io,n===ka||n===Hu?(n=ag(),tt=3):n===df?(n=ag(),tt=4):tt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,ke===null&&(bt=1,ic(t,qn(n,t.current)))}function Gy(){var t=Rn.current;return t===null?!0:(Ue&4194048)===Ue?Kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Kn:!1}function Ky(){var t=F.H;return F.H=io,t===null?io:t}function Yy(){var t=F.A;return F.A=FT,t}function pc(){bt=4,Hs||(Ue&4194048)!==Ue&&Rn.current!==null||(qa=!0),(Fs&134217727)===0&&(Zr&134217727)===0||ct===null||Ys(ct,Ue,Nn,!1)}function cd(t,n,r){var l=We;We|=2;var h=Ky(),f=Yy();(ct!==t||Ue!==n)&&(dc=null,Ga(t,n)),n=!1;var p=bt;e:do try{if(tt!==0&&ke!==null){var T=ke,R=In;switch(tt){case 8:ud(),p=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=tt;if(tt=0,In=null,Ka(t,T,R,z),r&&qa){p=0;break e}break;default:z=tt,tt=0,In=null,Ka(t,T,R,z)}}YT(),p=bt;break}catch(K){Fy(t,K)}while(!0);return n&&t.shellSuspendCounter++,Wi=Fr=null,We=l,F.H=h,F.A=f,ke===null&&(ct=null,Ue=0,Vu()),p}function YT(){for(;ke!==null;)Qy(ke)}function QT(t,n){var r=We;We|=2;var l=Ky(),h=Yy();ct!==t||Ue!==n?(dc=null,fc=pe()+500,Ga(t,n)):qa=Jn(t,n);e:do try{if(tt!==0&&ke!==null){n=ke;var f=In;t:switch(tt){case 1:tt=0,In=null,Ka(t,n,f,1);break;case 2:case 9:if(sg(f)){tt=0,In=null,Xy(n);break}n=function(){tt!==2&&tt!==9||ct!==t||(tt=7),Vi(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:sg(f)?(tt=0,In=null,Xy(n)):(tt=0,In=null,Ka(t,n,f,7));break;case 5:var p=null;switch(ke.tag){case 26:p=ke.memoizedState;case 5:case 27:var T=ke;if(p?k0(p):T.stateNode.complete){tt=0,In=null;var R=T.sibling;if(R!==null)ke=R;else{var z=T.return;z!==null?(ke=z,gc(z)):ke=null}break t}}tt=0,In=null,Ka(t,n,f,5);break;case 6:tt=0,In=null,Ka(t,n,f,6);break;case 8:ud(),bt=6;break e;default:throw Error(a(462))}}XT();break}catch(K){Fy(t,K)}while(!0);return Wi=Fr=null,F.H=l,F.A=h,We=r,ke!==null?0:(ct=null,Ue=0,Vu(),bt)}function XT(){for(;ke!==null&&!J();)Qy(ke)}function Qy(t){var n=_y(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?gc(t):ke=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fy(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=fy(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:wf(n);default:Ey(r,n),n=ke=Yp(n,ls),n=_y(r,n,ls)}t.memoizedProps=t.pendingProps,n===null?gc(t):ke=n}function Ka(t,n,r,l){Wi=Fr=null,wf(n),Va=null,Xl=0;var h=n.return;try{if(LT(t,h,n,r,Ue)){bt=1,ic(t,qn(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;bt=1,ic(t,qn(r,t.current)),ke=null;return}n.flags&32768?(Fe||l===1?t=!0:qa||(Ue&536870912)!==0?t=!1:(Hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(n,t)):gc(n)}function gc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,Hs);return}t=n.return;var r=PT(n.alternate,n,ls);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);bt===0&&(bt=5)}function $y(t,n){do{var r=BT(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);bt=6,ke=null}function Wy(t,n,r,l,h,f,p,T,R){t.cancelPendingCommit=null;do yc();while(Pt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Wh,qh(t,r,f,p,T,R),t===ct&&(ke=ct=null,Ue=0),Fa=n,Ks=t,os=r,ad=f,ld=h,Py=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZT(bn,function(){return n0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=Z.p,Z.p=2,p=We,We|=4;try{qT(t,n,r)}finally{We=p,Z.p=h,F.T=l}}Pt=1,Jy(),Zy(),e0()}}function Jy(){if(Pt===1){Pt=0;var t=Ks,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=Z.p;Z.p=2;var h=We;We|=4;try{Oy(n,t);var f=bd,p=Up(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(R!==null&&Kh(T)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var Q=T.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var H=P.getSelection(),ce=T.textContent.length,_e=Math.min(R.start,ce),at=R.end===void 0?_e:Math.min(R.end,ce);!H.extend&&_e>at&&(p=at,at=_e,_e=p);var V=jp(T,_e),M=jp(T,at);if(V&&M&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),_e>at?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ic=!!Td,bd=Td=null}finally{We=h,Z.p=l,F.T=r}}t.current=n,Pt=2}}function Zy(){if(Pt===2){Pt=0;var t=Ks,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=Z.p;Z.p=2;var h=We;We|=4;try{Ry(t,n.alternate,n)}finally{We=h,Z.p=l,F.T=r}}Pt=3}}function e0(){if(Pt===4||Pt===3){Pt=0,Te();var t=Ks,n=Fa,r=os,l=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,Fa=Ks=null,t0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Gi(r),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=Z.p,Z.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,Z.p=h}}(os&3)!==0&&yc(),Vi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===od?fo++:(fo=0,od=t):fo=0,mo(0)}}function t0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function yc(){return Jy(),Zy(),e0(),n0()}function n0(){if(Pt!==5)return!1;var t=Ks,n=ad;ad=0;var r=Gi(os),l=F.T,h=Z.p;try{Z.p=32>r?32:r,F.T=null,r=ld,ld=null;var f=Ks,p=os;if(Pt=0,Fa=Ks=null,os=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,Ly(f.current),ky(f,f.current,p,r),We=T,mo(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{Z.p=h,F.T=l,t0(t,n)}}function i0(t,n,r){n=qn(r,n),n=Pf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(Rr(t,2),Vi(t))}function nt(t,n,r){if(t.tag===3)i0(t,t,r);else for(;n!==null;){if(n.tag===3){i0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){t=qn(r,t),r=sy(2),l=zs(n,r,2),l!==null&&(ry(r,l,n,t),Rr(l,2),Vi(l));break}}n=n.return}}function hd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new GT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(id=!0,h.add(r),t=$T.bind(null,t,n,r),n.then(t,t))}function $T(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Ue&r)===r&&(bt===4||bt===3&&(Ue&62914560)===Ue&&300>pe()-hc?(We&2)===0&&Ga(t,0):sd|=r,Ha===Ue&&(Ha=0)),Vi(t)}function s0(t,n){n===0&&(n=du()),t=Br(t,n),t!==null&&(Rr(t,n),Vi(t))}function WT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),s0(t,r)}function JT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),s0(t,r)}function ZT(t,n){return ue(t,n)}var _c=null,Ya=null,fd=!1,vc=!1,dd=!1,Qs=0;function Vi(t){t!==Ya&&t.next===null&&(Ya===null?_c=Ya=t:Ya=Ya.next=t),vc=!0,fd||(fd=!0,tb())}function mo(t,n){if(!dd&&vc){dd=!0;do for(var r=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,o0(l,f))}else f=Ue,f=yi(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Jn(l,f)||(r=!0,o0(l,f));l=l.next}while(r);dd=!1}}function eb(){r0()}function r0(){vc=fd=!1;var t=0;Qs!==0&&hb()&&(t=Qs);for(var n=pe(),r=null,l=_c;l!==null;){var h=l.next,f=a0(l,n);f===0?(l.next=null,r===null?_c=h:r.next=h,h===null&&(Ya=r)):(r=l,(t!==0||(f&3)!==0)&&(vc=!0)),l=h}Pt!==0&&Pt!==5||mo(t),Qs!==0&&(Qs=0)}function a0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-At(f),T=1<<p,R=h[p];R===-1?((T&r)===0||(T&l)!==0)&&(h[p]=Bh(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=ct,r=Ue,r=yi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ae(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Jn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ae(l),Gi(r)){case 2:case 8:r=wr;break;case 32:r=bn;break;case 268435456:r=ou;break;default:r=bn}return l=l0.bind(null,t),r=ue(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ae(l),t.callbackPriority=2,t.callbackNode=null,2}function l0(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(yc()&&t.callbackNode!==r)return null;var l=Ue;return l=yi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qy(t,l,n),a0(t,pe()),t.callbackNode!=null&&t.callbackNode===r?l0.bind(null,t):null)}function o0(t,n){if(yc())return null;qy(t,n,!0)}function tb(){db(function(){(We&6)!==0?ue(ut,eb):r0()})}function md(){if(Qs===0){var t=Oa;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Qs=t}return Qs}function u0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function c0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function nb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=u0((h[Ht]||null).action),p=l.submitter;p&&(n=(n=p[Ht]||null)?u0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ci("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var R=p?c0(h,p):new FormData(h);kf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?c0(h,p):new FormData(h),kf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],ib=gd.toLowerCase(),sb=gd[0].toUpperCase()+gd.slice(1);ai(ib,"on"+sb)}ai(Bp,"onAnimationEnd"),ai(qp,"onAnimationIteration"),ai(Hp,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(ET,"onTransitionRun"),ai(TT,"onTransitionStart"),ai(bT,"onTransitionCancel"),ai(Fp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function h0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(K){ku(K)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(T=l[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(K){ku(K)}h.currentTarget=null,f=R}}}}function Ve(t,n){var r=n[fa];r===void 0&&(r=n[fa]=new Set);var l=t+"__bubble";r.has(l)||(f0(n,t,2,!1),r.add(l))}function yd(t,n,r){var l=0;n&&(l|=4),f0(r,t,l,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Ec]){t[Ec]=!0,xl.forEach(function(r){r!=="selectionchange"&&(rb.has(r)||yd(r,!1,t),yd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,yd("selectionchange",!1,n))}}function f0(t,n,r,l){switch(B0(n)){case 2:var h=Mb;break;case 8:h=kb;break;default:h=Md}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function vd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ti(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue e}T=T.parentNode}}l=l.return}Is(function(){var z=f,K=Un(r),Q=[];e:{var P=Gp.get(t);if(P!==void 0){var H=Ci,ce=t;switch(t){case"keypress":if(Vr(r)===0)break e;case"keydown":case"keyup":H=Du;break;case"focusin":ce="focus",H=Lr;break;case"focusout":ce="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bp:case qp:case Hp:H=Au;break;case Fp:H=S;break;case"scroll":case"scrollend":H=Ul;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qi;break;case"toggle":case"beforetoggle":H=De}var _e=(n&4)!==0,at=!_e&&(t==="scroll"||t==="scrollend"),V=_e?P!==null?P+"Capture":null:P;_e=[];for(var M=z,U;M!==null;){var Y=M;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=ni(M,V),Y!=null&&_e.push(go(M,Y,U))),at)break;M=M.return}0<_e.length&&(P=new H(P,ce,null,r,K),Q.push({event:P,listeners:_e}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&r!==Vl&&(ce=r.relatedTarget||r.fromElement)&&(Ti(ce)||ce[vi]))break e;if((H||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=z,ce=ce?Ti(ce):null,ce!==null&&(at=c(ce),_e=ce.tag,ce!==at||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(H=null,ce=z),H!==ce)){if(_e=zl,Y="onMouseLeave",V="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qi,Y="onPointerLeave",V="onPointerEnter",M="pointer"),at=H==null?P:Sn(H),U=ce==null?P:Sn(ce),P=new _e(Y,M+"leave",H,r,K),P.target=at,P.relatedTarget=U,Y=null,Ti(K)===z&&(_e=new _e(V,M+"enter",ce,r,K),_e.target=U,_e.relatedTarget=at,Y=_e),at=Y,H&&ce)t:{for(_e=ab,V=H,M=ce,U=0,Y=V;Y;Y=_e(Y))U++;Y=0;for(var me=M;me;me=_e(me))Y++;for(;0<U-Y;)V=_e(V),U--;for(;0<Y-U;)M=_e(M),Y--;for(;U--;){if(V===M||M!==null&&V===M.alternate){_e=V;break t}V=_e(V),M=_e(M)}_e=null}else _e=null;H!==null&&d0(Q,P,H,_e,!1),ce!==null&&at!==null&&d0(Q,at,ce,_e,!0)}}e:{if(P=z?Sn(z):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Ke=Np;else if(Cp(P))if(Dp)Ke=yT;else{Ke=pT;var he=mT}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&ga(z.elementType)&&(Ke=Np):Ke=gT;if(Ke&&(Ke=Ke(t,z))){Ip(Q,Ke,r,K);break e}he&&he(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Ol(P,"number",P.value)}switch(he=z?Sn(z):window,t){case"focusin":(Cp(he)||he.contentEditable==="true")&&(Aa=he,Yh=z,Fl=null);break;case"focusout":Fl=Yh=Aa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,zp(Q,r,K);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":zp(Q,r,K)}var Me;if($e)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Sa?Ur(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Di&&r.locale!=="ko"&&(Sa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Sa&&(Me=Ll()):(Ri=K,jl="value"in Ri?Ri.value:Ri.textContent,Sa=!0)),he=Tc(z,ze),0<he.length&&(ze=new Ni(ze,t,null,r,K),Q.push({event:ze,listeners:he}),Me?ze.data=Me:(Me=ba(r),Me!==null&&(ze.data=Me)))),(Me=Pn?cT(t,r):hT(t,r))&&(ze=Tc(z,"onBeforeInput"),0<ze.length&&(he=new Ni("onBeforeInput","beforeinput",null,r,K),Q.push({event:he,listeners:ze}),he.data=Me)),nb(Q,t,z,r,K)}h0(Q,n)})}function go(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,r),h!=null&&l.unshift(go(t,h,f)),h=ni(t,n),h!=null&&l.push(go(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ab(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=ni(r,f),z!=null&&p.unshift(go(r,z,R))):h||(z=ni(r,f),z!=null&&p.push(go(r,z,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var lb=/\r\n?/g,ob=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(lb,`
`).replace(ob,"")}function p0(t,n){return n=m0(n),m0(t)===n}function rt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,r,l);break;case"style":kl(t,l,f);break;case"data":if(n!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tu.get(r)||r,ma(t,r,l))}}function Ed(t,n,r,l,h,f){switch(r){case"style":kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Ht]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ma(t,r,l)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,p,r,null)}}h&&rt(t,n,"srcSet",r.srcSet,r,null),l&&rt(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var T=f=p=h=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:rt(t,n,l,K,r,null)}}_u(t,f,T,R,z,p,h,!1);return;case"select":Ve("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:rt(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ws(t,!!l,n,!1):r!=null&&ws(t,!!l,r,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,n,p,T,r,null)}xs(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,n,R,l,r,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<po.length;l++)Ve(po[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,z,l,r,null)}return;default:if(ga(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&Ed(t,n,K,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&rt(t,n,T,l,r,null))}function ub(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,K=null;for(H in r){var Q=r[H];if(r.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(H)||rt(t,n,H,null,l,Q)}}for(var P in l){var H=l[P];if(Q=r[P],l.hasOwnProperty(P)&&(H!=null||Q!=null))switch(P){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Q&&rt(t,n,P,H,l,Q)}}pa(t,p,T,R,z,K,f,h);return;case"select":H=p=T=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&rt(t,n,h,f,l,R)}n=T,r=p,l=H,P!=null?ws(t,!!r,P,!1):!!l!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":H=P=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,p,h,l,f)}vu(t,P,H);return;case"option":for(var ce in r)P=r[ce],r.hasOwnProperty(ce)&&P!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:rt(t,n,ce,null,l,P));for(R in l)P=l[R],H=r[R],l.hasOwnProperty(R)&&P!==H&&(P!=null||H!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":rt(t,n,R,P,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)P=r[_e],r.hasOwnProperty(_e)&&P!=null&&!l.hasOwnProperty(_e)&&rt(t,n,_e,null,l,P);for(z in l)if(P=l[z],H=r[z],l.hasOwnProperty(z)&&P!==H&&(P!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:rt(t,n,z,P,l,H)}return;default:if(ga(n)){for(var at in r)P=r[at],r.hasOwnProperty(at)&&P!==void 0&&!l.hasOwnProperty(at)&&Ed(t,n,at,void 0,l,P);for(K in l)P=l[K],H=r[K],!l.hasOwnProperty(K)||P===H||P===void 0&&H===void 0||Ed(t,n,K,P,l,H);return}}for(var V in r)P=r[V],r.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&rt(t,n,V,null,l,P);for(Q in l)P=l[Q],H=r[Q],!l.hasOwnProperty(Q)||P===H||P==null&&H==null||rt(t,n,Q,P,l,H)}function g0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&g0(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],z=R.startTime;if(z>T)break;var K=R.transferSize,Q=R.initiatorType;K&&g0(Q)&&(R=R.responseEnd,p+=K*(R<T?1:(T-z)/(R-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,bd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function y0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function hb(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(mb)}:v0;function mb(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function T0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Wa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")yo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,yo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&yo(t.ownerDocument.body);r=h}while(r);Wa(n)}function b0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),da(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function gb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function S0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function A0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function w0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function x0(t,n,r){switch(n=bc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Qn=new Map,R0=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=Z.d;Z.d={f:_b,r:vb,D:Eb,C:Tb,L:bb,m:Sb,X:wb,S:Ab,M:xb};function _b(){var t=us.f(),n=mc();return t||n}function vb(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Fg(n):us.r(t)}var Qa=typeof document>"u"?null:document;function C0(t,n,r){var l=Qa;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),R0.has(h)||(R0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Jt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function Eb(t){us.D(t),C0("dns-prefetch",t,null)}function Tb(t,n){us.C(t,n),C0("preconnect",t,n)}function bb(t,n,r){us.L(t,n,r);var l=Qa;if(l&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Qn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(_o(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),Jt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function Sb(t,n){us.m(t,n);var r=Qa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Qn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Qn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vo(f)))return}l=r.createElement("link"),Jt(l,"link",t),Dt(l),r.head.appendChild(l)}}}function Ab(t,n,r){us.S(t,n,r);var l=Qa;if(l&&t){var h=bi(l).hoistableStyles,f=Xa(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(_o(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Qn.get(f))&&Id(t,r);var R=p=l.createElement("link");Dt(R),Jt(R,"link",t),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function wb(t,n){us.X(t,n);var r=Qa;if(r&&t){var l=bi(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(vo(h)),f||(t=A({src:t,async:!0},n),(n=Qn.get(h))&&Nd(t,n),f=r.createElement("script"),Dt(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xb(t,n){us.M(t,n);var r=Qa;if(r&&t){var l=bi(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(vo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&Nd(t,n),f=r.createElement("script"),Dt(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function I0(t,n,r,l){var h=(h=Ne.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xa(r.href),r=bi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xa(r.href);var f=bi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(_o(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(t,r),f||Rb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(r),r=bi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xa(t){return'href="'+hn(t)+'"'}function _o(t){return'link[rel="stylesheet"]['+t+"]"}function N0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Rb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",r),Dt(n),t.head.appendChild(n))}function $a(t){return'[src="'+hn(t)+'"]'}function vo(t){return"script[async]"+t}function D0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),Jt(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=Xa(r.href);var f=t.querySelector(_o(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;l=N0(r),(h=Qn.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Jt(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=$a(r.src),(h=t.querySelector(vo(f)))?(n.instance=h,Dt(h),h):(l=r,(h=Qn.get(f))&&(l=A({},r),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Jt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function O0(t,n,r){if(wc===null){var l=new Map,h=wc=new Map;h.set(r,l)}else h=wc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ei]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function M0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Cb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function k0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ib(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(l.href),f=n.querySelector(_o(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Dt(f);return}f=n.ownerDocument||n,l=N0(l),(h=Qn.get(h))&&Id(l,h),f=f.createElement("link"),Dt(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Jt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=xc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function Nb(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*cb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(Db,t),Rc=null,xc.call(t))}function Db(t,n){if(!(n.state.loading&4)){var r=Rc.get(t);if(r)var l=r.get(null);else{r=new Map,Rc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Eo={$$typeof:Se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Ob(t,n,r,l,h,f,p,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V0(t,n,r,l,h,f,p,T,R,z,K,Q){return t=new Ob(t,n,r,p,R,z,K,Q,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},mf(f),t}function j0(t){return t?(t=Ra,t):Ra}function L0(t,n,r,l,h,f){h=j0(h),l.context===null?l.context=h:l.pendingContext=h,l=Us(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=zs(t,l,n),r!==null&&(yn(r,t,n),Wl(r,t,n))}function U0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Od(t,n){U0(t,n),(t=t.alternate)&&U0(t,n)}function z0(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&yn(n,t,67108864),Od(t,67108864)}}function P0(t){if(t.tag===13||t.tag===31){var n=Dn();n=Ir(n);var r=Br(t,n);r!==null&&yn(r,t,n),Od(t,n)}}var Ic=!0;function Mb(t,n,r,l){var h=F.T;F.T=null;var f=Z.p;try{Z.p=2,Md(t,n,r,l)}finally{Z.p=f,F.T=h}}function kb(t,n,r,l){var h=F.T;F.T=null;var f=Z.p;try{Z.p=8,Md(t,n,r,l)}finally{Z.p=f,F.T=h}}function Md(t,n,r,l){if(Ic){var h=kd(l);if(h===null)vd(t,n,l,Nc,r),q0(t,l);else if(jb(h,t,n,r,l))l.stopPropagation();else if(q0(t,l),n&4&&-1<Vb.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=gi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-At(p);T.entanglements[1]|=R,p&=~R}Vi(f),(We&6)===0&&(fc=pe()+500,mo(0))}}break;case 31:case 13:T=Br(f,2),T!==null&&yn(T,f,2),mc(),Od(f,2)}if(f=kd(l),f===null&&vd(t,n,l,Nc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,r)}}function kd(t){return t=Un(t),Vd(t)}var Nc=null;function Vd(t){if(Nc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nc=t,null}function B0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case ut:return 2;case wr:return 8;case bn:case Ph:return 32;case ou:return 268435456;default:return 32}default:return 32}}var jd=!1,$s=null,Ws=null,Js=null,To=new Map,bo=new Map,Zs=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function So(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&z0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function jb(t,n,r,l,h){switch(n){case"focusin":return $s=So($s,t,n,r,l,h),!0;case"dragenter":return Ws=So(Ws,t,n,r,l,h),!0;case"mouseover":return Js=So(Js,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return To.set(f,So(To.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,So(bo.get(f)||null,t,n,r,l,h)),!0}return!1}function H0(t){var n=Ti(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Zn(t.priority,function(){P0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Zn(t.priority,function(){P0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Vl=l,r.target.dispatchEvent(l),Vl=null}else return n=Ln(r),n!==null&&z0(n),t.blockedOn=r,!1;n.shift()}return!0}function F0(t,n,r){Dc(t)&&r.delete(n)}function Lb(){jd=!1,$s!==null&&Dc($s)&&($s=null),Ws!==null&&Dc(Ws)&&(Ws=null),Js!==null&&Dc(Js)&&(Js=null),To.forEach(F0),bo.forEach(F0)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lb)))}var Mc=null;function G0(t){Mc!==t&&(Mc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Wa(t){function n(R){return Oc(R,t)}$s!==null&&Oc($s,t),Ws!==null&&Oc(Ws,t),Js!==null&&Oc(Js,t),To.forEach(n),bo.forEach(n);for(var r=0;r<Zs.length;r++){var l=Zs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)H0(r),r.blockedOn===null&&Zs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Ht]||null;if(typeof f=="function")p||G0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ht]||null)T=p.formAction;else if(Vd(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),G0(r)}}}function K0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}kc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Dn();L0(r,l,t,n,null,null)},kc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L0(t.current,2,null,t,null,null),mc(),n[vi]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=mu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Zs.length&&n!==0&&n<Zs[r].priority;r++);Zs.splice(r,0,t),r===0&&H0(t)}};var Y0=e.version;if(Y0!=="19.2.3")throw Error(a(527,Y0,"19.2.3"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Ub={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Wn=Vc.inject(Ub),Yt=Vc}catch{}}return wo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ey,f=ty,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=V0(t,1,!1,null,null,r,l,null,h,f,p,K0),t[vi]=n.current,_d(t),new Ld(n)},wo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ey,p=ty,T=ny,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=V0(t,1,!0,n,r??null,l,h,R,f,p,T,K0),n.context=j0(null),r=n.current,l=Dn(),l=Ir(l),h=Us(l),h.callback=null,zs(r,h,l),r=l,n.current.lanes=r,Rr(n,r),Vi(n),t[vi]=n.current,_d(t),new kc(n)},wo.version="19.2.3",wo}var i_;function Qb(){if(i_)return Pd.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=Yb(),Pd.exports}var Xb=Qb();const $b=()=>{};var s_={};const Uv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Wb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(N=64)),a.push(i[E],i[A],i[N],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Uv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Wb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new Jb;const N=c<<2|g>>4;if(a.push(N),y!==64){const q=g<<4&240|y>>2;if(a.push(q),A!==64){const W=y<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zb=function(s){const e=Uv(s);return zv.encodeByteArray(e,!0)},Zc=function(s){return Zb(s).replace(/\./g,"")},Pv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tS=()=>eS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof s_>"u")return;const s=s_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Pv(s[1]);return e&&JSON.parse(e)},Eh=()=>{try{return $b()||tS()||nS()||iS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Bv=s=>Eh()?.emulatorHosts?.[s],sS=s=>{const e=Bv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},qv=()=>Eh()?.config,Hv=s=>Eh()?.[`_${s}`];class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function yl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(s){return(await fetch(s,{credentials:"include"})).ok}function aS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const Oo={};function lS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Oo))Oo[e]?s.emulator.push(e):s.prod.push(e);return s}function oS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r_=!1;function Gv(s,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Oo[s]===e||Oo[s]||r_)return;Oo[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=lS().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{r_=!0,d()},N}function E(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=oS(a),q=i("text"),W=document.getElementById(q)||document.createElement("span"),ne=i("learnmore"),ie=document.getElementById(ne)||document.createElement("a"),ye=i("preprendIcon"),Ie=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Se=N.element;g(Se),E(ie,ne);const Je=y();_(Ie,ye),Se.append(Ie,W,ie,Je),document.body.appendChild(Se)}c?(W.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function cS(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const _S="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=_S,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?vS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Es(o,g,a)}}function vS(s,e){return s.replace(ES,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ES=/\{\$([^}]+)}/g;function TS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(a_(c)&&a_(d)){if(!pr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function a_(s){return s!==null&&typeof s=="object"}function $o(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function bS(s,e){const i=new SS(s,e);return i.subscribe.bind(i)}class SS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");AS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function cn(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class wS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new rS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RS(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:xS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(s){return s===ta?void 0:s}function RS(s){return s.instantiationMode==="EAGER"}class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const IS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},NS=Pe.INFO,DS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},OS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=DS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=NS,this._logHandler=OS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const MS=(s,e)=>e.some(i=>s instanceof i);let l_,o_;function kS(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,fm=new WeakMap,Yv=new WeakMap,Gd=new WeakMap,zm=new WeakMap;function jS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ur(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),zm.set(e,s),e}function LS(s){if(fm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,e)}let dm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function US(s){dm=s(dm)}function zS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Kd(this),e,...i);return Yv.set(a,e.sort?e.sort():[e]),ur(a)}:VS().includes(s)?function(...e){return s.apply(Kd(this),e),ur(Kv.get(this))}:function(...e){return ur(s.apply(Kd(this),e))}}function PS(s){return typeof s=="function"?zS(s):(s instanceof IDBTransaction&&LS(s),MS(s,kS())?new Proxy(s,dm):s)}function ur(s){if(s instanceof IDBRequest)return jS(s);if(Gd.has(s))return Gd.get(s);const e=PS(s);return e!==s&&(Gd.set(s,e),zm.set(e,s)),e}const Kd=s=>zm.get(s);function BS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=ur(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ur(d.result),_.oldVersion,_.newVersion,ur(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Yd=new Map;function u_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=HS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Yd.set(e,c),c}US(s=>({...s,get:(e,i,a)=>u_(e,i)||s.get(e,i,a),has:(e,i)=>!!u_(e,i)||s.has(e,i)}));class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function GS(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",c_="0.14.7";const ms=new Um("@firebase/app"),KS="@firebase/app-compat",YS="@firebase/analytics-compat",QS="@firebase/analytics",XS="@firebase/app-check-compat",$S="@firebase/app-check",WS="@firebase/auth",JS="@firebase/auth-compat",ZS="@firebase/database",eA="@firebase/data-connect",tA="@firebase/database-compat",nA="@firebase/functions",iA="@firebase/functions-compat",sA="@firebase/installations",rA="@firebase/installations-compat",aA="@firebase/messaging",lA="@firebase/messaging-compat",oA="@firebase/performance",uA="@firebase/performance-compat",cA="@firebase/remote-config",hA="@firebase/remote-config-compat",fA="@firebase/storage",dA="@firebase/storage-compat",mA="@firebase/firestore",pA="@firebase/ai",gA="@firebase/firestore-compat",yA="firebase",_A="12.8.0";const pm="[DEFAULT]",vA={[mm]:"fire-core",[KS]:"fire-core-compat",[QS]:"fire-analytics",[YS]:"fire-analytics-compat",[$S]:"fire-app-check",[XS]:"fire-app-check-compat",[WS]:"fire-auth",[JS]:"fire-auth-compat",[ZS]:"fire-rtdb",[eA]:"fire-data-connect",[tA]:"fire-rtdb-compat",[nA]:"fire-fn",[iA]:"fire-fn-compat",[sA]:"fire-iid",[rA]:"fire-iid-compat",[aA]:"fire-fcm",[lA]:"fire-fcm-compat",[oA]:"fire-perf",[uA]:"fire-perf-compat",[cA]:"fire-rc",[hA]:"fire-rc-compat",[fA]:"fire-gcs",[dA]:"fire-gcs-compat",[mA]:"fire-fst",[gA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[yA]:"fire-js-all"};const eh=new Map,EA=new Map,gm=new Map;function h_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ul(s){const e=s.name;if(gm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,s);for(const i of eh.values())h_(i,s);for(const i of EA.values())h_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Xn(s){return s==null?!1:s.settings!==void 0}const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Xo("app","Firebase",TA);class bA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const _l=_A;function Qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:pm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=qv()),!i)throw cr.create("no-options");const c=eh.get(o);if(c){if(pr(i,c.options)&&pr(a,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new CS(o);for(const _ of gm.values())d.addComponent(_);const g=new bA(i,a,d);return eh.set(o,g),g}function Xv(s=pm){const e=eh.get(s);if(!e&&s===pm&&qv())return Qv();if(!e)throw cr.create("no-app",{appName:s});return e}function hr(s,e,i){let a=vA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ul(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const SA="firebase-heartbeat-database",AA=1,Uo="firebase-heartbeat-store";let Qd=null;function $v(){return Qd||(Qd=BS(SA,AA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Uo)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function wA(s){try{const i=(await $v()).transaction(Uo),a=await i.objectStore(Uo).get(Wv(s));return await i.done,a}catch(e){if(e instanceof Es)ms.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function f_(s,e){try{const a=(await $v()).transaction(Uo,"readwrite");await a.objectStore(Uo).put(e,Wv(s)),await a.done}catch(i){if(i instanceof Es)ms.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Wv(s){return`${s.name}!${s.options.appId}`}const xA=1024,RA=30;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=d_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>RA){const o=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d_(),{heartbeatsToSend:i,unsentEntries:a}=IA(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function d_(){return new Date().toISOString().substring(0,10)}function IA(s,e=xA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),m_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),m_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class NA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function m_(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function DA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function OA(s){ul(new sa("platform-logger",e=>new FS(e),"PRIVATE")),ul(new sa("heartbeat",e=>new CA(e),"PRIVATE")),hr(mm,c_,s),hr(mm,c_,"esm2020"),hr("fire-js","")}OA("");var MA="firebase",kA="12.8.0";hr(MA,kA,"app");function Jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VA=Jv,Zv=new Xo("auth","Firebase",Jv());const th=new Um("@firebase/auth");function jA(s,...e){th.logLevel<=Pe.WARN&&th.warn(`Auth (${_l}): ${s}`,...e)}function Hc(s,...e){th.logLevel<=Pe.ERROR&&th.error(`Auth (${_l}): ${s}`,...e)}function ps(s,...e){throw Bm(s,...e)}function Li(s,...e){return Bm(s,...e)}function e1(s,e,i){const a={...VA(),[e]:i};return new Xo("auth","Firebase",a).create(e,{appName:s.name})}function ds(s){return e1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Zv.create(s,...e)}function be(s,e,...i){if(!s)throw Bm(e,...i)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function gs(s,e){s||hs(e)}function ym(){return typeof self<"u"&&self.location?.href||""}function LA(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LA()||fS()||"connection"in navigator)?navigator.onLine:!0}function zA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wo{constructor(e,i){this.shortDelay=e,this.longDelay=i,gs(i>e,"Short delay should be less than long delay!"),this.isMobile=uS()||dS()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,e){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class t1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qA=new Wo(3e4,6e4);function Jo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function vl(s,e,i,a,o={}){return n1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=$o({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return hS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&yl(s.emulatorConfig.host)&&(y.credentials="include"),t1.fetch()(await i1(s,s.config.apiHost,i,g),y)})}async function n1(s,e,i){s._canInitEmulator=!1;const a={...PA,...e};try{const o=new HA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw jc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw e1(s,E,y);ps(s,E)}}catch(o){if(o instanceof Es)throw o;ps(s,"network-request-failed",{message:String(o)})}}async function Hm(s,e,i,a,o={}){const c=await vl(s,e,i,a,o);return"mfaPendingCredential"in c&&ps(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function i1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?qm(s.config,o):`${s.config.apiScheme}://${o}`;return BA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class HA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),qA.get())})}}function jc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Li(s,e,a);return o.customData._tokenResponse=i,o}async function FA(s,e){return vl(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return vl(s,"POST","/v1/accounts:lookup",e)}function Mo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GA(s,e=!1){const i=cn(s),a=await i.getIdToken(e),o=Fm(a);be(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Mo(Xd(o.auth_time)),issuedAtTime:Mo(Xd(o.iat)),expirationTime:Mo(Xd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Fm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pv(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g_(s){const e=Fm(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Es&&KA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function KA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class YA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await zo(s,nh(e,{idToken:i}));be(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?s1(o.providerUserInfo):[],d=XA(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function QA(s){const e=cn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function s1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $A(s,e){const i=await n1(s,{},async()=>{const a=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await i1(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&yl(s.emulatorConfig.host)&&(_.credentials="include"),t1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function WA(s,e){return vl(s,"POST","/v2/accounts:revokeToken",Jo(s,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=g_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await $A(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new il;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return hs("not implemented")}}function tr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new YA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await zo(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return GA(this,e)}reload(){return QA(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await zo(this,FA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:q,providerData:W,stsTokenManager:ne}=i;be(A&&ne,e,"internal-error");const ie=il.fromJSON(this.name,ne);be(typeof A=="string",e,"internal-error"),tr(a,e.name),tr(o,e.name),be(typeof N=="boolean",e,"internal-error"),be(typeof q=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(g,e.name),tr(_,e.name),tr(y,e.name),tr(E,e.name);const ye=new ci({uid:A,auth:e,email:o,emailVerified:N,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ie,createdAt:y,lastLoginAt:E});return W&&Array.isArray(W)&&(ye.providerData=W.map(Ie=>({...Ie}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,i,a=!1){const o=new il;o.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?s1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new il;g.updateFromIdToken(a);const _=new ci({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const y_=new Map;function fs(s){gs(s instanceof Function,"Expected a class definition");let e=y_.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,y_.set(s,e),e)}class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}r1.type="NONE";const __=r1;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class sl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Fc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new sl(fs(__),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||fs(__);const d=Fc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let A;if(typeof E=="string"){const N=await nh(e,{idToken:E}).catch(()=>{});if(!N)break;A=await ci._fromGetAccountInfoResponse(e,N,E)}else A=ci._fromJSON(e,E);y!==c&&(g=A),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new sl(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new sl(c,e,a))}}function v_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(f1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(c1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function a1(s=ln()){return/firefox\//i.test(s)}function l1(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(s=ln()){return/crios\//i.test(s)}function u1(s=ln()){return/iemobile/i.test(s)}function c1(s=ln()){return/android/i.test(s)}function h1(s=ln()){return/blackberry/i.test(s)}function f1(s=ln()){return/webos/i.test(s)}function Gm(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function JA(s=ln()){return Gm(s)&&!!window.navigator?.standalone}function ZA(){return mS()&&document.documentMode===10}function d1(s=ln()){return Gm(s)||c1(s)||f1(s)||h1(s)||/windows phone/i.test(s)||u1(s)}function m1(s,e=[]){let i;switch(s){case"Browser":i=v_(ln());break;case"Worker":i=`${v_(ln())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${_l}/${a}`}class e2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function t2(s,e={}){return vl(s,"GET","/v2/passwordPolicy",Jo(s,e))}const n2=6;class i2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??n2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class s2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new e2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await ci._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ds(this));const i=e?cn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t2(this),i=new i2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await WA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&fs(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zo(s){return cn(s)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r2(s){Km=s}function a2(s){return Km.loadJS(s)}function l2(){return Km.gapiScript}function o2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function u2(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(pr(c,e??{}))return o;ps(o,"already-initialized")}return i.initialize({options:e})}function c2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function h2(s,e,i){const a=Zo(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=p1(e),{host:d,port:g}=f2(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(pr(y,a.config.emulator)&&pr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,yl(d)?(Fv(`${c}//${d}${_}`),Gv("Auth",!0)):d2()}function p1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function f2(s){const e=p1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:T_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:T_(d)}}}function T_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function d2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class g1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,i){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function rl(s,e){return Hm(s,"POST","/v1/accounts:signInWithIdp",Jo(s,e))}const m2="http://localhost";class ra extends g1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ra(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return rl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,rl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,rl(e,i)}buildRequest(){const e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends eu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends eu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends eu{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function p2(s,e){return Hm(s,"POST","/v1/accounts:signUp",Jo(s,e))}class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ci._fromIdTokenResponse(e,a,o),d=b_(a);return new ys({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=b_(a);return new ys({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function b_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function g2(s){if(Xn(s.app))return Promise.reject(ds(s));const e=Zo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ys({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await p2(e,{returnSecureToken:!0}),a=await ys._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends Es{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new sh(e,i,a,o)}}function _1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function y2(s,e,i=!1){const a=await zo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ys._forOperation(s,"link",a)}async function _2(s,e,i=!1){const{auth:a}=s;if(Xn(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const c=await zo(s,_1(a,o,e,s),i);be(c.idToken,a,"internal-error");const d=Fm(c.idToken);be(d,a,"internal-error");const{sub:g}=d;return be(s.uid===g,a,"user-mismatch"),ys._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(a,"user-mismatch"),c}}async function v2(s,e,i=!1){if(Xn(s.app))return Promise.reject(ds(s));const a="signIn",o=await _1(s,a,e),c=await ys._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function E2(s,e){return Hm(s,"POST","/v1/accounts:signInWithCustomToken",Jo(s,e))}async function T2(s,e){if(Xn(s.app))return Promise.reject(ds(s));const i=Zo(s),a=await E2(i,{token:e,returnSecureToken:!0}),o=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function b2(s,e,i,a){return cn(s).onIdTokenChanged(e,i,a)}function S2(s,e,i){return cn(s).beforeAuthStateChanged(e,i)}function A2(s,e,i,a){return cn(s).onAuthStateChanged(e,i,a)}const rh="__sak";class v1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const w2=1e3,x2=10;class E1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ZA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,x2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}E1.type="LOCAL";const R2=E1;class T1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}T1.type="SESSION";const b1=T1;function C2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await C2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Ym(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class I2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Ym("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function N2(s){Ui().location.href=s}function S1(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function D2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O2(){return navigator?.serviceWorker?.controller||null}function M2(){return S1()?self:null}const A1="firebaseLocalStorageDb",k2=1,ah="firebaseLocalStorage",w1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function V2(){const s=indexedDB.deleteDatabase(A1);return new tu(s).toPromise()}function vm(){const s=indexedDB.open(A1,k2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:w1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await V2(),e(await vm()))})})}async function S_(s,e,i){const a=bh(s,!0).put({[w1]:e,value:i});return new tu(a).toPromise()}async function j2(s,e){const i=bh(s,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function A_(s,e){const i=bh(s,!0).delete(e);return new tu(i).toPromise()}const L2=800,U2=3;class x1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>U2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D2(),!this.activeServiceWorker)return;this.sender=new I2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await S_(e,rh,"1"),await A_(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>S_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>j2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bh(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x1.type="LOCAL";const z2=x1;new Wo(3e4,6e4);function P2(s,e){return e?fs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Qm extends g1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return rl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function B2(s){return v2(s.auth,new Qm(s),s.bypassAuthState)}function q2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),_2(i,new Qm(s),s.bypassAuthState)}async function H2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),y2(i,new Qm(s),s.bypassAuthState)}class R1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return q2;default:ps(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const F2=new Wo(2e3,1e4);class nl extends R1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F2.get())};e()}}nl.currentPopupAction=null;const G2="pendingRedirect",Gc=new Map;class K2 extends R1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(s,e){const i=$2(e),a=X2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Q2(s,e){Gc.set(s._key(),e)}function X2(s){return fs(s._redirectPersistence)}function $2(s){return Fc(G2,s.config.apiKey,s.name)}async function W2(s,e,i=!1){if(Xn(s.app))return Promise.reject(ds(s));const a=Zo(s),o=P2(a,e),d=await new K2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const J2=600*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ew(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!C1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function C1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function ew(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(s);default:return!1}}async function tw(s,e={}){return vl(s,"GET","/v1/projects",e)}const nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iw=/^https?/;async function sw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await tw(s);for(const i of e)try{if(rw(i))return}catch{}ps(s,"unauthorized-domain")}function rw(s){const e=ym(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!iw.test(i))return!1;if(nw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const aw=new Wo(3e4,6e4);function x_(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function lw(s){return new Promise((e,i)=>{function a(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),i(Li(s,"network-request-failed"))},timeout:aw.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const o=o2("iframefcb");return Ui()[o]=()=>{gapi.load?a():i(Li(s,"network-request-failed"))},a2(`${l2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function ow(s){return Kc=Kc||lw(s),Kc}const uw=new Wo(5e3,15e3),cw="__/auth/iframe",hw="emulator/auth/iframe",fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mw(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?qm(e,hw):`https://${s.config.authDomain}/${cw}`,a={apiKey:e.apiKey,appName:s.name,v:_l},o=dw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$o(a).slice(1)}`}async function pw(s){const e=await ow(s),i=Ui().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:mw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),g=Ui().setTimeout(()=>{c(d)},uw.get());function _(){Ui().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const gw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yw=500,_w=600,vw="_blank",Ew="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tw(s,e,i,a=yw,o=_w){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...gw,width:a.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=o1(y)?vw:i),a1(y)&&(e=e||Ew,_.scrollbars="yes");const E=Object.entries(_).reduce((N,[q,W])=>`${N}${q}=${W},`,"");if(JA(y)&&g!=="_self")return bw(e||"",g),new R_(null);const A=window.open(e||"",g,E);be(A,s,"popup-blocked");try{A.focus()}catch{}return new R_(A)}function bw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Sw="__/auth/handler",Aw="emulator/auth/handler",ww=encodeURIComponent("fac");async function C_(s,e,i,a,o,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:_l,eventId:o};if(e instanceof y1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",TS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof eu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${ww}=${encodeURIComponent(_)}`:"";return`${xw(s)}?${$o(g).slice(1)}${y}`}function xw({config:s}){return s.emulator?qm(s,Aw):`https://${s.authDomain}/${Sw}`}const $d="webStorageSupport";class Rw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=W2,this._overrideRedirectResult=Q2}async _openPopup(e,i,a,o){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C_(e,i,a,ym(),o);return Tw(e,c,Ym())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await C_(e,i,a,ym(),o);return N2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await pw(e),a=new Z2(e);return i.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},o=>{const c=o?.[0]?.[$d];c!==void 0&&i(!!c),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return d1()||l1()||Gm()}}const Cw=Rw;var I_="@firebase/auth",N_="1.12.0";class Iw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dw(s){ul(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(s)},y=new s2(a,o,c,_);return c2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ul(new sa("auth-internal",e=>{const i=Zo(e.getProvider("auth").getImmediate());return(a=>new Iw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(I_,N_,Nw(s)),hr(I_,N_,"esm2020")}const Ow=300,Mw=Hv("authIdTokenMaxAge")||Ow;let D_=null;const kw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Mw)return;const o=i?.token;D_!==o&&(D_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Vw(s=Xv()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=u2(s,{popupRedirectResolver:Cw,persistence:[z2,R2,b1]}),a=Hv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=kw(c.toString());S2(i,d,()=>d(i.currentUser)),b2(i,g=>d(g))}}const o=Bv("auth");return o&&h2(i,`http://${o}`),i}function jw(){return document.getElementsByTagName("head")?.[0]??document}r2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",jw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dw("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,I1;(function(){var s;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(k,D,j){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return w.prototype[D].apply(k,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)k[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],D=C.g[2];let j=C.g[3],x;x=w+(j^I&(D^j))+k[0]+3614090360&4294967295,w=I+(x<<7&4294967295|x>>>25),x=j+(D^w&(I^D))+k[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(I^j&(w^I))+k[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(w^D&(j^w))+k[3]+3250441966&4294967295,I=D+(x<<22&4294967295|x>>>10),x=w+(j^I&(D^j))+k[4]+4118548399&4294967295,w=I+(x<<7&4294967295|x>>>25),x=j+(D^w&(I^D))+k[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(I^j&(w^I))+k[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(w^D&(j^w))+k[7]+4249261313&4294967295,I=D+(x<<22&4294967295|x>>>10),x=w+(j^I&(D^j))+k[8]+1770035416&4294967295,w=I+(x<<7&4294967295|x>>>25),x=j+(D^w&(I^D))+k[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(I^j&(w^I))+k[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(w^D&(j^w))+k[11]+2304563134&4294967295,I=D+(x<<22&4294967295|x>>>10),x=w+(j^I&(D^j))+k[12]+1804603682&4294967295,w=I+(x<<7&4294967295|x>>>25),x=j+(D^w&(I^D))+k[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(I^j&(w^I))+k[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(w^D&(j^w))+k[15]+1236535329&4294967295,I=D+(x<<22&4294967295|x>>>10),x=w+(D^j&(I^D))+k[1]+4129170786&4294967295,w=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(w^I))+k[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^I&(j^w))+k[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^w&(D^j))+k[0]+3921069994&4294967295,I=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(I^D))+k[5]+3593408605&4294967295,w=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(w^I))+k[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^I&(j^w))+k[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^w&(D^j))+k[4]+3889429448&4294967295,I=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(I^D))+k[9]+568446438&4294967295,w=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(w^I))+k[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^I&(j^w))+k[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^w&(D^j))+k[8]+1163531501&4294967295,I=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(I^D))+k[13]+2850285829&4294967295,w=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(w^I))+k[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^I&(j^w))+k[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^w&(D^j))+k[12]+2368359562&4294967295,I=D+(x<<20&4294967295|x>>>12),x=w+(I^D^j)+k[5]+4294588738&4294967295,w=I+(x<<4&4294967295|x>>>28),x=j+(w^I^D)+k[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^I)+k[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^w)+k[14]+4259657740&4294967295,I=D+(x<<23&4294967295|x>>>9),x=w+(I^D^j)+k[1]+2763975236&4294967295,w=I+(x<<4&4294967295|x>>>28),x=j+(w^I^D)+k[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^I)+k[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^w)+k[10]+3200236656&4294967295,I=D+(x<<23&4294967295|x>>>9),x=w+(I^D^j)+k[13]+681279174&4294967295,w=I+(x<<4&4294967295|x>>>28),x=j+(w^I^D)+k[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^I)+k[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^w)+k[6]+76029189&4294967295,I=D+(x<<23&4294967295|x>>>9),x=w+(I^D^j)+k[9]+3654602809&4294967295,w=I+(x<<4&4294967295|x>>>28),x=j+(w^I^D)+k[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^I)+k[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^w)+k[2]+3299628645&4294967295,I=D+(x<<23&4294967295|x>>>9),x=w+(D^(I|~j))+k[0]+4096336452&4294967295,w=I+(x<<6&4294967295|x>>>26),x=j+(I^(w|~D))+k[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~I))+k[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~w))+k[5]+4237533241&4294967295,I=D+(x<<21&4294967295|x>>>11),x=w+(D^(I|~j))+k[12]+1700485571&4294967295,w=I+(x<<6&4294967295|x>>>26),x=j+(I^(w|~D))+k[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~I))+k[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~w))+k[1]+2240044497&4294967295,I=D+(x<<21&4294967295|x>>>11),x=w+(D^(I|~j))+k[8]+1873313359&4294967295,w=I+(x<<6&4294967295|x>>>26),x=j+(I^(w|~D))+k[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~I))+k[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~w))+k[13]+1309151649&4294967295,I=D+(x<<21&4294967295|x>>>11),x=w+(D^(I|~j))+k[4]+4149444226&4294967295,w=I+(x<<6&4294967295|x>>>26),x=j+(I^(w|~D))+k[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~I))+k[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=I;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<w;)if(k[D++]=C.charCodeAt(j++),D==this.blockSize){o(this,k),D=0;break}}else for(;j<w;)if(k[D++]=C[j++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)C[w++]=this.g[I]>>>k&255;return C};function c(C,w){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let k=!0;for(let D=C.length-1;D>=0;D--){const j=C[D]|0;k&&j==w||(I[D]=j,k=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return ie(y(-C));const w=[];let I=1;for(let k=0;C>=I;k++)w[k]=C/I|0,I*=4294967296;return new d(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ie(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let k=A;for(let j=0;j<C.length;j+=8){var D=Math.min(8,C.length-j);const x=parseInt(C.substring(j,j+D),w);D<8?(D=y(Math.pow(w,D)),k=k.j(D).add(y(x))):(k=k.j(I),k=k.add(y(x)))}return k}var A=_(0),N=_(1),q=_(16777216);s=d.prototype,s.m=function(){if(ne(this))return-ie(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(ne(this))return"-"+ie(this).toString(C);const w=y(Math.pow(C,6));var I=this;let k="";for(;;){const D=Je(I,w).g;I=ye(I,D.j(w));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,W(I))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function ne(C){return C.h==-1}s.l=function(C){return C=ye(this,C),ne(C)?-1:W(C)?0:1};function ie(C){const w=C.g.length,I=[];for(let k=0;k<w;k++)I[k]=~C.g[k];return new d(I,~C.h).add(N)}s.abs=function(){return ne(this)?ie(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let k=0;for(let D=0;D<=w;D++){let j=k+(this.i(D)&65535)+(C.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);k=x>>>16,j&=65535,x&=65535,I[D]=x<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ye(C,w){return C.add(ie(w))}s.j=function(C){if(W(this)||W(C))return A;if(ne(this))return ne(C)?ie(this).j(ie(C)):ie(ie(this).j(C));if(ne(C))return ie(this.j(ie(C)));if(this.l(q)<0&&C.l(q)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<C.g.length;D++){const j=this.i(k)>>>16,x=this.i(k)&65535,lt=C.i(D)>>>16,gt=C.i(D)&65535;I[2*k+2*D]+=x*gt,Ie(I,2*k+2*D),I[2*k+2*D+1]+=j*gt,Ie(I,2*k+2*D+1),I[2*k+2*D+1]+=x*lt,Ie(I,2*k+2*D+1),I[2*k+2*D+2]+=j*lt,Ie(I,2*k+2*D+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function Ie(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Se(C,w){this.g=C,this.h=w}function Je(C,w){if(W(w))throw Error("division by zero");if(W(C))return new Se(A,A);if(ne(C))return w=Je(ie(C),w),new Se(ie(w.g),ie(w.h));if(ne(w))return w=Je(C,ie(w)),new Se(ie(w.g),w.h);if(C.g.length>30){if(ne(C)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,k=w;k.l(C)<=0;)I=pt(I),k=pt(k);var D=je(I,1),j=je(k,1);for(k=je(k,2),I=je(I,2);!W(k);){var x=j.add(k);x.l(C)<=0&&(D=D.add(I),j=x),k=je(k,1),I=je(I,1)}return w=ye(C,D.j(w)),new Se(D,w)}for(D=A;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=y(I),x=j.j(w);ne(x)||x.l(C)>0;)I-=k,j=y(I),x=j.j(w);W(j)&&(j=N),D=D.add(j),C=ye(C,x)}return new Se(D,C)}s.B=function(C){return Je(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&C.i(k);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|C.i(k);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^C.i(k);return new d(I,this.h^C.h)};function pt(C){const w=C.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(I,C.h)}function je(C,w){const I=w>>5;w%=32;const k=C.g.length-I,D=[];for(let j=0;j<k;j++)D[j]=w>0?C.i(j+I)>>>w|C.i(j+I+1)<<32-w:C.i(j+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,I1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,fr=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var N1,Co,D1,Yc,Em,O1,M1,k1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break e;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,B){for(var ee=Array(arguments.length-2),De=2;De<arguments.length;De++)ee[De-2]=arguments[De];return m.prototype[L].apply(S,ee)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function W(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=L[ee]}else u.push(L)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const S=Se.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Se=new ne(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,je=!1,C=new Ie,w=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(I)}};function I(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){ie(v)}var m=Se;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}je=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(lt,D),lt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),F=0;function Z(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,S,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ne(u,m,S,L);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new Z(m,this.src,B,!!S,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ne(u,m,v,S){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),St={};function ot(u,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,S,L);return null}return v=ae(v),u&&u[gt]?u.J(m,v,g(S)?!!S.capture:!1,L):mi(u,m,v,!1,S,L)}function mi(u,m,v,S,L,B){if(!m)throw Error("Invalid event type");const ee=g(L)?!!L.capture:!!L;let De=Fi(u);if(De||(u[Le]=De=new re(u)),v=De.add(m,v,S,ee,B),v.proxy)return v;if(S=Ts(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)j||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(Vn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function u(v){return m.call(u.src,u.listener,v)}const m=Ar;return u}function bs(u,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)bs(u,m[B],v,S,L);else S=g(S)?!!S.capture:!!S,v=ae(v),u&&u[gt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ne(m,v,S,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Fi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ne(m,v,S,L)),(v=u>-1?m[u]:null)&&Ss(v))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[gt])Ee(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Vn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Fi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Le]=null)):de(u)}}}function Vn(u){return u in St?St[u]:St[u]="on"+u}function Ar(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Ss(u),u=v.call(S,m)}return u}function Fi(u){return u=u[Le],u instanceof re?u:null}var oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(u){return typeof u=="function"?u:(u[oe]||(u[oe]=function(m){return u.handleEvent(m)}),u[oe])}function se(){k.call(this),this.i=new re(this),this.M=this,this.G=null}A(se,k),se.prototype[gt]=!0,se.prototype.removeEventListener=function(u,m,v,S){bs(this,u,m,v,S)};function ue(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(S,u),te(m,L)}L=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],L=Ae(B,S,!0,m)&&L;if(B=m.g=u,L=Ae(B,S,!0,m)&&L,L=Ae(B,S,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],L=Ae(B,S,!1,m)&&L}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)de(v[S]);delete u.g[m],u.h--}}this.G=null},se.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},se.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Ae(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const De=ee.listener,wt=ee.ha||ee.src;ee.fa&&Ee(u.i,ee),L=De.call(wt,S)!==!1&&L}}return L&&!S.defaultPrevented}function J(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Te(u){u.g=J(()=>{u.g=null,u.i&&(u.i=!1,Te(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class pe extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(u){k.call(this),this.h=u,this.g={}}A(ht,k);var ut=[];function wr(u){He(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ss(m)},u),u.g={}}ht.prototype.N=function(){ht.Z.N.call(this),wr(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=d.JSON.stringify,Ph=d.JSON.parse,ou=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function uu(){}function cu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}A(Yt,D);function jn(){D.call(this,"c")}A(jn,D);var At={},hu=null;function ha(){return hu=hu||new se}At.Ia="serverreachability";function fu(u){D.call(this,At.Ia,u)}A(fu,D);function pi(u){const m=ha();ue(m,new fu(m))}At.STAT_EVENT="statevent";function xr(u,m){D.call(this,At.STAT_EVENT,u),this.stat=m}A(xr,D);function It(u){const m=ha();ue(m,new xr(m,u))}At.Ja="timingevent";function gi(u,m){D.call(this,At.Ja,u),this.size=m}A(gi,D);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Bh(u,m,v,S,L,B){u.info(function(){if(u.g)if(B){var ee="",De=B.split("&");for(let $e=0;$e<De.length;$e++){var wt=De[$e].split("=");if(wt.length>1){const yt=wt[0];wt=wt[1];const Pn=yt.split("_");ee=Pn.length>=2&&Pn[1]=="type"?ee+(yt+"="+wt+"&"):ee+(yt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function du(u,m,v,S,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ee})}function _i(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(S?" "+S:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<S.length;ee++)S[ee]=""}}}}return bn(B)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Ir(){}A(Ir,uu),Ir.prototype.g=function(){return new XMLHttpRequest},wl=new Ir;function Gi(u){return encodeURIComponent(String(u))}function mu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Nt={},Ht={};function vi(u,m,v){u.M=1,u.A=Nr(Ot(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),Ei(u),u.B=Ot(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ga(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ei,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new pe(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ut[0]=L.toString()),L=ut);for(let B=0;B<L.length;B++){const ee=ot(v,L[B],S||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const De=ii(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||De!=4||wt==7||(wt==8||$e<=0?pi(3):pi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,It(12),Sn(this),Ln(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=gu(this,v),yt==Ht){De==4&&(this.m=4,It(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Nt){this.m=4,It(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,yt,null),bi(this,yt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Pl(ee),ee.P=!0,It(11))}}else _i(this.i,this.l,v,null),bi(this,v);De==4&&Sn(this),this.o&&!this.K&&(De==4?wu(this.j,this):(this.o=!1,Ei(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Sn(this),Ln(this)}}}catch{}};function Hh(u){if(!pu(u))return u.g.la();const m=Qt(u.g);if(m==="")return"";let v="";const S=m.length,L=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function pu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Ht:(v=Number(m.substring(v,S)),isNaN(v)?Nt:(S+=1,S+v>m.length?Ht:(m=m.slice(S,S+v),u.C=S+v,m)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ei(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(pi(),It(17)),Sn(this),this.m=2,Ln(this)):da(this,this.T-u)};function Ln(u){u.j.I==0||u.K||wu(u.j,u)}function Sn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ds(v);else break e;Lr(v),It(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Ta(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const yt=$e[0];if(!(yt<=v.K))if(v.K=yt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Pn=$e[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Di=$e[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const si=$e[5];si!=null&&typeof si=="number"&&si>0&&(S=1.5*si,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ri=u.g;if(ri){const Ur=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=S.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Cl(B,B.h),B.h=null))}if(S.G){const ba=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(S.wa=ba,et(S.J,S.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ee=u;if(S.na=Cu(S,S.L?S.ba:null,S.W),ee.L){Il(S.h,ee);var De=ee,wt=S.O;wt&&(De.H=wt),De.D&&(Ti(De),Ei(De)),S.g=ee}else Su(S);v.i.length>0&&Ii(v)}else $e[0]!="stop"&&$e[0]!="close"||Ni(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ni(v,7):Ul(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}pi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function xl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Cl(u,m){u.g?u.g.add(m):u.h=m}function Il(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,B=null;S>=0?(L=u[v].substring(0,S),B=u[v].substring(S+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Dl(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(yu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),As(this,m[4]),this.h=wi(m[5]||"",!0),Dl(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,pa,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Ol:_u,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,vu)),u.join("")},An.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ee=0;ee<L.length;){const De=L[ee++];De=="."?S&&ee==L.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&ee==L.length&&B.push("")):(B.push(De),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?Dl(m,Tu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new An(u)}function Ft(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Dl(u,m,v){m instanceof xs?(u.i=m,ya(u.i,u.l)):(v||(m=Dr(m,ws)),u.i=new xs(m,u.l))}function et(u,m,v){u.i.set(m,v)}function Nr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,_u=/[#\?:]/g,Ol=/[#\?]/g,ws=/[#\?@]/g,vu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){fn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Eu(u,m){fn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ml(u,m){return fn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function kl(u,m){fn(u);let v=[];if(typeof m=="string")Ml(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=Rs(this,u),Ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=kl(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){Eu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Gi(v);v=kl(this,v);for(let B=0;B<v.length;B++){let ee=L;v[B]!==""&&(ee+="="+Gi(v[B])),u.push(ee)}}return this.i=u.join("&")};function Tu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Eu(this,S),ga(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Jn;if(d.Image){const S=new Image;S.onload=E(Un,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Un,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Un,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Vl(u,m){const v=new Jn,S=new AbortController,L=setTimeout(()=>{S.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Cs(){this.g=new ou}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(xi,uu),xi.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Or,se),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):ni(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return He(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=zn(v),typeof u=="string"?v!=null&&Gi(v):et(u,m,v))}function it(u){se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(it,se);var Ri=/^https?$/i,jl=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jl,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Ki(u)}function Ll(u){u.A||(u.A=!0,ue(u,"complete"),ue(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ue(this,"complete"),ue(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},s.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(ue(u,"readystatechange"),ii(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let ee=String(u.D).match(yu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),S=!Ri.test(ee?ee.toLowerCase():"")}v=S}if(v)ue(u,"complete"),ue(u,"success");else{u.o=6;try{var L=ii(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ll(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ue(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=mu(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}xe(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){It(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Cu(this,null,this.W),Ii(this)};function Ul(u){if(va(u),u.I==3){var m=u.V++,v=Ot(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),jr(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=Nr(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Ru(u)}function Ds(u){u.g&&(Pl(u),u.g.cancel(),u.g=null)}function va(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;pt||w(),je||(pt(),je=!0),C.add(m,u),u.D=0}}function Ea(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,m),xu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,L,m),v=Ot(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),jr(this,v),B&&(this.R?m="headers="+Gi(zn(B))+"&"+m:this.u&&Mr(v,this.u,B)),Cl(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?zl(this,u):this.i.length==0||Rl(this.h)||zl(this))};function zl(u,m){var v;m?v=m.l:v=u.V++;const S=Ot(u.J);et(S,"SID",u.M),et(S,"RID",v),et(S,"AID",u.K),jr(u,S),u.u&&u.o&&Mr(S,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Cl(u.h,v),vi(v,S,m)}function jr(u,m){u.H&&He(u.H,function(v,S){et(m,S,v)}),u.l&&He({},function(v,S){et(m,S,v)})}function bu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const wt=["count="+v];De==-1?v>0?(De=L[0].g,wt.push("ofs="+De)):De=0:wt.push("ofs="+De);let $e=!0;for(let yt=0;yt<v;yt++){var B=L[yt].g;const Pn=L[yt].map;if(B-=De,B<0)De=Math.max(0,L[yt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var ee=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Di,si]of ee){let ri=si;g(si)&&(ri=bn(si)),wt.push(B+Di+"="+encodeURIComponent(ri))}}catch(Di){throw wt.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{S&&S(Pn)}}if($e){ee=wt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pt||w(),je||(pt(),je=!0),C.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),xu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ds(this),Au(this))};function Pl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Nr(Ot(m)),v.u=null,v.R=!0,fa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Lr(this),It(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var v=null;if(u.g==m){Ta(u),Pl(u),u.g=null;var S=2}else if(Ai(u.h,m))v=m.G,Il(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=ha(),ue(S,new gi(S,v)),Ii(u)}else Su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Ea(u,m)||S==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function xu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),S=u.Ua;const L=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(S,"https"),Nr(S),L?ti(S.toString(),v):Vl(S.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Ru(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var S=v instanceof An?Ot(v):new An(v);if(S.g!="")m&&(S.g=m+"."+S.g),As(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);S&&Ft(B,S),m&&(B.g=m),L&&As(B,L),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&et(S,v,m),et(S,"VER",u.ka),jr(u,S),S}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new xi({ab:v})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}s=Nu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new on(u,m)};function on(u,m){se.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}A(on,se),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ul(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=bn(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Ii(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,on.Z.N.call(this)};function Du(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Du,Yt);function Ou(){jn.call(this),this.status=1}A(Ou,jn);function Qi(u){this.g=u}A(Qi,Nu),Qi.prototype.ra=function(){ue(this.g,"a")},Qi.prototype.qa=function(u){ue(this.g,new Du(u))},Qi.prototype.pa=function(u){ue(this.g,new Ou)},Qi.prototype.oa=function(){ue(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,k1=function(){return new Os},M1=function(){return ha()},O1=At,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Yc=Cr,Al.COMPLETE="complete",D1=Al,cu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",se.prototype.listen=se.prototype.J,Co=cu,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,N1=it}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let El="12.8.0";function Lw(s){El=s}const aa=new Um("@firebase/firestore");function Ja(){return aa.logLevel}function le(s,...e){if(aa.logLevel<=Pe.DEBUG){const i=e.map(Xm);aa.debug(`Firestore (${El}): ${s}`,...i)}}function _s(s,...e){if(aa.logLevel<=Pe.ERROR){const i=e.map(Xm);aa.error(`Firestore (${El}): ${s}`,...i)}}function cl(s,...e){if(aa.logLevel<=Pe.WARN){const i=e.map(Xm);aa.warn(`Firestore (${El}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,V1(s,a,i)}function V1(s,e,i){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function Ze(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||V1(e,o,a)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class j1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class zw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Pw{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new j1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Bw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Bw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Fw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function Tm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Wd(o)===Wd(c)?Be(o,c):Wd(o)?1:-1}return Be(s.length,e.length)}const Gw=55296,Kw=57343;function Wd(s){const e=s.charCodeAt(0);return e>=Gw&&e<=Kw}function hl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const k_="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ji.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),o=ji.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ji.extractNumericId(e).compare(ji.extractNumericId(i)):Tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class vt extends ji{construct(e,i,a){return new vt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new vt(i)}static emptyPath(){return new vt([])}}const Yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ji{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return Yw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new en([k_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new fe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new fe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(vt.fromString(e))}static fromName(e){return new ge(vt.fromString(e).popFirst(5))}static empty(){return new ge(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new vt(e.slice()))}}function Qw(s,e,i){if(!i)throw new fe($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Xw(s,e,i,a){if(e===!0&&a===!0)throw new fe($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function V_(s){if(!ge.isDocumentKey(s))throw new fe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function L1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function hi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wm(s);throw new fe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function nu(s,e){if(!L1(s))throw new fe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe($.INVALID_ARGUMENT,i);return!0}const j_=-62135596800,L_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L_);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j_)throw new fe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ut("string",mt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Po=-1;function $w(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new gr(o,ge.empty(),e)}function Ww(s){return new gr(s.readTime,s.key,Po)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(we.min(),ge.empty(),Po)}static max(){return new gr(we.max(),ge.empty(),Po)}}function Jw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const Zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Zw)throw s;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function tx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bl(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Jm=-1;function Ah(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function nx(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const U1="";function ix(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=U_(e)),e=sx(s.get(i),e);return U_(e)}function sx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case U1:i+="";break;default:i+=c}}return i}function U_(s){return s+U1+""}function z_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function br(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function z1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Et{constructor(e,i){this.comparator=e,this.root=i||Zt.EMPTY}insert(e,i){return new Et(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Zt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Zt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new kn([])}unionWith(e){let i=new qt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new P1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=rx.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const B1="server_timestamp",q1="__type__",H1="__previous_value__",F1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[q1]?.stringValue===B1}function wh(s){const e=s.mapValue.fields[H1];return Zm(e)?wh(e):e}function Bo(s){const e=yr(s.mapValue.fields[F1].timestampValue);return new mt(e.seconds,e.nanos)}class ax{constructor(e,i,a,o,c,d,g,_,y,E,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=A}}const oh="(default)";class qo{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}function lx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(s.options.projectId,e)}const G1="__type__",ox="__max__",zc={mapValue:{}},K1="__vector__",uh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:cx(s)?9007199254740991:ux(s)?10:11:ve(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bo(s).isEqual(Bo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),g=yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ct(o.doubleValue),g=Ct(c.doubleValue);return d===g?lh(d)===lh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return hl(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(z_(d)!==z_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!qi(d[_],g[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Ho(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function fl(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ct(c.integerValue||c.doubleValue),_=Ct(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return B_(s.timestampValue,e.timestampValue);case 4:return B_(Bo(s),Bo(e));case 5:return Tm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=_r(c),_=_r(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Be(g[y],_[y]);if(E!==0)return E}return Be(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Be(Ct(c.latitude),Ct(d.latitude));return g!==0?g:Be(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return q_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[uh]?.arrayValue,E=_[uh]?.arrayValue,A=Be(y?.values?.length||0,E?.values?.length||0);return A!==0?A:q_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const N=Tm(_[A],E[A]);if(N!==0)return N;const q=fl(g[_[A]],y[E[A]]);if(q!==0)return q}return Be(_.length,E.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function B_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=yr(s),a=yr(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function q_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=fl(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function dl(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=bm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${bm(i.fields[d])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function Qc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return br(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function Sm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function H_(s){return!!s&&"nullValue"in s}function F_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function ux(s){return(s?.mapValue?.fields||{})[G1]?.stringValue===K1}function ko(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=ko(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ko(s.arrayValue.values[i]);return e}return{...s}}function cx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ox}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=ko(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){br(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Tn(ko(this.value))}}function Y1(s){const e=[];return br(s.fields,((i,a)=>{const o=new en([i]);if(Xc(a)){const c=Y1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new kn(e)}class an{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,we.min(),we.min(),we.min(),Tn.empty(),0)}static newFoundDocument(e,i,a,o){return new an(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new an(e,2,i,we.min(),we.min(),Tn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,we.min(),we.min(),Tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function G_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=fl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function K_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function hx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Q1{}class Bt extends Q1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new dx(e,i,a):i==="array-contains"?new gx(e,a):i==="in"?new yx(e,a):i==="not-in"?new _x(e,a):i==="array-contains-any"?new vx(e,a):new Bt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new mx(e,a):new px(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fl(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends Q1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return X1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X1(s){return s.op==="and"}function $1(s){return fx(s)&&X1(s)}function fx(s){for(const e of s.filters)if(e instanceof Hi)return!1;return!0}function Am(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+dl(s.value);if($1(s))return s.filters.map((e=>Am(e))).join(",");{const e=s.filters.map((i=>Am(i))).join(",");return`${s.op}(${e})`}}function W1(s,e){return s instanceof Bt?(function(a,o){return o instanceof Bt&&a.op===o.op&&a.field.isEqual(o.field)&&qi(a.value,o.value)})(s,e):s instanceof Hi?(function(a,o){return o instanceof Hi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&W1(d,o.filters[g])),!0):!1})(s,e):void ve(19439)}function J1(s){return s instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${dl(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(J1).join(" ,")+"}"})(s):"Filter"}class dx extends Bt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class mx extends Bt{constructor(e,i){super(e,"in",i),this.keys=Z1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class px extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=Z1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Z1(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class gx extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ep(i)&&Ho(i.arrayValue,this.value)}}class yx extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ho(this.value.arrayValue,i)}}class _x extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ho(this.value.arrayValue,i)}}class vx extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ep(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ho(this.value.arrayValue,a)))}}class Ex{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Y_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Ex(s,e,i,a,o,c,d)}function tp(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Am(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>dl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>dl(a))).join(",")),e.Te=i}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!W1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!K_(s.startAt,e.startAt)&&K_(s.endAt,e.endAt)}function wm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class xh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Tx(s,e,i,a,o,c,d,g){return new xh(s,e,i,a,o,c,d,g)}function Rh(s){return new xh(s)}function Q_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bx(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Sx(s){return s.collectionGroup!==null}function Vo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qt(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new hh(en.keyField(),a))}return e.Ie}function zi(s){const e=Ce(s);return e.Ee||(e.Ee=Ax(e,Vo(s))),e.Ee}function Ax(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new hh(o.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function xm(s,e,i){return new xh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return np(zi(s),zi(e))&&s.limitType===e.limitType}function eE(s){return`${tp(zi(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>J1(o))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>dl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>dl(o))).join(",")),`Target(${a})`})(zi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Vo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=G_(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Vo(a),o)||a.endAt&&!(function(d,g,_){const y=G_(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Vo(a),o))})(s,e)}function wx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tE(s){return(e,i)=>{let a=!1;for(const o of Vo(s)){const c=xx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function xx(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?fl(_,y):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}const Rx=new Et(ge.comparator);function vs(){return Rx}const nE=new Et(ge.comparator);function Io(...s){let e=nE;for(const i of s)e=e.insert(i.key,i);return e}function iE(s){let e=nE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function na(){return jo()}function sE(){return jo()}function jo(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Cx=new Et(ge.comparator),Ix=new qt(ge.comparator);function qe(...s){let e=Ix;for(const i of s)e=e.add(i);return e}const Nx=new qt(Be);function Dx(){return Nx}function ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function rE(s){return{integerValue:""+s}}function Ox(s,e){return nx(e)?rE(e):ip(s,e)}class Nh{constructor(){this._=void 0}}function Mx(s,e,i){return s instanceof fh?(function(o,c){const d={fields:{[q1]:{stringValue:B1},[F1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zm(c)&&(c=wh(c)),c&&(d.fields[H1]=c),{mapValue:d}})(i,e):s instanceof ml?lE(s,e):s instanceof Fo?oE(s,e):(function(o,c){const d=aE(o,c),g=X_(d)+X_(o.Ae);return Sm(d)&&Sm(o.Ae)?rE(g):ip(o.serializer,g)})(s,e)}function kx(s,e,i){return s instanceof ml?lE(s,e):s instanceof Fo?oE(s,e):i}function aE(s,e){return s instanceof dh?(function(a){return Sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Nh{}class ml extends Nh{constructor(e){super(),this.elements=e}}function lE(s,e){const i=uE(e);for(const a of s.elements)i.some((o=>qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Fo extends Nh{constructor(e){super(),this.elements=e}}function oE(s,e){let i=uE(e);for(const a of s.elements)i=i.filter((o=>!qi(o,a)));return{arrayValue:{values:i}}}class dh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function X_(s){return Ct(s.integerValue||s.doubleValue)}function uE(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Vx{constructor(e,i){this.field=e,this.transform=i}}function jx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof ml&&o instanceof ml||a instanceof Fo&&o instanceof Fo?hl(a.elements,o.elements,qi):a instanceof dh&&o instanceof dh?qi(a.Ae,o.Ae):a instanceof fh&&o instanceof fh})(s.transform,e.transform)}class Lx{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function cE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new sp(s.key,fi.none()):new iu(s.key,s.data,fi.none());{const i=s.data,a=Tn.empty();let o=new qt(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Sr(s.key,a,new kn(o.toArray()),fi.none())}}function Ux(s,e,i){s instanceof iu?(function(o,c,d){const g=o.value.clone(),_=W_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(o,c,d){if(!$c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=W_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(hE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Lo(s,e,i,a){return s instanceof iu?(function(c,d,g,_){if(!$c(c.precondition,d))return g;const y=c.value.clone(),E=J_(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Sr?(function(c,d,g,_){if(!$c(c.precondition,d))return g;const y=J_(c.fieldTransforms,_,d),E=d.data;return E.setAll(hE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,g){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function zx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=aE(a.transform,o||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function $_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&hl(a,o,((c,d)=>jx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class iu extends Dh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends Dh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function W_(s,e,i){const a=new Map;Ze(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,kx(d,g,i[o]))}return a}function J_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Mx(c,d,e))}return a}class sp extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Px extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Ux(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Lo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Lo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=sE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=cE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((i,a)=>$_(i,a)))&&hl(this.baseMutations,e.baseMutations,((i,a)=>$_(i,a)))}}class rp{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Cx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new rp(e,i,a,o)}}class qx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ge;function Fx(s){switch(s){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function fE(s){if(s===void 0)return _s("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:s})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Gx(){return new TextEncoder}const Kx=new fr([4294967295,4294967295],0);function Z_(s){const e=Gx().encode(s),i=new I1;return i.update(e),new Uint8Array(i.digest())}function ev(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fr([i,a],0),new fr([o,c],0)]}class ap{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new No(`Invalid padding: ${i}`);if(a<0)throw new No(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new No(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(fr.fromNumber(a)));return o.compare(Kx)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Z_(e),[a,o]=ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ap(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Z_(e),[a,o]=ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(we.min(),o,new Et(Be),vs(),qe())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,qe(),qe(),qe())}}class Wc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class dE{constructor(e,i){this.targetId=e,this.Ce=i}}class mE{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class tv{constructor(){this.ve=0,this.Fe=nv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=nv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Yx{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.He=Pc(),this.Je=Pc(),this.Ze=new Et(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(wm(c))if(a===0){const d=new ge(c.path);this.et(i,d,an.newNoDocument(d,we.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=_r(a).toUint8Array()}catch(_){if(_ instanceof P1)return cl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ap(d,o,c)}catch(_){return cl(_ instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&wm(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Oh(e,i,this.Ze,this.je,a);return this.je=vs(),this.He=Pc(),this.Je=Pc(),this.Ze=new Et(Be),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new tv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new Et(ge.comparator)}function nv(){return new Et(ge.comparator)}const Qx={asc:"ASCENDING",desc:"DESCENDING"},Xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x={and:"AND",or:"OR"};class Wx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Rm(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Jx(s,e){return mh(s,e.toTimestamp())}function Pi(s){return Ze(!!s,49232),we.fromTimestamp((function(i){const a=yr(i);return new mt(a.seconds,a.nanos)})(s))}function lp(s,e){return Cm(s,e).canonicalString()}function Cm(s,e){const i=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function gE(s){const e=vt.fromString(s);return Ze(TE(e),10190,{key:e.toString()}),e}function Im(s,e){return lp(s.databaseId,e.path)}function Jd(s,e){const i=gE(e);if(i.get(1)!==s.databaseId.projectId)throw new fe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(_E(i))}function yE(s,e){return lp(s.databaseId,e)}function Zx(s){const e=gE(s);return e.length===4?vt.emptyPath():_E(e)}function Nm(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _E(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function iv(s,e,i){return{name:Im(s,e),fields:i.value.mapValue.fields}}function eR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?$.UNKNOWN:fE(y.code);return new fe(E,y.message||"")})(d);i=new mE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Jd(s,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):we.min(),g=new Tn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Wc(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Jd(s,a.document),c=a.readTime?Pi(a.readTime):we.min(),d=an.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Wc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Jd(s,a.document),c=a.removedTargetIds||[];i=new Wc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Hx(o,c),g=a.targetId;i=new dE(g,d)}}return i}function tR(s,e){let i;if(e instanceof iu)i={update:iv(s,e.key,e.value)};else if(e instanceof sp)i={delete:Im(s,e.key)};else if(e instanceof Sr)i={update:iv(s,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof Px))return ve(16599,{dt:e.type});i={verify:Im(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof dh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Jx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function nR(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Pi(o.updateTime):Pi(c);return d.isEqual(we.min())&&(d=Pi(c)),new Lx(d,o.transformResults||[])})(i,e)))):[]}function iR(s,e){return{documents:[yE(s,e.path)]}}function sR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=yE(s,o);const c=(function(y){if(y.length!==0)return EE(Hi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(N){return{field:el(N.field),direction:lR(N.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Rm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function rR(s){let e=Zx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const N=vE(A);return N instanceof Hi&&$1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(W){return new hh(tl(W.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,Ah(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(A){const N=!!A.before,q=A.values||[];return new ch(q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const N=!A.before,q=A.values||[];return new ch(q,N)})(i.endAt)),Tx(e,o,d,c,g,"F",_,y)}function aR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=tl(i.unaryFilter.field);return Bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(i.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(i.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(i.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Bt.create(tl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((a=>vE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function lR(s){return Qx[s]}function oR(s){return Xx[s]}function uR(s){return $x[s]}function el(s){return{fieldPath:s.canonicalString()}}function tl(s){return en.fromServerFormat(s.fieldPath)}function EE(s){return s instanceof Bt?(function(i){if(i.op==="=="){if(F_(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(H_(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F_(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(H_(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:oR(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const a=i.getFilters().map((o=>EE(o)));return a.length===1?a[0]:{compositeFilter:{op:uR(i.op),filters:a}}})(s):ve(54877,{filter:s})}function cR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function TE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function bE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class lr{constructor(e,i,a,o,c=we.min(),d=we.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hR{constructor(e){this.yt=e}}function fR(s){const e=rR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(e,e.limit,"L"):e}class dR{constructor(){this.Sn=new mR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(gr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class mR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new qt(vt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(vt.comparator)).toArray()}}const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(SE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pl(0)}static ar(){return new pl(-1)}}const rv="LruGarbageCollector",pR=1048576;function av([s,e],[i,a]){const o=Be(s,i);return o===0?Be(e,a):o}class gR{constructor(e){this.Pr=e,this.buffer=new qt(av),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();av(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bl(i)?le(rv,"Ignoring IndexedDB error during garbage collection: ",i):await Tl(i)}await this.Ar(3e5)}))}}class _R{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Sh.ce);const a=new gR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(sv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),Ja()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function vR(s,e){return new _R(s,e)}class ER{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class bR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Lo(a.mutation,o,kn.empty(),mt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Io();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=vs();const d=jo(),g=(function(){return jo()})();return i.forEach(((_,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Sr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Lo(E.mutation,y,E.mutation.getFieldMask(),mt.now())):d.set(y.key,kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new TR(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=jo();let o=new Et(((d,g)=>d-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||kn.empty();E=g.applyToLocalView(y,E),a.set(_,E);const A=(o.get(g.batchId)||qe()).add(_);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,A=sE();E.forEach((N=>{if(!c.has(N)){const q=cE(i.get(N),a.get(N));q!==null&&A.set(N,q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return bx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Sx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(na());let g=Po,_=c;return d.next((y=>X.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{_=_.insert(E,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((E=>({batchId:g,changes:iE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=Io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Io();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const y=(function(A,N){return new xh(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let g=Io();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Lo(E.mutation,y,kn.empty(),mt.now()),Ih(i,y)&&(g=g.insert(_,y))})),g}))}}class SR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:fR(o.bundledQuery),readTime:Pi(o.readTime)}})(i)),X.resolve()}}class AR{constructor(){this.overlays=new Et(ge.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=na(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Et(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=na(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=na(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return X.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qx(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class wR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class op{constructor(){this.kr=new qt(Kt.Kr),this.qr=new qt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Kt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new vt([])),a=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new vt([])),a=new Kt(i,e),o=new Kt(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class xR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Kt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Bx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new qt(Be);return i.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new ge(c),0);let g=new qt(Be);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ze(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Kt(i,0),o=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RR{constructor(e){this.ti=e,this.docs=(function(){return new Et(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=vs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=vs();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Jw(Ww(E),a)<=0||(o.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new CR(this)}getSize(e){return X.resolve(this.size)}}class CR extends ER{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class IR{constructor(e){this.persistence=e,this.ri=new ua((i=>tp(i)),np),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new op,this.targetCount=0,this.oi=pl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new pl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class AE{constructor(e,i){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new wR,this.referenceDelegate=e(this),this.li=new IR(this),this.indexManager=new dR,this.remoteDocumentCache=(function(o){return new RR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new hR(i),this.Pi=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new AR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new xR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new NR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class NR extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new op,this.Ai=null}static Vi(e){return new up(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ua((a=>ix(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=vR(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new cp(e,i.fromCache,a,o)}}class DR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return pS()?8:tx(ln())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new DR;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Ja()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ja()<=Pe.DEBUG&&le("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ja()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):X.resolve())}gs(e,i){if(Q_(i))return X.resolve(null);let a=zi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=xm(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(e,xm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,o){return Q_(i)||o.isEqual(we.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?X.resolve(null):(Ja()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.Ds(e,d,i,$w(o,Po)).next((g=>g)))}))}bs(e,i){let a=new qt(tE(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return Ja()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Za(i)),this.fs.getDocumentsMatchingQuery(e,i,gr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hp="LocalStore",MR=3e8;class kR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Et(Be),this.Fs=new ua((c=>tp(c)),np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function VR(s,e,i,a){return new kR(s,e,i,a)}async function wE(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=qe();for(const y of o){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function jR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const A=y.batch,N=A.keys();let q=X.resolve();return N.forEach((W=>{q=q.next((()=>E.getEntry(_,W))).next((ne=>{const ie=y.docVersions.get(W);Ze(ie!==null,48541),ne.version.compareTo(ie)<0&&(A.applyToRemoteDocument(ne,y),ne.isValidDocument()&&(ne.setReadTime(y.commitVersion),E.addEntry(ne)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function xE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function LR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((E,A)=>{const N=o.get(A);if(!N)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,A))));let q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(tn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),o=o.insert(A,q),(function(ne,ie,ye){return ne.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=MR?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(N,q,E)&&g.push(i.li.updateTargetData(c,q))}));let _=vs(),y=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(UR(c,d,e.documentUpdates).next((E=>{_=E.Bs,y=E.Ls}))),!a.isEqual(we.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function UR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=vs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(hp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function zR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function PR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Dm(s,e,i){const a=Ce(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!bl(d))throw d;le(hp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function lv(s,e,i){const a=Ce(s);let o=we.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const A=Ce(_),N=A.Fs.get(E);return N!==void 0?X.resolve(A.vs.get(N)):A.li.getTargetData(y,E)})(a,d,zi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?c:qe()))).next((g=>(BR(a,wx(e),g),{documents:g,ks:c})))))}function BR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class ov{constructor(){this.activeTargetIds=Dx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qR{constructor(){this.vo=new ov,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ov,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HR{Mo(e){}shutdown(){}}const uv="ConnectivityMonitor";class cv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(uv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(uv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Om(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const Zd="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Om(),g=this.Qo(e,i.toUriEncodedString());le(Zd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),E=yl(y);return this.zo(e,g,_,a,E).then((A=>(le(Zd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw cl(Zd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=FR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class KR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",xo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class al extends GR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!al.c_){const e=M1();xo(e,O1.STAT_EVENT,(i=>{i.stat===Em.PROXY?le(sn,"STAT_EVENT: detected buffering proxy"):i.stat===Em.NOPROXY&&le(sn,"STAT_EVENT: detected no buffering proxy")})),al.c_=!0}}zo(e,i,a,o,c){const d=Om();return new Promise(((g,_)=>{const y=new N1;y.setWithCredentials(!0),y.listenOnce(D1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const A=y.getResponseJson();le(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Yc.TIMEOUT:le(sn,`RPC '${e}' ${d} timed out`),_(new fe($.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const N=y.getStatus();if(le(sn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q?.error;if(W&&W.status&&W.message){const ne=(function(ye){const Ie=ye.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ie)>=0?Ie:$.UNKNOWN})(W.status);_(new fe(ne,W.message))}else _(new fe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new fe($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(sn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(sn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Om(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");le(sn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let A=!1,N=!1;const q=new KR({Ho:W=>{N?le(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(A||(le(sn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),le(sn,`RPC '${e}' stream ${o} sending:`,W),E.send(W))},Jo:()=>E.close()});return xo(E,Co.EventType.OPEN,(()=>{N||(le(sn,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),xo(E,Co.EventType.CLOSE,(()=>{N||(N=!0,le(sn,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(E))})),xo(E,Co.EventType.ERROR,(W=>{N||(N=!0,cl(sn,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),q.o_(new fe($.UNAVAILABLE,"The operation could not be completed")))})),xo(E,Co.EventType.MESSAGE,(W=>{if(!N){const ne=W.data[0];Ze(!!ne,16349);const ie=ne,ye=ie?.error||ie[0]?.error;if(ye){le(sn,`RPC '${e}' stream ${o} received error:`,ye);const Ie=ye.status;let Se=(function(je){const C=Lt[je];if(C!==void 0)return fE(C)})(Ie),Je=ye.message;Se===void 0&&(Se=$.INTERNAL,Je="Unknown error status: "+Ie+" with message "+ye.message),N=!0,q.o_(new fe(Se,Je)),E.close()}else le(sn,`RPC '${e}' stream ${o} received:`,ne),q.__(ne)}})),al.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return k1()}}function YR(s){return new al(s)}function em(){return typeof document<"u"?document:null}function Mh(s){return new Wx(s,!0)}al.c_=!1;class RE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hv="PersistentStream";class CE{constructor(e,i,a,o,c,d,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QR extends CE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=eR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Pi(d.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=wm(_)?{documents:iR(c,_)}:{query:sR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=pE(c,d.resumeToken);const y=Rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=mh(c,d.snapshotVersion.toTimestamp());const y=Rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=aR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Nm(this.serializer),i.removeTarget=e,this.K_(i)}}class XR extends CE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=nR(e.writeResults,e.commitTime),a=Pi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Nm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>tR(this.serializer,a)))};this.K_(i)}}class $R{}class WR extends $R{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe($.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Cm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JR(s,e,i,a){return new WR(s,e,i,a)}class ZR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class eC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(le(la,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Va=new ZR(a,o)}}async function kh(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function ru(s){for(const e of s.Ra)await e(!1)}function IE(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pp(i)?mp(i):Sl(i).O_()&&dp(i,e))}function fp(s,e){const i=Ce(s),a=Sl(i);i.Ia.delete(e),a.O_()&&NE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Va.set("Unknown"))}function dp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sl(s).Z_(e)}function NE(s,e){s.da.$e(e),Sl(s).X_(e)}function mp(s){s.da=new Yx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Sl(s).start(),s.Va.ua()}function pp(s){return ca(s)&&!Sl(s).x_()&&s.Ia.size>0}function ca(s){return Ce(s).Ea.size===0}function DE(s){s.da=void 0}async function tC(s){s.Va.set("Online")}async function nC(s){s.Ia.forEach(((e,i)=>{dp(s,e)}))}async function iC(s,e){DE(s),pp(s)?(s.Va.ha(e),mp(s)):s.Va.set("Unknown")}async function sC(s,e,i){if(s.Va.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){le(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gh(s,a)}else if(e instanceof Wc?s.da.Xe(e):e instanceof dE?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await xE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),NE(c,_);const A=new lr(E.target,_,y,E.sequenceNumber);dp(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){le(la,"Failed to raise snapshot:",a),await gh(s,a)}}async function gh(s,e,i){if(!bl(e))throw e;s.Ea.add(1),await ru(s),s.Va.set("Offline"),i||(i=()=>xE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await kh(s)}))}function OE(s,e){return e().catch((i=>gh(s,i,e)))}async function Vh(s){const e=Ce(s),i=Er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;rC(e);)try{const o=await zR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,aC(e,o)}catch(o){await gh(e,o)}ME(e)&&kE(e)}function rC(s){return ca(s)&&s.Ta.length<10}function aC(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function ME(s){return ca(s)&&!Er(s).x_()&&s.Ta.length>0}function kE(s){Er(s).start()}async function lC(s){Er(s).ra()}async function oC(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function uC(s,e,i){const a=s.Ta.shift(),o=rp.from(a,e,i);await OE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Vh(s)}async function cC(s,e){e&&Er(s).Y_&&await(async function(a,o){if((function(d){return Fx(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Er(a).B_(),await OE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vh(a)}})(s,e),ME(s)&&kE(s)}async function fv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),le(la,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await ru(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function hC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await ru(i),i.Va.set("Unknown"))}function Sl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new QR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:tC.bind(null,s),Yo:nC.bind(null,s),t_:iC.bind(null,s),J_:sC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),DE(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new XR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lC.bind(null,s),t_:cC.bind(null,s),ta:oC.bind(null,s),na:uC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new gp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(_s("AsyncQueue",`${e}: ${s}`),bl(s))return new fe($.UNAVAILABLE,`${e}: ${s}`);throw s}class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Io(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class dv{constructor(){this.ga=new Et(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class gl{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new gl(e,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class fC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dC{constructor(){this.queries=mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=mv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new fe($.ABORTED,"Firestore shutting down"))}}function mv(){return new ua((s=>eE(s)),Ch)}async function VE(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new fC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=yp(d,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&_p(i)}async function jE(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mC(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&_p(i)}function pC(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function _p(s){s.Ca.forEach((e=>{e.next()}))}var Mm,pv;(pv=Mm||(Mm={})).Ma="default",pv.Cache="cache";class LE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new gl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class UE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class gC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=tE(e),this.tu=new ll(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new dv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const N=o.get(E),q=Ih(this.query,A)?A:null,W=!!N&&this.mutatedKeys.has(N.key),ne=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ie=!1;N&&q?N.data.isEqual(q.data)?W!==ne&&(a.track({type:3,doc:q}),ie=!0):this.su(N,q)||(a.track({type:2,doc:q}),ie=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!N&&q?(a.track({type:0,doc:q}),ie=!0):N&&!q&&(a.track({type:1,doc:N}),ie=!0,(_||y)&&(g=!0)),ie&&(q?(d=d.add(q),c=ne?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(q,W){const ne=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:ie})}};return ne(q)-ne(W)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new gl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new zE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new UE(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vp="SyncEngine";class yC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class _C{constructor(e){this.key=e,this.hu=!1}}class vC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>eE(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(ge.comparator),this.Au=new Map,this.Vu=new op,this.du={},this.mu=new Map,this.fu=pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(s,e,i=!0){const a=GE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await PE(a,e,i,!0),o}async function TC(s,e){const i=GE(s);await PE(i,e,!0,!1)}async function PE(s,e,i,a){const o=await PR(s.localStore,zi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await bC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&IE(s.remoteStore,o),g}async function bC(s,e,i,a,o){s.pu=(A,N,q)=>(async function(ne,ie,ye,Ie){let Se=ie.view.ru(ye);Se.Ss&&(Se=await lv(ne.localStore,ie.query,!1).then((({documents:C})=>ie.view.ru(C,Se))));const Je=Ie&&Ie.targetChanges.get(ie.targetId),pt=Ie&&Ie.targetMismatches.get(ie.targetId)!=null,je=ie.view.applyChanges(Se,ne.isPrimaryClient,Je,pt);return yv(ne,ie.targetId,je.au),je.snapshot})(s,A,N,q);const c=await lv(s.localStore,e,!0),d=new gC(e,c.ks),g=d.ru(c.documents),_=su.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);yv(s,i,y.au);const E=new yC(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function SC(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ch(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&fp(a.remoteStore,o.targetId),km(a,o.targetId)})).catch(Tl)):(km(a,o.targetId),await Dm(a.localStore,o.targetId,!0))}async function AC(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fp(i.remoteStore,a.targetId))}async function wC(s,e,i){const a=OC(s);try{const o=await(function(d,g){const _=Ce(d),y=mt.now(),E=g.reduce(((q,W)=>q.add(W.key)),qe());let A,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=vs(),ne=qe();return _.xs.getEntries(q,E).next((ie=>{W=ie,W.forEach(((ye,Ie)=>{Ie.isValidDocument()||(ne=ne.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,W))).next((ie=>{A=ie;const ye=[];for(const Ie of g){const Se=zx(Ie,A.get(Ie.key).overlayedDocument);Se!=null&&ye.push(new Sr(Ie.key,Se,Y1(Se.value.mapValue),fi.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ye,g)})).next((ie=>{N=ie;const ye=ie.applyToLocalDocumentSet(A,ne);return _.documentOverlayCache.saveOverlays(q,ie.batchId,ye)}))})).then((()=>({batchId:N.batchId,changes:iE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new Et(Be)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await au(a,o.changes),await Vh(a.remoteStore)}catch(o){const c=yp(o,"Failed to persist write");i.reject(c)}}async function BE(s,e){const i=Ce(s);try{const a=await LR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await Tl(a)}}function gv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Ce(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,A)=>{for(const N of A.ba)N.va(g)&&(y=!0)})),y&&_p(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xC(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Et(ge.comparator);d=d.insert(c,an.newNoDocument(c,we.min()));const g=qe().add(c),_=new Oh(we.min(),new Map,new Et(Be),d,g);await BE(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),Ep(a)}else await Dm(a.localStore,e,!1).then((()=>km(a,e,i))).catch(Tl)}async function RC(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await jR(i.localStore,e);HE(i,a,null),qE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await Tl(o)}}async function CC(s,e,i){const a=Ce(s);try{const o=await(function(d,g){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ze(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);HE(a,e,i),qE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await Tl(o)}}function qE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function HE(s,e,i){const a=Ce(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function km(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||FE(s,a)}))}function FE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(fp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Ep(s))}function yv(s,e,i){for(const a of i)a instanceof UE?(s.Vu.addReference(a.key,e),IC(s,a)):a instanceof zE?(le(vp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||FE(s,a.key)):ve(19791,{wu:a})}function IC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(vp,"New document in limbo: "+i),s.Eu.add(a),Ep(s))}function Ep(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(vt.fromString(e)),a=s.fu.next();s.Au.set(a,new _C(i)),s.Ru=s.Ru.insert(i,a),IE(s.remoteStore,new lr(zi(Rh(i.path)),a,"TargetPurposeLimboResolution",Sh.ce))}}async function au(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=cp.Es(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,y){const E=Ce(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(N=>X.forEach(N.Ts,(q=>E.persistence.referenceDelegate.addReference(A,N.targetId,q))).next((()=>X.forEach(N.Is,(q=>E.persistence.referenceDelegate.removeReference(A,N.targetId,q)))))))))}catch(A){if(!bl(A))throw A;le(hp,"Failed to update sequence numbers: "+A)}for(const A of y){const N=A.targetId;if(!A.fromCache){const q=E.vs.get(N),W=q.snapshotVersion,ne=q.withLastLimboFreeSnapshotVersion(W);E.vs=E.vs.insert(N,ne)}}})(a.localStore,c))}async function NC(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){le(vp,"User change. New user:",e.toKey());const a=await wE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new fe($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ns)}}function DC(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function GE(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=BE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xC.bind(null,e),e.Pu.J_=mC.bind(null,e.eventManager),e.Pu.yu=pC.bind(null,e.eventManager),e}function OC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return VR(this.persistence,new OR,e.initialUser,this.serializer)}Cu(e){return new AE(up.Vi,this.serializer)}Du(e){return new qR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class MC extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof ph,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new yR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new AE((a=>ph.Vi(a,i)),this.serializer)}}class Vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dC})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=YR(e.databaseInfo);return JR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new eC(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>gv(this.syncEngine,i,0)),(function(){return cv.v()?new cv:new HR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,E){const A=new vC(o,c,d,g,_,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);le(la,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vm.provider={build:()=>new Vm};class KE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Tr="FirestoreClient";class kC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=yp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),le(Tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await wE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _v(s,e){s.asyncQueue.verifyOperationInProgress();const i=await VC(s);le(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>fv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>fv(e.remoteStore,o))),s._onlineComponents=e}async function VC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Tr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;cl("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new yh)}}else le(Tr,"Using default OfflineComponentProvider"),await tm(s,new MC(void 0));return s._offlineComponents}async function YE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Tr,"Using user provided OnlineComponentProvider"),await _v(s,s._uninitializedComponentsProvider._online)):(le(Tr,"Using default OnlineComponentProvider"),await _v(s,new Vm))),s._onlineComponents}function jC(s){return YE(s).then((e=>e.syncEngine))}async function jm(s){const e=await YE(s),i=e.eventManager;return i.onListen=EC.bind(null,e.syncEngine),i.onUnlisten=SC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AC.bind(null,e.syncEngine),i}function LC(s,e,i,a){const o=new KE(a),c=new LE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>VE(await jm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>jE(await jm(s),c)))}}function UC(s,e,i={}){const a=new dr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const E=new KE({next:N=>{E.Nu(),d.enqueueAndForget((()=>jE(c,A)));const q=N.docs.has(g);!q&&N.fromCache?y.reject(new fe($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&_&&_.source==="server"?y.reject(new fe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),A=new LE(Rh(g.path),E,{includeMetadataChanges:!0,Ka:!0});return VE(c,A)})(await jm(s),s.asyncQueue,e,i,a))),a.promise}function zC(s,e){const i=new dr;return s.asyncQueue.enqueueAndForget((async()=>wC(await jC(s),e,i))),i.promise}function QE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const PC="ComponentProvider",vv=new Map;function BC(s,e,i,a,o){return new ax(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,QE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const XE="firestore.googleapis.com",Ev=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=Ev}else this.host=e.host,this.ssl=e.ssl??Ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pR)throw new fe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Uw;switch(a.type){case"firstParty":return new qw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=vv.get(i);a&&(le(PC,"Removing Datastore"),vv.delete(i),a.terminate())})(this),Promise.resolve()}}function qC(s,e,i,a={}){s=hi(s,Tp);const o=yl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Fv(`https://${g}`),Gv("Firestore",!0)),c.host!==XE&&c.host!==g&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!pr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rn.MOCK_USER;else{y=aS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(A)}s._authCredentials=new zw(new j1(y,E))}}class jh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,zt._jsonSchema))return new zt(e,a||null,new ge(vt.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class Go extends jh{constructor(e,i,a){super(e,i,Rh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ge(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function _n(s,e,...i){if(s=cn(s),arguments.length===1&&(e=$m.newId()),Qw("doc","path",e),s instanceof Tp){const a=vt.fromString(e,...i);return V_(a),new zt(s,null,new ge(a))}{if(!(s instanceof zt||s instanceof Go))throw new fe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vt.fromString(e,...i));return V_(a),new zt(s.firestore,s instanceof Go?s.converter:null,new ge(a))}}const bv="AsyncQueue";class Sv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&le(bv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;le(bv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",Av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=gp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class oa extends Tp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sv(e),this._firestoreClient=void 0,await e}}}function HC(s,e){const i=typeof s=="object"?s:Xv(),a=typeof s=="string"?s:oh,o=Pm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=sS("firestore");c&&qC(o,...c)}return o}function bp(s){if(s._terminated)throw new fe($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FC(s),s._firestoreClient}function FC(s){const e=s._freezeSettings(),i=BC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(tn.fromBase64String(e))}catch(i){throw new fe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ut("string",$n._jsonSchemaVersion),bytes:Ut("string")};class Sp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ut("string",Bi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new di(e.vectorValues);throw new fe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Ut("string",di._jsonSchemaVersion),vectorValues:Ut("object")};const GC=/^__.*__$/;class KC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class $E{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function WE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class Uh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WE(this.dataSource)&&GC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}createContext(e,i,a,o=!1){return new Uh({dataSource:e,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new YC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function QC(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);wp("Data must be an object, but it was:",d,a);const g=ZE(a,d);let _,y;if(c.merge)_=new kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const N=Ko(e,A,i);if(!d.contains(N))throw new fe($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);nT(E,N)||E.push(N)}_=new kn(E),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new KC(new Tn(g),_,y)}class zh extends Lh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function XC(s,e,i){return new Uh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ap extends Lh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=XC(this,e,!0),a=this.Ac.map((c=>lu(c,i))),o=new ml(a);return new Vx(e.path,o)}isEqual(e){return e instanceof Ap&&pr(this.Ac,e.Ac)}}function $C(s,e,i,a){const o=s.createContext(1,e,i);wp("Data must be an object, but it was:",o,a);const c=[],d=Tn.empty();br(a,((_,y)=>{const E=tT(e,_,i);y=cn(y);const A=o.childContextForFieldPath(E);if(y instanceof zh)c.push(E);else{const N=lu(y,A);N!=null&&(c.push(E),d.set(E,N))}}));const g=new kn(c);return new $E(d,g,o.fieldTransforms)}function WC(s,e,i,a,o,c){const d=s.createContext(1,e,i),g=[Ko(e,a,i)],_=[o];if(c.length%2!=0)throw new fe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Ko(e,c[N])),_.push(c[N+1]);const y=[],E=Tn.empty();for(let N=g.length-1;N>=0;--N)if(!nT(y,g[N])){const q=g[N];let W=_[N];W=cn(W);const ne=d.childContextForFieldPath(q);if(W instanceof zh)y.push(q);else{const ie=lu(W,ne);ie!=null&&(y.push(q),E.set(q,ie))}}const A=new kn(y);return new $E(E,A,d.fieldTransforms)}function lu(s,e){if(eT(s=cn(s)))return wp("Unsupported field value:",e,s),ZE(s,e);if(s instanceof Lh)return(function(a,o){if(!WE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=lu(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ox(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:mh(o.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mh(o.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:pE(o.serializer,a._byteString)};if(a instanceof zt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof di)return(function(d,g){const _=d instanceof di?d.toArray():d;return{mapValue:{fields:{[G1]:{stringValue:K1},[uh]:{arrayValue:{values:_.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return ip(g.serializer,E)}))}}}}}})(a,o);if(bE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wm(a)}`)})(s,e)}function ZE(s,e){const i={};return z1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((a,o)=>{const c=lu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function eT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Bi||s instanceof $n||s instanceof zt||s instanceof Lh||s instanceof di||bE(s))}function wp(s,e,i){if(!eT(i)||!L1(i)){const a=Wm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Ko(s,e,i){if((e=cn(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return tT(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,i)}const JC=new RegExp("[~\\*/\\[\\]]");function tT(s,e,i){if(e.search(JC)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sp(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new fe($.INVALID_ARGUMENT,g+s+_)}function nT(s,e){return s.some((i=>i.isEqual(e)))}class ZC{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return br(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Ct(a.doubleValue)));return new di(i)}convertGeoPoint(e){return new Bi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const i=yr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=vt.fromString(e);Ze(TE(a),9688,{name:e});const o=new qo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class iT extends ZC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function ea(...s){return new Ap("arrayUnion",s)}const wv="@firebase/firestore",xv="4.10.0";function Rv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class sT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Ko("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class eI extends sT{data(){return super.data()}}function tI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function nI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Do{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends sT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Ko("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ut("string",ia._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Jc extends ia{data(e={}){return super.data(e)}}class ol{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Do(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Jc(this._firestore,this._userDataWriter,a.key,a,new Do(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Jc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Do(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Jc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Do(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:iI(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:Ut("string",ol._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function sI(s){s=hi(s,zt);const e=hi(s.firestore,oa),i=bp(e);return UC(i,s._key).then((a=>rT(e,s,a)))}function rI(s,e,i){s=hi(s,zt);const a=hi(s.firestore,oa),o=nI(s.converter,e),c=JE(a);return xp(a,[QC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,fi.none())])}function ui(s,e,i,...a){s=hi(s,zt);const o=hi(s.firestore,oa),c=JE(o);let d;return d=typeof(e=cn(e))=="string"||e instanceof Sp?WC(c,"updateDoc",s._key,e,i,a):$C(c,"updateDoc",s._key,e),xp(o,[d.toMutation(s._key,fi.exists(!0))])}function aI(s){return xp(hi(s.firestore,oa),[new sp(s._key,fi.none())])}function Cv(s,...e){s=cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Rv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Rv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof zt)d=hi(s.firestore,oa),g=Rh(s._key.path),c={next:y=>{e[a]&&e[a](rT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=hi(s,jh);d=hi(y.firestore,oa),g=y._query;const E=new iT(d);c={next:A=>{e[a]&&e[a](new ol(d,E,y,A))},error:e[a+1],complete:e[a+2]},tI(s._query)}const _=bp(d);return LC(_,g,o,c)}function xp(s,e){const i=bp(s);return zC(i,e)}function rT(s,e,i){const a=i.docs.get(e._key),o=new iT(s);return new ia(s,o,e._key,a,new Do(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Lw(_l),ul(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new oa(new Pw(a.getProvider("auth-internal")),new Hw(d,a.getProvider("app-check-internal")),lx(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),hr(wv,xv,e),hr(wv,xv,"esm2020")})();const aT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const lI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const oI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Iv=s=>{const e=oI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var uI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hI=Qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>Qe.createElement("svg",{ref:_,...uI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:aT("lucide",o),...!c&&!cI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>Qe.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Xe=(s,e)=>{const i=Qe.forwardRef(({className:a,...o},c)=>Qe.createElement(hI,{ref:c,iconNode:e,className:aT(`lucide-${lI(Iv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Iv(s),i};const fI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dI=Xe("arrow-up",fI);const mI=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],qc=Xe("bird",mI);const pI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nm=Xe("book-open",pI);const gI=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],im=Xe("bug",gI);const yI=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Nv=Xe("cat",yI);const _I=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],lT=Xe("chart-no-axes-column",_I);const vI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oT=Xe("circle-check-big",vI);const EI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TI=Xe("copy",EI);const bI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],SI=Xe("crown",bI);const AI=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],wI=Xe("dog",AI);const xI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],RI=Xe("ellipsis",xI);const CI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],II=Xe("eye",CI);const NI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],DI=Xe("grid-3x3",NI);const OI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],MI=Xe("hammer",OI);const kI=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Yo=Xe("hexagon",kI);const VI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jI=Xe("history",VI);const LI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],UI=Xe("house",LI);const zI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],PI=Xe("loader",zI);const BI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dv=Xe("log-out",BI);const qI=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],HI=Xe("mountain",qI);const FI=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Qo=Xe("paw-print",FI);const GI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],KI=Xe("play",GI);const YI=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],Ov=Xe("rat",YI);const QI=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],XI=Xe("skip-forward",QI);const $I=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],sm=Xe("sparkles",$I);const WI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JI=Xe("sun",WI);const ZI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eN=Xe("trash-2",ZI);const tN=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],nN=Xe("tree-deciduous",tN);const iN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rm=Xe("triangle-alert",iN);const sN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rN=Xe("trophy",sN);const aN=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],lN=Xe("waves",aN);const oN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rp=Xe("x",oN),uN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c0d92602ad20ed876aa637"},uT=Qv(uN),am=Vw(uT),vn=HC(uT),On=typeof __app_id<"u"?__app_id:"equilibrium-game",cN="equilibrium",Ro=()=>b.jsx("style",{children:`
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(16, 185, 129, 0.6); }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    .animate-float { animation: float infinite ease-in-out; }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    .mask-gradient-right { mask-image: linear-gradient(to right, black 85%, transparent 100%); }
  `}),lm=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[...Array(15)].map((s,e)=>b.jsx("div",{className:"absolute animate-float text-emerald-500",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${20+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:b.jsx(Yo,{size:48})},e))})]}),mr={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:RI,name:"Log",validOn:["EMPTY","WOOD"],scoreType:"TREE"},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:nN,name:"Foliage",validOn:["EMPTY","WOOD"],scoreType:"TREE"},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:HI,name:"Stone",validOn:["EMPTY","STONE"],scoreType:"MOUNTAIN"},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:lN,name:"Water",validOn:["EMPTY"],scoreType:"RIVER"},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:JI,name:"Sand",validOn:["EMPTY"],scoreType:"FIELD"},BRICK:{id:"BRICK",color:"bg-red-700",border:"border-red-900",icon:UI,name:"Brick",validOn:["EMPTY","BRICK"],scoreType:"BUILDING"}},or=(s,e)=>[{q:s+1,r:e},{q:s+1,r:e-1},{q:s,r:e-1},{q:s-1,r:e},{q:s-1,r:e+1},{q:s,r:e+1}],Mn=(s,e)=>!s||s.stack.length!==e.length?!1:s.stack.every((i,a)=>i===e[a]),nr=(s,e,i,a)=>or(e,i).some(c=>{const d=s[`${c.q},${c.r}`];return d&&a(d)}),cs={EAGLE:{id:"EAGLE",name:"Eagle",desc:"Highest Peak (3 Stone)",points:[4,4],slots:2,icon:qc,iconColor:"text-amber-300",visual:{type:"stack",tokens:["STONE","STONE","STONE"]},check:s=>Mn(s,["STONE","STONE","STONE"])},BEAR:{id:"BEAR",name:"Bear",desc:"Tall Tree next to Mountain (2+ Stone)",points:[4,5],slots:2,icon:Qo,iconColor:"text-orange-700",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["STONE","STONE"]]},check:(s,e)=>Mn(s,["WOOD","WOOD","LEAF"])?nr(e,s.q,s.r,i=>i.stack.length>=2&&i.stack[0]==="STONE"):!1},DEER:{id:"DEER",name:"Deer",desc:"Tall Tree next to Field",points:[3,3,4],slots:3,icon:Qo,iconColor:"text-orange-400",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["SAND"]]},check:(s,e)=>Mn(s,["WOOD","WOOD","LEAF"])?nr(e,s.q,s.r,i=>i.stack[0]==="SAND"):!1},FROG:{id:"FROG",name:"Frog",desc:"Water surrounded by 2 other Water",points:[2,3,3,4],slots:4,icon:im,iconColor:"text-green-400",visual:{type:"adj",main:["WATER"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;let i=0;return or(s.q,s.r).forEach(a=>{e[`${a.q},${a.r}`]?.stack[0]==="WATER"&&i++}),i>=2}},SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Small Tree (1 Log + Leaf)",points:[2,2,3],slots:3,icon:Ov,iconColor:"text-orange-300",visual:{type:"stack",tokens:["WOOD","LEAF"]},check:s=>Mn(s,["WOOD","LEAF"])},LIZARD:{id:"LIZARD",name:"Lizard",desc:"Small Rock next to Bush (Leaf)",points:[2,2,2],slots:3,icon:Nv,iconColor:"text-emerald-300",visual:{type:"adj",main:["STONE"],others:[["LEAF"]]},check:(s,e)=>Mn(s,["STONE"])?nr(e,s.q,s.r,i=>i.stack.length===1&&i.stack[0]==="LEAF"):!1},BEAVER:{id:"BEAVER",name:"Beaver",desc:"Log next to Water",points:[2,2,3],slots:3,icon:Ov,iconColor:"text-amber-600",visual:{type:"adj",main:["WOOD"],others:[["WATER"]]},check:(s,e)=>Mn(s,["WOOD"])&&nr(e,s.q,s.r,i=>i.stack[0]==="WATER")},FOX:{id:"FOX",name:"Fox",desc:"Medium Rock next to Medium Wood",points:[3,4],slots:2,icon:wI,iconColor:"text-orange-500",visual:{type:"adj",main:["STONE","STONE"],others:[["WOOD","WOOD"]]},check:(s,e)=>Mn(s,["STONE","STONE"])&&nr(e,s.q,s.r,i=>Mn(i,["WOOD","WOOD"]))},BEE:{id:"BEE",name:"Bee",desc:"Bush (Leaf) next to 2 other Bushes",points:[3,3,3],slots:3,icon:im,iconColor:"text-yellow-400",visual:{type:"adj",main:["LEAF"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!Mn(s,["LEAF"]))return!1;let i=0;return or(s.q,s.r).forEach(a=>{const o=e[`${a.q},${a.r}`];o&&Mn(o,["LEAF"])&&i++}),i>=2}},BAT:{id:"BAT",name:"Bat",desc:"Building (Brick) next to Water",points:[3,3,3],slots:3,icon:qc,iconColor:"text-purple-400",visual:{type:"adj",main:["BRICK"],others:[["WATER"]]},check:(s,e)=>s.stack[0]==="BRICK"&&nr(e,s.q,s.r,i=>i.stack[0]==="WATER")},HAWK:{id:"HAWK",name:"Hawk",desc:"Dead Tree (3 Logs)",points:[3,4],slots:2,icon:qc,iconColor:"text-amber-500",visual:{type:"stack",tokens:["WOOD","WOOD","WOOD"]},check:s=>Mn(s,["WOOD","WOOD","WOOD"])},SCORPION:{id:"SCORPION",name:"Scorpion",desc:"2 Stone next to Sand",points:[3,3,3],slots:3,icon:im,iconColor:"text-red-400",visual:{type:"adj",main:["STONE","STONE"],others:[["SAND"]]},check:(s,e)=>Mn(s,["STONE","STONE"])&&nr(e,s.q,s.r,i=>i.stack[0]==="SAND")},HERON:{id:"HERON",name:"Heron",desc:"Water next to Bush (Leaf)",points:[3,3,3],slots:3,icon:qc,iconColor:"text-cyan-200",visual:{type:"adj",main:["WATER"],others:[["LEAF"]]},check:(s,e)=>s.stack[0]==="WATER"&&nr(e,s.q,s.r,i=>Mn(i,["LEAF"]))},CAT:{id:"CAT",name:"Cat",desc:"Building next to 2 Fields",points:[4,4],slots:2,icon:Nv,iconColor:"text-gray-300",visual:{type:"adj",main:["BRICK"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(s.stack[0]!=="BRICK")return!1;let i=0;return or(s.q,s.r).forEach(a=>{const o=e[`${a.q},${a.r}`];o&&o.stack[0]==="SAND"&&i++}),i>=2}}},Mv=(s,e)=>{if(!s||s.animal||s.stack.length>=3)return!1;const i=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return mr[e].validOn.includes(i)},hN=s=>{let e={trees:0,mountains:0,fields:0,rivers:0,buildings:0};const i=new Set,a=Object.values(s);a.forEach(d=>{if(d.stack[d.stack.length-1]==="LEAF"){const g=d.stack.length;g===2&&d.stack[0]==="WOOD"&&(e.trees+=3),g===3&&d.stack[0]==="WOOD"&&d.stack[1]==="WOOD"&&(e.trees+=7)}}),a.forEach(d=>{if(d.stack[0]==="STONE"){const g=d.stack.length;or(d.q,d.r).some(E=>s[`${E.q},${E.r}`]?.stack[0]==="STONE")&&(e.mountains+=g)}}),i.clear(),a.forEach(d=>{if(d.stack[0]==="SAND"&&!i.has(`${d.q},${d.r}`)){let g=0,_=[d];for(i.add(`${d.q},${d.r}`);_.length>0;){const y=_.pop();g++,or(y.q,y.r).forEach(E=>{const A=s[`${E.q},${E.r}`],N=`${E.q},${E.r}`;A&&A.stack[0]==="SAND"&&!i.has(N)&&(i.add(N),_.push(A))})}g>=2&&(e.fields+=5)}}),i.clear();let o=0;return a.forEach(d=>{if(d.stack[0]==="WATER"&&!i.has(`${d.q},${d.r}`)){let g=0,_=new Set,y=[d];for(i.add(`${d.q},${d.r}`),_.add(`${d.q},${d.r}`);y.length>0;){const E=y.pop();g++,or(E.q,E.r).forEach(A=>{const N=s[`${A.q},${A.r}`],q=`${A.q},${A.r}`;N&&N.stack[0]==="WATER"&&!_.has(q)&&(i.add(q),_.add(q),y.push(N))})}g>o&&(o=g)}}),o===2?e.rivers=2:o===3?e.rivers=4:o===4?e.rivers=7:o===5?e.rivers=10:o>=6&&(e.rivers=15),a.forEach(d=>{if(d.stack[0]==="BRICK"){const g=or(d.q,d.r),_=new Set;g.forEach(y=>{const E=s[`${y.q},${y.r}`];if(E&&E.stack.length>0){const A=E.stack[E.stack.length-1];A!=="BRICK"&&_.add(A)}}),_.size>=3&&(e.buildings+=5)}}),{total:Object.values(e).reduce((d,g)=>d+g,0),breakdown:e}},om=()=>{const s={};for(let i=-2;i<=2;i++){let a=Math.max(-2,-i-2),o=Math.min(2,-i+2);for(let c=a;c<=o;c++)s[`${i},${c}`]={q:i,r:c,stack:[],animal:null}}return s},kv=()=>{const s={WOOD:15,LEAF:15,STONE:12,WATER:12,SAND:9,BRICK:9};let e=[];Object.entries(s).forEach(([i,a])=>{for(let o=0;o<a;o++)e.push(i)});for(let i=e.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[e[i],e[a]]=[e[a],e[i]]}return e},Vv=()=>{const s=Object.keys(cs);let e=[];for(let i=0;i<3;i++)e=[...e,...s];for(let i=e.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[e[i],e[a]]=[e[a],e[i]]}return e},jv=(s,e)=>{let i=[...s],a=[...e];for(;i.length<5&&a.length>=3;)i.push({id:Math.random().toString(36).substr(2,9),tokens:[a.pop(),a.pop(),a.pop()].filter(Boolean)});return{market:i,bag:a}},Lv=(s,e)=>{let i=[...s],a=[...e];for(;i.length<4&&a.length>0;){const o=a.pop();i.push({id:Math.random().toString(36).substr(2,9),type:o})}return{market:i,deck:a}},um=({tokens:s,scale:e=1,spacing:i=8})=>b.jsx("div",{className:"relative w-8 h-12 mx-auto",style:{transform:`scale(${e})`,height:`${s.length*i+24}px`},children:s.map((a,o)=>b.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border shadow-sm ${mr[a].color} ${mr[a].border} flex items-center justify-center`,style:{bottom:`${o*i}px`,zIndex:o},children:o===s.length-1&&(()=>{const c=mr[a].icon;return b.jsx(c,{size:12,className:"text-white/70"})})()},o))}),vh=({visual:s})=>s?s.type==="stack"?b.jsx(um,{tokens:s.tokens}):s.type==="adj"?b.jsxs("div",{className:"flex items-end justify-center gap-2 py-2",children:[b.jsxs("div",{className:"relative z-10 border-2 border-white/50 rounded-xl p-1 bg-black/20",children:[b.jsx(um,{tokens:Array.isArray(s.main)?s.main:[s.main],scale:.9}),b.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow",children:b.jsx("div",{className:"w-1.5 h-1.5 bg-slate-900 rounded-full"})})]}),b.jsx("div",{className:"flex flex-col gap-1",children:s.others.map((e,i)=>b.jsx("div",{className:"opacity-80 scale-75 origin-bottom",children:b.jsx(um,{tokens:Array.isArray(e)?e:[e],scale:.8})},i))})]}):null:null,cm=()=>b.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[b.jsx(Yo,{size:16,className:"text-emerald-400"}),b.jsx("span",{className:"text-[12px] font-black tracking-[0.3em] text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),fN=({q:s,r:e,stack:i,animal:a,onClick:o,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const E=44*(Math.sqrt(3)*s+Math.sqrt(3)/2*e),A=44*(3/2*e);return b.jsxs("div",{onClick:()=>o&&o(s,e),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${E}px)`,top:`calc(50% + ${A}px)`,width:`${44*1.8}px`,height:"88px",transform:"translate(-50%, -50%)",zIndex:10+e,cursor:d||g?"pointer":"default"},children:[b.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${d||g||_?"bg-slate-700/80 hover:bg-slate-600 hover:scale-105 shadow-[0_0_15px_rgba(52,211,153,0.3)]":"bg-slate-800/90"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),b.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:b.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#34d399":"rgba(255,255,255,0.4)",strokeWidth:_?"3":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),b.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[i.map((N,q)=>{const W=mr[N];return b.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 shadow-xl flex items-center justify-center ${W.color} ${W.border}`,style:{transform:`translateY(-${q*8}px) scale(${1-q*.02})`,zIndex:q},children:q===i.length-1&&b.jsx(W.icon,{size:16,className:"text-white/80"})},q)}),d&&c&&b.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${mr[c].color} border-white`,style:{transform:`translateY(-${i.length*8}px)`,zIndex:10},children:b.jsx(dI,{size:16,className:"text-white"})}),_&&!a&&b.jsx("div",{className:"absolute -top-6 w-8 h-8 rounded-full border-2 border-dashed border-emerald-400 shadow-xl flex items-center justify-center z-50 animate-pulse bg-emerald-500/20",children:b.jsx(oT,{size:16,className:"text-emerald-400"})}),g&&!a&&b.jsx("div",{className:"absolute -top-8 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const N=cs[g];if(!N)return null;const q=N.icon;return b.jsx(q,{size:16,className:N.iconColor,fill:"currentColor",fillOpacity:.2})})()}),a&&b.jsx("div",{className:"absolute w-8 h-8 rounded-full bg-white border-2 border-emerald-500 shadow-[0_0_10px_rgba(0,0,0,0.5)] flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${i.length*8+6}px)`},children:(()=>{const N=cs[a];if(!N)return b.jsx("div",{className:"text-black text-[8px]",children:"?"});const q=N.icon;return b.jsx(q,{size:18,className:N.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},dN=({type:s,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:b.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:b.jsx(a,{size:64,className:"animate-bounce"})}),b.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&b.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:i})]})}),hm=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[b.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:b.jsx(Rp,{size:24})}),b.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-emerald-400",children:"Architect's Handbook"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[b.jsx(Yo,{className:"text-emerald-500"})," Landscape Scoring"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[b.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[b.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Foliage)"}),b.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[b.jsx("li",{children:"2 High (1 Log+Foliage): 3 Pts"}),b.jsx("li",{children:"3 High (2 Log+Foliage): 7 Pts"}),b.jsx("li",{className:"text-slate-500 italic",children:"Foliage on ground: 0 Pts (Bush)"})]})]}),b.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[b.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),b.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[b.jsx("li",{children:"Score = Height of stack (1-3 pts)."}),b.jsx("li",{children:"Only scores if adjacent to at least one other Mountain stack."})]})]}),b.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[b.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),b.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[b.jsx("li",{children:"5 Pts for every distinct group of 2+ connected Sand."}),b.jsx("li",{children:"Cannot stack tokens on Sand."})]})]}),b.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[b.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),b.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[b.jsx("li",{children:"Longest Chain scoring:"}),b.jsx("li",{children:"2=2pts, 3=4pts, 4=7pts, 5=10pts, 6+=15pts."})]})]}),b.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-emerald-900/30",children:[b.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),b.jsx("ul",{className:"list-disc pl-4 text-xs space-y-1",children:b.jsx("li",{children:"5 Pts if surrounded by 3+ distinct terrain types (colors)."})})]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[b.jsx(Qo,{className:"text-orange-500"})," Animal Scoring"]}),b.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Draft animals to your hand. When you create their pattern on the board, select the animal to place it!"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(cs).map(e=>b.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-emerald-900/30 flex flex-col items-center gap-2 text-xs",children:[b.jsx("div",{className:"scale-75 mb-2",children:b.jsx(vh,{visual:e.visual})}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"font-bold text-white text-sm",children:e.name}),b.jsx("div",{className:"text-[10px] text-slate-400 leading-tight mb-2 h-8 overflow-hidden",children:e.desc}),b.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold bg-black/20 px-2 py-1 rounded-full",children:[e.points.join(" / ")," Pts"]})]})]},e.id))})]})]})]})}),mN=({gameState:s,onClose:e})=>b.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-lg rounded-3xl shadow-2xl p-6 relative",children:[b.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:b.jsx(Rp,{size:24})}),b.jsxs("h2",{className:"text-2xl font-black text-center mb-6 text-emerald-400 flex items-center justify-center gap-2",children:[b.jsx(lT,{})," Live Scores"]}),b.jsx("div",{className:"space-y-4",children:s.players.map(i=>b.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 mb-2",children:[b.jsx("span",{className:"font-bold text-lg text-white",children:i.name}),b.jsx("span",{className:"text-2xl font-black text-yellow-500",children:i.score+(i.landscapeScore||0)})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Animals:"})," ",b.jsx("span",{className:"text-white font-bold",children:i.score})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Trees:"})," ",b.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.trees||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Mountains:"})," ",b.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.mountains||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Fields:"})," ",b.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.fields||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Rivers:"})," ",b.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.rivers||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Buildings:"})," ",b.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.buildings||0})]})]})]},i.id))})]})}),pN=({animal:s,onClose:e})=>b.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:b.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[b.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:b.jsx(s.icon,{size:48,className:s.iconColor})}),b.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),b.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points[0]," Pts per placement"]}),b.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:b.jsx(vh,{visual:s.visual})}),b.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:b.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),b.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((i,a)=>b.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},a))}),b.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function gN(){const[s,e]=Qe.useState(null),[i,a]=Qe.useState("menu"),[o,c]=Qe.useState(""),[d,g]=Qe.useState(""),[_,y]=Qe.useState(""),[E,A]=Qe.useState(null),[N,q]=Qe.useState(""),[W,ne]=Qe.useState(!1),[ie,ye]=Qe.useState(!1),[Ie,Se]=Qe.useState(!1),[Je,pt]=Qe.useState(!1),[je,C]=Qe.useState(!1),[w,I]=Qe.useState(!1),[k,D]=Qe.useState(!1),[j,x]=Qe.useState(null),[lt,gt]=Qe.useState(null),[F,Z]=Qe.useState(null),[de,He]=Qe.useState(null),[xe,O]=Qe.useState(null),[G,te]=Qe.useState(null),re=Qe.useRef(null);Qe.useEffect(()=>{const oe=localStorage.getItem("equilibrium_roomId");oe&&y(oe)},[]),Qe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await T2(am,__initial_auth_token):await g2(am))();const ae=A2(am,se=>{if(e(se),se){const ue=localStorage.getItem("equilibrium_playerName");ue&&c(ue),gt(se.uid)}});return()=>ae()},[]),Qe.useEffect(()=>{const oe=Cv(_n(vn,"game_hub_settings","config"),ae=>{ae.exists()&&ae.data()[cN]?.maintenance?ye(!0):ye(!1)},ae=>console.log("Config Read Error (Safe to ignore):",ae));return()=>oe()},[]),Qe.useEffect(()=>{if(!_||!s)return;const oe=_n(vn,"artifacts",On,"public","data","rooms",_),ae=Cv(oe,se=>{if(se.exists()){const ue=se.data();if(!ue.players.some(Ae=>Ae.id===s.uid)){y(""),localStorage.removeItem("equilibrium_roomId"),a("menu"),q("You were removed from the world.");return}A(ue),ue.status==="playing"||ue.status==="finished"?a("game"):ue.status==="lobby"&&a("lobby")}else a("menu"),y(""),localStorage.removeItem("equilibrium_roomId"),q("Voyage ended.")},se=>{console.error(se),q("Connection lost.")});return()=>ae()},[_,s]),Qe.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const oe=E.logs[E.logs.length-1];if(re.current===null){re.current=oe.id;return}oe.id<=re.current||(re.current=oe.id,oe.type==="success"?(x({type:"success",message:"HARMONY!",subtext:oe.text,icon:sm}),setTimeout(()=>x(null),2500)):oe.type==="warning"?(x({type:"warning",message:"ATTENTION",subtext:oe.text,icon:rm}),setTimeout(()=>x(null),2500)):oe.type==="failure"&&(x({type:"failure",message:"PENALTY",subtext:oe.text,icon:rm}),setTimeout(()=>x(null),2500)))},[E?.logs]);const Ee=async()=>{if(!o)return q("Enter Name");localStorage.setItem("equilibrium_playerName",o),ne(!0);const oe=Math.random().toString(36).substr(2,6).toUpperCase(),ae=kv(),se=Vv(),{market:ue,bag:Ae}=jv([],ae),J=Lv([],se),Te={roomId:oe,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:om(),holding:[],animals:[],ready:!0,hasDraftedTokens:!1,hasDraftedAnimal:!1}],market:ue,bag:Ae,animalMarket:J.market,animalDeck:J.deck,turnIndex:0,turnPhase:"PLAY",logs:[],winnerId:null};try{await rI(_n(vn,"artifacts",On,"public","data","rooms",oe),Te),y(oe),localStorage.setItem("equilibrium_roomId",oe),gt(s.uid)}catch(pe){console.error(pe),q("Failed to create world.")}ne(!1)},Ne=async()=>{if(!d||!o)return q("Enter details");localStorage.setItem("equilibrium_playerName",o),ne(!0);try{const oe=d.toUpperCase().trim(),ae=_n(vn,"artifacts",On,"public","data","rooms",oe),se=await sI(ae);if(se.exists()&&se.data().status==="lobby"){const ue=se.data();if(!ue.players.some(Ae=>Ae.id===s.uid)){if(ue.players.length>=4){q("World is full."),ne(!1);return}const Ae=[...ue.players,{id:s.uid,name:o,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:om(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}];await ui(ae,{players:Ae})}y(oe),localStorage.setItem("equilibrium_roomId",oe),gt(s.uid)}else q("Room not found or in progress")}catch(oe){q(oe.message)}ne(!1)},Le=async()=>{await ui(_n(vn,"artifacts",On,"public","data","rooms",_),{status:"playing",logs:ea({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},St=async()=>{if(!E)return;const oe=[...E.players],ae=oe.find(se=>se.id===s.uid);ae&&(ae.ready=!ae.ready,await ui(_n(vn,"artifacts",On,"public","data","rooms",_),{players:oe}))},ot=async()=>{if(_){try{const oe=_n(vn,"artifacts",On,"public","data","rooms",_);if(E.hostId===s.uid)await aI(oe);else{const ae=E.players.filter(se=>se.id!==s.uid);await ui(oe,{players:ae})}}catch{console.log("Room gone")}localStorage.removeItem("equilibrium_roomId"),y(""),a("menu"),D(!1),A(null)}},mi=async()=>{if(E.hostId!==s.uid)return;const oe=kv(),ae=Vv(),{market:se,bag:ue}=jv([],oe),Ae=Lv([],ae),J=E.players.map(Te=>({...Te,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:om(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}));await ui(_n(vn,"artifacts",On,"public","data","rooms",_),{status:"lobby",players:J,market:se,bag:ue,animalMarket:Ae.market,animalDeck:Ae.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"PLAY"}),D(!1)},Ts=async oe=>{const ae=E.players.findIndex(Te=>Te.id===s.uid);if(E.turnIndex!==ae)return;const se=[...E.players],ue=se[ae];if(ue.hasDraftedTokens)return;let Ae=[...E.market],J=[...E.bag];if(ue.holding=Ae[oe].tokens,ue.hasDraftedTokens=!0,Ae.splice(oe,1),J.length>=3){const Te={id:Math.random().toString(36).substr(2,9),tokens:[J.pop(),J.pop(),J.pop()].filter(Boolean)};Ae.push(Te)}await ui(_n(vn,"artifacts",On,"public","data","rooms",_),{players:se,market:Ae,bag:J,logs:ea({text:`${ue.name} drafted tokens.`,type:"neutral",id:Date.now()})}),Z(null)},bs=async oe=>{const ae=E.players.findIndex(ut=>ut.id===s.uid);if(E.turnIndex!==ae)return;const se=[...E.players],ue=se[ae];if(ue.hasDraftedAnimal||ue.animals.filter(ut=>ut.slotsFilled<ut.maxSlots).length>=4)return;let J=[...E.animalMarket],Te=[...E.animalDeck];const pe=J[oe],ht=cs[pe.type];if(ue.animals.push({...pe,slotsFilled:0,maxSlots:ht.slots}),ue.hasDraftedAnimal=!0,J.splice(oe,1),Te.length>0){const ut={id:Math.random().toString(36).substr(2,9),type:Te.pop()};J.push(ut)}await ui(_n(vn,"artifacts",On,"public","data","rooms",_),{players:se,animalMarket:J,animalDeck:Te,logs:ea({text:`${ue.name} adopted a ${ht.name}.`,type:"neutral",id:Date.now()})}),Z(null)},Ss=async(oe,ae)=>{try{const se=E.players.findIndex(Te=>Te.id===s.uid);if(E.turnIndex!==se)return;const ue=[...E.players],Ae=ue[se],J={players:ue};if(xe!==null&&Ae.holding[xe]){const Te=`${oe},${ae}`,pe=Ae.board[Te],ht=Ae.holding[xe];if(!Mv(pe,ht))return;pe.stack.push(ht),Ae.holding.splice(xe,1),O(null);const ut=hN(Ae.board);Ae.landscapeScore=ut.total,Ae.landscapeScoreBreakdown=ut.breakdown,Object.values(Ae.board).some(bn=>bn.stack.length===0)||(J.status="finished",J.logs=ea({text:`${Ae.name}'s world is full! Game Over.`,type:"warning",id:Date.now()})),await ui(_n(vn,"artifacts",On,"public","data","rooms",_),J);return}if(G!==null&&Ae.animals[G]){const Te=Ae.animals[G],pe=cs[Te.type];if(!pe){console.error("Animal definition missing for type:",Te.type);return}const ht=Ae.board[`${oe},${ae}`];if(!ht.animal&&Te.slotsFilled<Te.maxSlots&&pe.check(ht,Ae.board)){ht.animal=Te.type;const ut=pe.points[Te.slotsFilled];Te.slotsFilled+=1,Ae.score+=ut,te(null),J.logs||(J.logs=[]),J.logs.push({text:`${Ae.name} placed a ${pe.name} (+${ut})!`,type:"success",id:Date.now()}),await ui(_n(vn,"artifacts",On,"public","data","rooms",_),J)}}}catch(se){console.error("Placement error:",se),q("Something went wrong with placement. Try refreshing.")}},Vn=async()=>{const oe=E.players.findIndex(ue=>ue.id===s.uid);if(E.turnIndex!==oe)return;const ae=[...E.players],se=ae[oe];xe===null||!se.holding[xe]||(se.holding.splice(xe,1),se.score=Math.max(0,se.score-2),O(null),await ui(_n(vn,"artifacts",On,"public","data","rooms",_),{players:ae,logs:ea({text:`${se.name} discarded a token (-2 pts).`,type:"failure",id:Date.now()})}))},Ar=async()=>{const oe=E.players.findIndex(Ae=>Ae.id===s.uid);if(E.turnIndex!==oe)return;const ae=[...E.players],se=ae[oe];if(se.holding.length>0||!se.hasDraftedTokens)return;se.hasDraftedTokens=!1,se.hasDraftedAnimal=!1;const ue={players:ae,turnIndex:(E.turnIndex+1)%E.players.length,logs:ea({text:`Turn passed to ${E.players[(E.turnIndex+1)%E.players.length].name}.`,type:"neutral",id:Date.now()})};E.bag.length===0&&E.market.length===0&&(ue.status="finished",ue.logs=ea({text:"Market exhausted! Game Over.",type:"warning",id:Date.now()})),await ui(_n(vn,"artifacts",On,"public","data","rooms",_),ue)},Fi=()=>{navigator.clipboard.writeText(_),Se(!0),setTimeout(()=>Se(!1),2e3)};if(ie)return b.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsx(Ro,{}),b.jsx(cm,{}),b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30 mt-8",children:[b.jsx(MI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Construction"}),b.jsx("p",{className:"text-gray-400",children:"Balancing the elements..."})]})]});if(!s)return b.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-emerald-500 animate-pulse",children:"Initializing Ecosystem..."});if(_&&!E&&!N)return b.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[b.jsx(Ro,{}),b.jsx(lm,{}),b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[b.jsx(PI,{size:48,className:"text-emerald-500 animate-spin"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-xl font-bold",children:"Resuming Session..."}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Returning to the wild"})]})]})]});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[b.jsx(Ro,{}),b.jsx(lm,{}),je&&b.jsx(hm,{onClose:()=>C(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(Yo,{size:64,className:"text-emerald-400 mx-auto mb-4 animate-spin-slow"}),b.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-teal-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),b.jsx("p",{className:"text-emerald-200/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[N&&b.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[b.jsx(rm,{size:16})," ",N]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{className:"w-full bg-black/50 border border-emerald-700 focus:border-emerald-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:o,onChange:oe=>c(oe.target.value),maxLength:12}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[b.jsxs("button",{onClick:Ee,disabled:W,className:"bg-gradient-to-br from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-emerald-900/50",children:[b.jsx(sm,{size:24}),b.jsx("span",{children:"Create"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{className:"bg-black/50 border border-emerald-700 focus:border-emerald-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:oe=>g(oe.target.value),maxLength:6}),b.jsx("button",{onClick:Ne,disabled:W,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join"})]})]}),b.jsxs("button",{onClick:()=>C(!0),className:"w-full mt-4 text-emerald-400 hover:text-emerald-300 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[b.jsx(nm,{size:16})," Architect's Guide"]})]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center z-10",children:["Inspired by Harmonies.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{className:"text-emerald-600",children:"RAWFID K SHUVO"}),"."]}),b.jsx(cm,{})]});if(i==="lobby"&&E){const oe=E.hostId===s.uid;return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[b.jsx(Ro,{}),b.jsx(lm,{}),je&&b.jsx(hm,{onClose:()=>C(!1)}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-sm text-emerald-500 font-bold uppercase tracking-wider",children:"World Code"}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("div",{className:"text-4xl font-mono text-white font-black",children:_}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:Fi,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-emerald-400",children:Ie?b.jsx(oT,{size:20,className:"text-green-500"}):b.jsx(TI,{size:20})}),Ie&&b.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-emerald-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:b.jsx(nm,{size:20})}),b.jsx("button",{onClick:()=>D(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:b.jsx(Dv,{size:20})})]})]}),b.jsxs("div",{className:"space-y-3 mb-8",children:[b.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",E.players.length,"/4)"]}),E.players.map(ae=>b.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[b.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[ae.name,ae.id===E.hostId&&b.jsx(SI,{size:16,className:"text-yellow-500"})]}),ae.ready?b.jsx("span",{className:"text-emerald-400 text-xs font-bold uppercase bg-emerald-900/20 px-2 py-1 rounded",children:"Ready"}):b.jsx("span",{className:"text-slate-500 text-xs font-bold uppercase",children:"Waiting"})]},ae.id)),Array.from({length:4-E.players.length}).map((ae,se)=>b.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-xl p-4 flex items-center justify-center text-slate-600 font-bold uppercase text-sm",children:"Empty Slot"},se))]}),oe?b.jsxs("button",{onClick:Le,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:[b.jsx(KI,{size:24,fill:"currentColor"})," Start Game"]}):b.jsx("button",{onClick:St,className:`w-full py-4 rounded-xl font-bold text-xl transition-all active:scale-95 ${E.players.find(ae=>ae.id===s.uid)?.ready?"bg-slate-700 text-emerald-400":"bg-emerald-600 text-white"}`,children:E.players.find(ae=>ae.id===s.uid)?.ready?"READY":"MARK READY"})]}),k&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),b.jsx("button",{onClick:ot,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),b.jsx(cm,{})]})}if(i==="game"&&E){const oe=E.players.findIndex(J=>J.id===s.uid),ae=E.players[oe],se=E.turnIndex===oe,ue=E.players.find(J=>J.id===lt)||ae,Ae=se&&ae.hasDraftedTokens&&ae.holding.length===0;return b.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[b.jsx(Ro,{}),j&&b.jsx(dN,{type:j.type,message:j.message,subtext:j.subtext,icon:j.icon}),je&&b.jsx(hm,{onClose:()=>C(!1)}),w&&b.jsx(mN,{gameState:E,onClose:()=>I(!1)}),de&&b.jsx(pN,{animal:de,onClose:()=>He(null)}),b.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-emerald-900/30 flex items-center justify-between px-2 z-50 shrink-0 shadow-lg",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center border border-emerald-700",children:b.jsx(Yo,{className:"text-emerald-400",size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-bold text-sm tracking-wider text-emerald-100",children:"EQUILIBRIUM"}),b.jsx("div",{className:"text-[10px] text-emerald-400 font-mono uppercase",children:E.status==="finished"?"GAME OVER":`Turn: ${E.players[E.turnIndex].name}`})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-slate-800 rounded text-yellow-500 hover:text-white",children:b.jsx(lT,{size:18})}),b.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:b.jsx(nm,{size:18})}),b.jsx("button",{onClick:()=>pt(!Je),className:`p-2 rounded transition-colors ${Je?"bg-slate-800 text-white":"hover:bg-slate-800 text-slate-400"}`,children:b.jsx(jI,{size:18})}),b.jsx("button",{onClick:()=>D(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:b.jsx(Dv,{size:18})})]})]}),Je&&b.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-slate-900/95 border border-slate-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl custom-scrollbar",children:[b.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),b.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map(J=>b.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${J.type==="success"?"border-emerald-500 bg-emerald-900/10":J.type==="warning"?"border-amber-500 bg-amber-900/10":J.type==="failure"?"border-red-500 bg-red-900/10":"border-slate-500 bg-slate-800/30"}`,children:J.text},J.id))})]}),k&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),b.jsx("button",{onClick:ot,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),E.hostId===s.uid&&b.jsx("button",{onClick:mi,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-emerald-400 mt-2 text-sm",children:"Return All to Lobby"})]})}),b.jsxs("div",{className:"flex-1 relative bg-slate-950 overflow-hidden flex flex-col items-center justify-center",children:[b.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:E.players.map(J=>b.jsxs("button",{onClick:()=>gt(J.id),className:`
                                flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
                                ${lt===J.id?"bg-slate-800 border-emerald-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
                            `,children:[b.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${J.id===E.players[E.turnIndex].id?"text-emerald-400":""}`,children:J.name}),b.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:J.score+J.landscapeScore})]},J.id))}),ue.id!==s.uid&&b.jsxs("div",{className:"absolute top-20 bg-slate-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur",children:[b.jsx(II,{size:12})," Viewing ",ue.name,"'s World"]}),b.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-24 transform scale-100 md:scale-125",children:Object.values(ue.board).map(J=>{let Te=!1;if(G!==null&&ae.animals[G]){const pe=cs[ae.animals[G].type];pe&&!J.animal&&ae.animals[G].slotsFilled<ae.animals[G].maxSlots&&(Te=pe.check(J,ue.board))}return b.jsx(fN,{...J,isPlaceable:se&&ue.id===s.uid&&(xe!==null&&ae.holding[xe]&&Mv(J,ae.holding[xe])||Te),ghostToken:xe!==null?ae.holding[xe]:null,ghostAnimal:G!==null?ae.animals[G].type:null,isValidTarget:Te,onClick:ue.id===s.uid?Ss:void 0},`${J.q},${J.r}`)})}),F&&b.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Z(null),children:b.jsxs("div",{className:"bg-slate-900 border border-slate-600 p-6 rounded-3xl w-full max-w-lg shadow-2xl",onClick:J=>J.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[F==="TOKENS"?b.jsx(sm,{className:"text-cyan-400"}):b.jsx(Qo,{className:"text-orange-400"}),"Select ",F==="TOKENS"?"Tokens":"Animal"]}),b.jsx("button",{onClick:()=>Z(null),className:"p-2 bg-slate-800 rounded-full text-slate-400",children:b.jsx(Rp,{size:20})})]}),F==="TOKENS"?b.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:E.market.map((J,Te)=>b.jsx("button",{onClick:()=>Ts(Te),disabled:!se||ae.hasDraftedTokens,className:"bg-slate-800 border-2 border-slate-700 hover:border-cyan-500 p-4 rounded-xl flex items-center justify-center gap-2 hover:bg-slate-700 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:grayscale-0",children:J.tokens.map((pe,ht)=>{const ut=mr[pe];return b.jsx("div",{className:`w-8 h-8 rounded-full border shadow-sm flex items-center justify-center ${ut.color} ${ut.border}`,children:b.jsx(ut.icon,{size:14,className:"text-white/70"})},ht)})},J.id))}):b.jsxs("div",{className:"grid grid-cols-1 gap-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[E.animalMarket.map((J,Te)=>{const pe=cs[J.type],ht=se&&!ae.hasDraftedAnimal&&ae.animals.filter(ut=>ut.slotsFilled<ut.maxSlots).length<4;return b.jsxs("button",{onClick:()=>bs(Te),disabled:!ht,className:`bg-slate-800 border-2 border-slate-700 p-4 rounded-xl flex items-center gap-4 text-left transition-all ${ht?"hover:border-orange-500 hover:bg-slate-700 active:scale-95":"opacity-50 cursor-not-allowed"}`,children:[b.jsx("div",{className:"bg-black/30 p-3 rounded-full shrink-0",children:b.jsx(pe.icon,{className:pe.iconColor,size:24})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"font-bold text-white text-lg",children:pe.name}),b.jsxs("span",{className:"text-yellow-500 text-sm font-bold",children:["+",pe.points.join("/")]})]}),b.jsx("div",{className:"text-slate-400 text-xs",children:pe.desc}),b.jsx("div",{className:"mt-2 flex justify-center scale-90 origin-left",children:b.jsx(vh,{visual:pe.visual})})]})]},J.id)}),E.animalMarket.length===0&&b.jsx("div",{className:"text-slate-500 text-center py-8",children:"No animals wandering by..."})]})]})}),E.status==="finished"&&b.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:b.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-lg w-full m-4",children:[b.jsx(rN,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),b.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-4",children:"Game Complete"}),b.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto custom-scrollbar text-sm",children:E.players.sort((J,Te)=>Te.score+Te.landscapeScore-(J.score+J.landscapeScore)).map((J,Te)=>b.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-slate-700 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"font-mono text-emerald-500 font-bold",children:["#",Te+1]}),b.jsx("span",{className:"font-bold text-white text-lg",children:J.name})]}),b.jsx("span",{className:"text-2xl font-black text-yellow-500",children:J.score+J.landscapeScore})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Animals:"})," ",b.jsx("span",{className:"text-white font-bold",children:J.score})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Trees:"})," ",b.jsx("span",{className:"text-white font-bold",children:J.landscapeScoreBreakdown?.trees||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Mountains:"})," ",b.jsx("span",{className:"text-white font-bold",children:J.landscapeScoreBreakdown?.mountains||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Fields:"})," ",b.jsx("span",{className:"text-white font-bold",children:J.landscapeScoreBreakdown?.fields||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Rivers:"})," ",b.jsx("span",{className:"text-white font-bold",children:J.landscapeScoreBreakdown?.rivers||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Buildings:"})," ",b.jsx("span",{className:"text-white font-bold",children:J.landscapeScoreBreakdown?.buildings||0})]})]})]},J.id))}),E.hostId===s.uid&&b.jsx("button",{onClick:mi,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full",children:"Return to Lobby"})]})})]}),b.jsx("div",{className:"h-40 bg-transparent absolute bottom-0 left-0 right-0 z-40 p-4 flex justify-between items-end pointer-events-none",children:b.jsxs("div",{className:"flex gap-4 pointer-events-auto items-end w-full",children:[b.jsxs("div",{className:"flex flex-col gap-4 mb-1",children:[se&&ae.holding.length>0&&b.jsxs("div",{className:"bg-emerald-900/90 border border-cyan-500/30 px-3 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md",children:[b.jsx("span",{className:"text-[8px] font-bold text-cyan-400 uppercase tracking-widest",children:"Placing"}),b.jsxs("div",{className:"flex items-center gap-2",children:[ae.holding.map((J,Te)=>{const pe=mr[J];return b.jsx("button",{onClick:()=>{O(Te),te(null)},className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center transition-all active:scale-90 ${pe.color} ${pe.border} ${xe===Te?"ring-4 ring-white scale-110 z-10":"opacity-80 hover:opacity-100 hover:scale-105"}`,children:b.jsx(pe.icon,{size:14,className:"text-white/80"})},Te)}),xe!==null&&b.jsx("button",{onClick:Vn,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token (-2 pts)",children:b.jsx(eN,{size:12,className:"text-red-300"})})]})]}),Ae&&b.jsxs("button",{onClick:Ar,className:"bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 px-4 rounded-xl shadow-lg animate-pulse flex items-center justify-center gap-2 text-sm whitespace-nowrap",children:["End Turn ",b.jsx(XI,{size:14})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>Z("TOKENS"),className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${se&&!ae.hasDraftedTokens?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500"}`,children:b.jsx(DI,{size:24})}),b.jsx("button",{onClick:()=>Z("ANIMALS"),className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${se&&!ae.hasDraftedAnimal&&ae.animals.filter(J=>J.slotsFilled<J.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`,children:b.jsx(Qo,{size:24})})]})]}),b.jsx("div",{className:"flex gap-2 items-end ml-2 overflow-x-auto pb-1 max-w-[calc(100vw-160px)] no-scrollbar mask-gradient-right h-52",children:ue.animals.map((J,Te)=>{const pe=cs[J.type],ht=Te===G&&ue.id===s.uid,ut=J.slotsFilled>=J.maxSlots;return b.jsxs("button",{onClick:()=>{ue.id===s.uid&&(O(null),te(ht?null:Te))},className:`relative w-28 h-44 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all hover:-translate-y-2 text-left overflow-hidden ${ht?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10":"border-slate-600"} ${ut?"grayscale opacity-75":""}`,children:[b.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20 h-10 shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(pe.icon,{size:14,className:pe.iconColor}),b.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[60px]",children:pe.name})]}),b.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",pe.points[Math.min(J.slotsFilled,pe.points.length-1)]]})]}),b.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center w-full min-h-0 justify-between",children:[b.jsx("div",{className:"scale-75 origin-center shrink-0",children:b.jsx(vh,{visual:pe.visual})}),b.jsx("div",{className:"text-[9px] text-slate-300 text-center leading-tight line-clamp-2 px-1 w-full break-words min-h-[24px] flex items-center justify-center",children:pe.desc}),b.jsx("div",{className:"w-full shrink-0 pt-1",children:b.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:J.maxSlots}).map((wr,bn)=>b.jsx("div",{className:`h-1.5 w-full rounded-full border ${bn<J.slotsFilled?"bg-green-500 border-green-400":"bg-slate-700 border-slate-600"}`},bn))})})]})]},J.id)})})]})})]})}return null}Xb.createRoot(document.getElementById("root")).render(b.jsx(Qe.StrictMode,{children:b.jsx(gN,{})}));
