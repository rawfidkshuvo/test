(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},bl={};var j_;function kb(){if(j_)return bl;j_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var B_;function Lb(){return B_||(B_=1,kd.exports=kb()),kd.exports}var A=Lb(),Ld={exports:{}},St={};var q_;function Ub(){if(q_)return St;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,it={};function gt(M,K,et){this.props=M,this.context=K,this.refs=it,this.updater=et||Z}gt.prototype.isReactComponent={},gt.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},gt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ct(){}Ct.prototype=gt.prototype;function bt(M,K,et){this.props=M,this.context=K,this.refs=it,this.updater=et||Z}var $t=bt.prototype=new Ct;$t.constructor=bt,nt($t,gt.prototype),$t.isPureReactComponent=!0;var me=Array.isArray;function Ut(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,K,et){var rt=et.ref;return{$$typeof:s,type:M,key:K,ref:rt!==void 0?rt:null,props:et}}function V(M,K){return C(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return K[et]})}var R=/\/+/g;function Wt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):K.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ut,Ut):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,et,rt,Et){var xt=typeof M;(xt==="undefined"||xt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(xt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case s:case t:Vt=!0;break;case E:return Vt=M._init,F(Vt(M._payload),K,et,rt,Et)}}if(Vt)return Et=Et(M),Vt=rt===""?"."+Wt(M,0):rt,me(Et)?(et="",Vt!=null&&(et=Vt.replace(R,"$&/")+"/"),F(Et,K,et,"",function(qi){return qi})):Et!=null&&(D(Et)&&(Et=V(Et,et+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Vt)),K.push(Et)),1;Vt=0;var be=rt===""?".":rt+":";if(me(M))for(var ue=0;ue<M.length;ue++)rt=M[ue],xt=be+Wt(rt,ue),Vt+=F(rt,K,et,xt,Et);else if(ue=H(M),typeof ue=="function")for(M=ue.call(M),ue=0;!(rt=M.next()).done;)rt=rt.value,xt=be+Wt(rt,ue++),Vt+=F(rt,K,et,xt,Et);else if(xt==="object"){if(typeof M.then=="function")return F(le(M),K,et,rt,Et);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function tt(M,K,et){if(M==null)return M;var rt=[],Et=0;return F(M,rt,"","",function(xt){return K.call(et,xt,Et++)}),rt}function at(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Mt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Rt={map:tt,forEach:function(M,K,et){tt(M,function(){K.apply(this,arguments)},et)},count:function(M){var K=0;return tt(M,function(){K++}),K},toArray:function(M){return tt(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=S,St.Children=Rt,St.Component=gt,St.Fragment=i,St.Profiler=l,St.PureComponent=bt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,K,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=nt({},M.props),Et=M.key;if(K!=null)for(xt in K.key!==void 0&&(Et=""+K.key),K)!w.call(K,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&K.ref===void 0||(rt[xt]=K[xt]);var xt=arguments.length-2;if(xt===1)rt.children=et;else if(1<xt){for(var Vt=Array(xt),be=0;be<xt;be++)Vt[be]=arguments[be+2];rt.children=Vt}return C(M.type,Et,rt)},St.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},St.createElement=function(M,K,et){var rt,Et={},xt=null;if(K!=null)for(rt in K.key!==void 0&&(xt=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=K[rt]);var Vt=arguments.length-2;if(Vt===1)Et.children=et;else if(1<Vt){for(var be=Array(Vt),ue=0;ue<Vt;ue++)be[ue]=arguments[ue+2];Et.children=be}if(M&&M.defaultProps)for(rt in Vt=M.defaultProps,Vt)Et[rt]===void 0&&(Et[rt]=Vt[rt]);return C(M,xt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:g,render:M}},St.isValidElement=D,St.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:at}},St.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},St.startTransition=function(M){var K=I.T,et={};I.T=et;try{var rt=M(),Et=I.S;Et!==null&&Et(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,Mt)}catch(xt){Mt(xt)}finally{K!==null&&et.types!==null&&(K.types=et.types),I.T=K}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(M){return I.H.use(M)},St.useActionState=function(M,K,et){return I.H.useActionState(M,K,et)},St.useCallback=function(M,K){return I.H.useCallback(M,K)},St.useContext=function(M){return I.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,K){return I.H.useDeferredValue(M,K)},St.useEffect=function(M,K){return I.H.useEffect(M,K)},St.useEffectEvent=function(M){return I.H.useEffectEvent(M)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(M,K,et){return I.H.useImperativeHandle(M,K,et)},St.useInsertionEffect=function(M,K){return I.H.useInsertionEffect(M,K)},St.useLayoutEffect=function(M,K){return I.H.useLayoutEffect(M,K)},St.useMemo=function(M,K){return I.H.useMemo(M,K)},St.useOptimistic=function(M,K){return I.H.useOptimistic(M,K)},St.useReducer=function(M,K,et){return I.H.useReducer(M,K,et)},St.useRef=function(M){return I.H.useRef(M)},St.useState=function(M){return I.H.useState(M)},St.useSyncExternalStore=function(M,K,et){return I.H.useSyncExternalStore(M,K,et)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.3",St}var H_;function Nm(){return H_||(H_=1,Ld.exports=Ub()),Ld.exports}var Jt=Nm(),Ud={exports:{}},Al={},Pd={exports:{}},zd={};var F_;function Pb(){return F_||(F_=1,(function(s){function t(F,tt){var at=F.length;F.push(tt);t:for(;0<at;){var Mt=at-1>>>1,Rt=F[Mt];if(0<l(Rt,tt))F[Mt]=tt,F[at]=Rt,at=Mt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var tt=F[0],at=F.pop();if(at!==tt){F[0]=at;t:for(var Mt=0,Rt=F.length,M=Rt>>>1;Mt<M;){var K=2*(Mt+1)-1,et=F[K],rt=K+1,Et=F[rt];if(0>l(et,at))rt<Rt&&0>l(Et,et)?(F[Mt]=Et,F[rt]=at,Mt=rt):(F[Mt]=et,F[K]=at,Mt=K);else if(rt<Rt&&0>l(Et,at))F[Mt]=Et,F[rt]=at,Mt=rt;else break t}}return tt}function l(F,tt){var at=F.sortIndex-tt.sortIndex;return at!==0?at:F.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,S=null,N=3,H=!1,Z=!1,nt=!1,it=!1,gt=typeof setTimeout=="function"?setTimeout:null,Ct=typeof clearTimeout=="function"?clearTimeout:null,bt=typeof setImmediate<"u"?setImmediate:null;function $t(F){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=F)a(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function me(F){if(nt=!1,$t(F),!Z)if(i(_)!==null)Z=!0,Ut||(Ut=!0,L());else{var tt=i(y);tt!==null&&le(me,tt.startTime-F)}}var Ut=!1,I=-1,w=5,C=-1;function V(){return it?!0:!(s.unstable_now()-C<w)}function D(){if(it=!1,Ut){var F=s.unstable_now();C=F;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,Ct(I),I=-1),H=!0;var at=N;try{e:{for($t(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Mt=S.callback;if(typeof Mt=="function"){S.callback=null,N=S.priorityLevel;var Rt=Mt(S.expirationTime<=F);if(F=s.unstable_now(),typeof Rt=="function"){S.callback=Rt,$t(F),tt=!0;break e}S===i(_)&&a(_),$t(F)}else a(_);S=i(_)}if(S!==null)tt=!0;else{var M=i(y);M!==null&&le(me,M.startTime-F),tt=!1}}break t}finally{S=null,N=at,H=!1}tt=void 0}}finally{tt?L():Ut=!1}}}var L;if(typeof bt=="function")L=function(){bt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=D,L=function(){Wt.postMessage(null)}}else L=function(){gt(D,0)};function le(F,tt){I=gt(function(){F(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var at=N;N=tt;try{return F()}finally{N=at}},s.unstable_requestPaint=function(){it=!0},s.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var at=N;N=F;try{return tt()}finally{N=at}},s.unstable_scheduleCallback=function(F,tt,at){var Mt=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Mt+at:Mt):at=Mt,F){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=at+Rt,F={id:E++,callback:tt,priorityLevel:F,startTime:at,expirationTime:Rt,sortIndex:-1},at>Mt?(F.sortIndex=at,t(y,F),i(_)===null&&F===i(y)&&(nt?(Ct(I),I=-1):nt=!0,le(me,at-Mt))):(F.sortIndex=Rt,t(_,F),Z||H||(Z=!0,Ut||(Ut=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var tt=N;return function(){var at=N;N=tt;try{return F.apply(this,arguments)}finally{N=at}}}})(zd)),zd}var G_;function zb(){return G_||(G_=1,Pd.exports=Pb()),Pd.exports}var jd={exports:{}},nn={};var K_;function jb(){if(K_)return nn;K_=1;var s=Nm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},nn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:H}):E==="script"&&a.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var Q_;function Bb(){if(Q_)return jd.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=jb(),jd.exports}var Y_;function qb(){if(Y_)return Al;Y_=1;var s=zb(),t=Nm(),i=Bb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),Ct=Symbol.for("react.consumer"),bt=Symbol.for("react.context"),$t=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case gt:return"Profiler";case it:return"StrictMode";case me:return"Suspense";case Ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case bt:return e.displayName||"Context";case Ct:return(e._context.displayName||"Context")+".Consumer";case $t:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var le=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Mt=[],Rt=-1;function M(e){return{current:e}}function K(e){0>Rt||(e.current=Mt[Rt],Mt[Rt]=null,Rt--)}function et(e,n){Rt++,Mt[Rt]=e.current,e.current=n}var rt=M(null),Et=M(null),xt=M(null),Vt=M(null);function be(e,n){switch(et(xt,n),et(Et,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?u_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=u_(n),e=c_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),et(rt,e)}function ue(){K(rt),K(Et),K(xt)}function qi(e){e.memoizedState!==null&&et(Vt,e);var n=rt.current,r=c_(n,e.type);n!==r&&(et(Et,e),et(rt,r))}function vs(e){Et.current===e&&(K(rt),K(Et)),Vt.current===e&&(K(Vt),_l._currentValue=at)}var Es,Ts;function Mn(e){if(Es===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Es=n&&n[1]||"",Ts=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+e+Ts}var ct=!1;function st(e,n){if(!e||ct)return"";ct=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var x=p.split(`
`),z=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var G=`
`+x[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ct=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Mn(r):""}function mt(e,n){switch(e.tag){case 26:case 27:case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return e.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return Mn("Activity");default:return""}}function _t(e){try{var n="",r=null;do n+=mt(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var $=Object.prototype.hasOwnProperty,ht=s.unstable_scheduleCallback,Dt=s.unstable_cancelCallback,ye=s.unstable_shouldYield,Ke=s.unstable_requestPaint,ce=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,bo=s.unstable_UserBlockingPriority,bs=s.unstable_NormalPriority,Uh=s.unstable_LowPriority,su=s.unstable_IdlePriority,ru=s.log,au=s.unstable_setDisableYieldValue,Xn=null,Qe=null;function Vn(e){if(typeof ru=="function"&&au(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Xn,e)}catch{}}var Ae=Math.clz32?Math.clz32:lu,ou=Math.log,aa=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/aa|0)|0}var di=256,Tr=262144,Ce=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=mi(o):(p&=T,p!==0?h=mi(p):r||(r=T&~e,r!==0&&(h=mi(r))))):(T=o&~f,T!==0?h=mi(T):p!==0?h=mi(p):r||(r=o&~e,r!==0&&(h=mi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function $n(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function gi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Ae(r),Y=1<<G;T[G]=0,x[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&Ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ar(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Ao(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ae(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function So(e,n){var r=n&-n;return r=(r&42)!==0?1:Sr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function Jn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Zn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Zn,qe="__reactProps$"+Zn,yi="__reactContainer$"+Zn,oa="__reactEvents$"+Zn,jh="__reactListeners$"+Zn,hu="__reactHandles$"+Zn,fu="__reactResources$"+Zn,_i="__reactMarker$"+Zn;function la(e){delete e[Ie],delete e[qe],delete e[oa],delete e[jh],delete e[hu]}function vi(e){var n=e[Ie];if(n)return n;for(var r=e.parentNode;r;){if(n=r[yi]||r[Ie]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=y_(e);e!==null;){if(r=e[Ie])return r;e=y_(e)}return n}e=r,r=e.parentNode}return null}function kn(e){if(e=e[Ie]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ei(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[_i]=!0}var wo=new Set,Ro={};function Ti(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Io={};function du(e){return $.call(Io,e)?!0:$.call(Co,e)?!1:xo.test(e)?Io[e]=!0:(Co[e]=!0,!1)}function ua(e,n,r){if(du(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function An(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function De(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function te(e){if(!e._valueTracker){var n=As(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=As(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function hn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,r,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Do(e,p,He(n)):r!=null?Do(e,p,He(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function mu(e,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(e);return}r=r!=null?""+He(r):"",n=n!=null?""+He(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),te(e)}function Do(e,n,r){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ss(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+He(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pu(e,n,r){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+He(r):""}function ws(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(le(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=He(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),te(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Vo=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,Si=null;function xr(e){var n=kn(e);if(n&&(e=n.stateNode)){var r=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&wr(o)}break t;case"textarea":pu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ss(e,!!r.multiple,n,!1)}}}var da=!1;function Cs(e,n,r){if(da)return e(n,r);da=!0;try{var o=e(n);return o}finally{if(da=!1,(xs!==null||Si!==null)&&(cc(),xs&&(n=xs,e=Si,Si=xs=null,xr(n),e)))for(n=0;n<e.length;n++)xr(e[n])}}function ti(e,n){var r=e.stateNode;if(r===null)return null;var o=r[qe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Un)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Cr=!1}var wi=null,ko=null,Ir=null;function Lo(){if(Ir)return Ir;var e,n=ko,r=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Ir=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ei(){return!1}function Ye(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:ei,this.isPropagationStopped=ei,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ye(Gi),Is=S({},Gi,{view:0,detail:0}),Uo=Ye(Is),Ns,ma,xi,pa=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Ns=e.screenX-xi.screenX,ma=e.screenY-xi.screenY):ma=Ns=0,xi=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Po=Ye(pa),Dr=S({},pa,{dataTransfer:0}),_u=Ye(Dr),vu=S({},Is,{relatedTarget:0}),Or=Ye(vu),zo=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Ye(zo),ga=S({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Ye(ga),bu=S({},Gi,{data:0}),Ci=Ye(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wu[e])?!!n[e]:!1}function Ds(){return Ru}var ln=S({},Is,{key:function(e){if(e.key){var n=Au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=Ye(ln),Cu=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ye(Cu),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Ye(u),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),U=S({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(U),W=S({},Gi,{newState:0,oldState:0}),It=Ye(W),Se=[9,13,27,32],Yt=Un&&"CompositionEvent"in window,pe=null;Un&&"documentMode"in document&&(pe=document.documentMode);var Pn=Un&&"TextEvent"in window&&!pe,Ii=Un&&(!Yt||pe&&8<pe&&11>=pe),ni=" ",ii=!1;function Mr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function rT(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return e=n.data,e===ni&&ii?null:e;default:return null}}function aT(e,n){if(_a)return e==="compositionend"||!Yt&&Mr(e,n)?(e=Lo(),Ir=ko=wi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var oT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!oT[e.type]:n==="textarea"}function Tp(e,n,r,o){xs?Si?Si.push(o):Si=[o]:xs=o,n=yc(n,"onChange"),0<n.length&&(r=new Ri("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var jo=null,Bo=null;function lT(e){i_(e,0)}function Iu(e){var n=bn(e);if(wr(n))return e}function bp(e,n){if(e==="change")return n}var Ap=!1;if(Un){var Bh;if(Un){var qh="oninput"in document;if(!qh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),qh=typeof Sp.oninput=="function"}Bh=qh}else Bh=!1;Ap=Bh&&(!document.documentMode||9<document.documentMode)}function wp(){jo&&(jo.detachEvent("onpropertychange",Rp),Bo=jo=null)}function Rp(e){if(e.propertyName==="value"&&Iu(Bo)){var n=[];Tp(n,Bo,e,Ln(e)),Cs(lT,n)}}function uT(e,n,r){e==="focusin"?(wp(),jo=n,Bo=r,jo.attachEvent("onpropertychange",Rp)):e==="focusout"&&wp()}function cT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Bo)}function hT(e,n){if(e==="click")return Iu(n)}function fT(e,n){if(e==="input"||e==="change")return Iu(n)}function dT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:dT;function qo(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!$.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,n){var r=xp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=xp(r)}}function Ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ai(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mT=Un&&"documentMode"in document&&11>=document.documentMode,va=null,Fh=null,Ho=null,Gh=!1;function Dp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||va==null||va!==Ai(o)||(o=va,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=yc(Fh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=va)))}function Vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ea={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Kh={},Op={};Un&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function kr(e){if(Kh[e])return Kh[e];if(!Ea[e])return e;var n=Ea[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return Kh[e]=n[r];return e}var Mp=kr("animationend"),Vp=kr("animationiteration"),kp=kr("animationstart"),pT=kr("transitionrun"),gT=kr("transitionstart"),yT=kr("transitioncancel"),Lp=kr("transitionend"),Up=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function si(e,n){Up.set(e,n),Ti(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Ta=0,Yh=0;function Du(){for(var e=Ta,n=Yh=Ta=0;n<e;){var r=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Pp(r,h,f)}}function Ou(e,n,r,o){zn[Ta++]=e,zn[Ta++]=n,zn[Ta++]=r,zn[Ta++]=o,Yh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,r,o){return Ou(e,n,r,o),Mu(e)}function Lr(e,n){return Ou(e,null,null,n),Mu(e)}function Pp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Mu(e){if(50<hl)throw hl=0,rd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ba={};function _T(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,r,o){return new _T(e,n,r,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var r=e.alternate;return r===null?(r=wn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")$h(e)&&(p=1);else if(typeof e=="string")p=Ab(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=wn(31,r,n,h),e.elementType=C,e.lanes=f,e;case nt:return Ur(r.children,h,f,n);case it:p=8,h|=24;break;case gt:return e=wn(12,r,n,h|2),e.elementType=gt,e.lanes=f,e;case me:return e=wn(13,r,n,h),e.elementType=me,e.lanes=f,e;case Ut:return e=wn(19,r,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bt:p=10;break t;case Ct:p=9;break t;case $t:p=11;break t;case I:p=14;break t;case w:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=wn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,r,o){return e=wn(7,e,o,n),e.lanes=r,e}function Jh(e,n,r){return e=wn(6,e,null,n),e.lanes=r,e}function jp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,r){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bp=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var r=Bp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:_t(n)},Bp.set(e,n),n)}return{value:e,source:n,stack:_t(n)}}var Aa=[],Sa=0,ku=null,Fo=0,Bn=[],qn=0,Os=null,Ni=1,Di="";function Yi(e,n){Aa[Sa++]=Fo,Aa[Sa++]=ku,ku=e,Fo=n}function qp(e,n,r){Bn[qn++]=Ni,Bn[qn++]=Di,Bn[qn++]=Os,Os=e;var o=Ni;e=Di;var h=32-Ae(o)-1;o&=~(1<<h),r+=1;var f=32-Ae(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ni=1<<32-Ae(n)+h|r<<h|o,Di=f+e}else Ni=1<<f|r<<h|o,Di=e}function Wh(e){e.return!==null&&(Yi(e,1),qp(e,1,0))}function tf(e){for(;e===ku;)ku=Aa[--Sa],Aa[Sa]=null,Fo=Aa[--Sa],Aa[Sa]=null;for(;e===Os;)Os=Bn[--qn],Bn[qn]=null,Di=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null}function Hp(e,n){Bn[qn++]=Ni,Bn[qn++]=Di,Bn[qn++]=Os,Ni=n.id,Di=n.overflow,Os=e}var Xe=null,he=null,Ht=!1,Ms=null,Hn=!1,ef=Error(a(519));function Vs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(jn(n,e)),ef}function Fp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[qe]=o,r){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)Lt(dl[r],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),ws(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||o_(n.textContent,r)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Vs(e,!0)}function Gp(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xe=Xe.return}}function wa(e){if(e!==Xe)return!1;if(!Ht)return Gp(e),Ht=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ed(e.type,e.memoizedProps)),r=!r),r&&he&&Vs(e),Gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=g_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=g_(e)}else n===27?(n=he,Ys(e.type)?(e=wd,wd=null,he=e):he=n):he=Xe?Gn(e.stateNode.nextSibling):null;return!0}function Pr(){he=Xe=null,Ht=!1}function nf(){var e=Ms;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Ms=null),e}function Go(e){Ms===null?Ms=[e]:Ms.push(e)}var sf=M(null),zr=null,Xi=null;function ks(e,n,r){et(sf,n._currentValue),n._currentValue=r}function $i(e){e._currentValue=sf.current,K(sf)}function rf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function af(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),rf(f.return,r,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),rf(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ra(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Sn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Vt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&af(n,e,r,o),n.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Kp(zr,e)}function Uu(e,n){return zr===null&&jr(e),Kp(e,n)}function Kp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return r}var vT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ET=s.unstable_scheduleCallback,TT=s.unstable_NormalPriority,Oe={$$typeof:bt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new vT,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&ET(TT,function(){e.controller.abort()})}var Qo=null,lf=0,xa=0,Ca=null;function bT(e,n){if(Qo===null){var r=Qo=[];lf=0,xa=hd(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return lf++,n.then(Qp,Qp),n}function Qp(){if(--lf===0&&Qo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Qo;Qo=null,xa=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function AT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Yp=F.S;F.S=function(e,n){Dy=ce(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bT(e,n),Yp!==null&&Yp(e,n)};var Br=M(null);function uf(){var e=Br.current;return e!==null?e:oe.pooledCache}function Pu(e,n){n===null?et(Br,Br.current):et(Br,n.pool)}function Xp(){var e=uf();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ia=Error(a(460)),cf=Error(a(474)),zu=Error(a(542)),ju={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Wn,Wn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw Hr=n,Ia}}function qr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Ia):r}}var Hr=null;function Zp(){if(Hr===null)throw Error(a(459));var e=Hr;return Hr=null,e}function Wp(e){if(e===Ia||e===zu)throw Error(a(483))}var Na=null,Yo=0;function Bu(e){var n=Yo;return Yo+=1,Na===null&&(Na=[]),Jp(Na,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Qi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,Q){return O===null||O.tag!==6?(O=Jh(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function x(k,O,P,Q){var dt=P.type;return dt===nt?G(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&qr(dt)===O.type)?(O=h(O,P.props),Xo(O,P),O.return=k,O):(O=Vu(P.type,P.key,P.props,null,k.mode,Q),Xo(O,P),O.return=k,O)}function z(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Zh(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Q,dt){return O===null||O.tag!==7?(O=Ur(P,k.mode,Q,dt),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=Vu(O.type,O.key,O.props,null,k.mode,P),Xo(P,O),P.return=k,P;case Z:return O=Zh(O,k.mode,P),O.return=k,O;case w:return O=qr(O),Y(k,O,P)}if(le(O)||L(O))return O=Ur(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Bu(O),P);if(O.$$typeof===bt)return Y(k,Uu(k,O),P);qu(k,O)}return null}function j(k,O,P,Q){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:T(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===dt?x(k,O,P,Q):null;case Z:return P.key===dt?z(k,O,P,Q):null;case w:return P=qr(P),j(k,O,P,Q)}if(le(P)||L(P))return dt!==null?null:G(k,O,P,Q,null);if(typeof P.then=="function")return j(k,O,Bu(P),Q);if(P.$$typeof===bt)return j(k,O,Uu(k,P),Q);qu(k,P)}return null}function q(k,O,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(O,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,x(O,k,Q,dt);case Z:return k=k.get(Q.key===null?P:Q.key)||null,z(O,k,Q,dt);case w:return Q=qr(Q),q(k,O,P,Q,dt)}if(le(Q)||L(Q))return k=k.get(P)||null,G(O,k,Q,dt,null);if(typeof Q.then=="function")return q(k,O,P,Bu(Q),dt);if(Q.$$typeof===bt)return q(k,O,P,Uu(O,Q),dt);qu(O,Q)}return null}function lt(k,O,P,Q){for(var dt=null,Gt=null,ut=O,Ot=O=0,zt=null;ut!==null&&Ot<P.length;Ot++){ut.index>Ot?(zt=ut,ut=null):zt=ut.sibling;var Kt=j(k,ut,P[Ot],Q);if(Kt===null){ut===null&&(ut=zt);break}e&&ut&&Kt.alternate===null&&n(k,ut),O=f(Kt,O,Ot),Gt===null?dt=Kt:Gt.sibling=Kt,Gt=Kt,ut=zt}if(Ot===P.length)return r(k,ut),Ht&&Yi(k,Ot),dt;if(ut===null){for(;Ot<P.length;Ot++)ut=Y(k,P[Ot],Q),ut!==null&&(O=f(ut,O,Ot),Gt===null?dt=ut:Gt.sibling=ut,Gt=ut);return Ht&&Yi(k,Ot),dt}for(ut=o(ut);Ot<P.length;Ot++)zt=q(ut,k,Ot,P[Ot],Q),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?Ot:zt.key),O=f(zt,O,Ot),Gt===null?dt=zt:Gt.sibling=zt,Gt=zt);return e&&ut.forEach(function(Ws){return n(k,Ws)}),Ht&&Yi(k,Ot),dt}function yt(k,O,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Gt=null,ut=O,Ot=O=0,zt=null,Kt=P.next();ut!==null&&!Kt.done;Ot++,Kt=P.next()){ut.index>Ot?(zt=ut,ut=null):zt=ut.sibling;var Ws=j(k,ut,Kt.value,Q);if(Ws===null){ut===null&&(ut=zt);break}e&&ut&&Ws.alternate===null&&n(k,ut),O=f(Ws,O,Ot),Gt===null?dt=Ws:Gt.sibling=Ws,Gt=Ws,ut=zt}if(Kt.done)return r(k,ut),Ht&&Yi(k,Ot),dt;if(ut===null){for(;!Kt.done;Ot++,Kt=P.next())Kt=Y(k,Kt.value,Q),Kt!==null&&(O=f(Kt,O,Ot),Gt===null?dt=Kt:Gt.sibling=Kt,Gt=Kt);return Ht&&Yi(k,Ot),dt}for(ut=o(ut);!Kt.done;Ot++,Kt=P.next())Kt=q(ut,k,Ot,Kt.value,Q),Kt!==null&&(e&&Kt.alternate!==null&&ut.delete(Kt.key===null?Ot:Kt.key),O=f(Kt,O,Ot),Gt===null?dt=Kt:Gt.sibling=Kt,Gt=Kt);return e&&ut.forEach(function(Vb){return n(k,Vb)}),Ht&&Yi(k,Ot),dt}function ae(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===nt){if(O.tag===7){r(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&qr(dt)===O.type){r(k,O.sibling),Q=h(O,P.props),Xo(Q,P),Q.return=k,k=Q;break t}r(k,O);break}else n(k,O);O=O.sibling}P.type===nt?(Q=Ur(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Vu(P.type,P.key,P.props,null,k.mode,Q),Xo(Q,P),Q.return=k,k=Q)}return p(k);case Z:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break t}else{r(k,O);break}else n(k,O);O=O.sibling}Q=Zh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return P=qr(P),ae(k,O,P,Q)}if(le(P))return lt(k,O,P,Q);if(L(P)){if(dt=L(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),yt(k,O,P,Q)}if(typeof P.then=="function")return ae(k,O,Bu(P),Q);if(P.$$typeof===bt)return ae(k,O,Uu(k,P),Q);qu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(r(k,O),Q=Jh(P,k.mode,Q),Q.return=k,k=Q),p(k)):r(k,O)}return function(k,O,P,Q){try{Yo=0;var dt=ae(k,O,P,Q);return Na=null,dt}catch(ut){if(ut===Ia||ut===zu)throw ut;var Gt=wn(29,ut,null,k.mode);return Gt.lanes=Q,Gt.return=k,Gt}}}var Fr=tg(!0),eg=tg(!1),Ls=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),Pp(e,null,r),n}return Ou(e,o,n,r),Mu(e)}function $o(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ao(e,r)}}function df(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var mf=!1;function Jo(){if(mf){var e=Ca;if(e!==null)throw e}}function Zo(e,n,r,o){mf=!1;var h=e.updateQueue;Ls=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,z=x.next;x.next=null,p===null?f=z:p.next=z,p=x;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;p=0,G=z=x=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Pt&j)===j:(o&j)===j){j!==0&&j===xa&&(mf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;j=n;var ae=r;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(ae,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,j=typeof lt=="function"?lt.call(ae,Y,j):lt,j==null)break t;Y=S({},Y,j);break t;case 2:Ls=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=q,x=Y):G=G.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Hs|=p,e.lanes=p,e.memoizedState=Y}}function ng(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ig(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ng(r[e],n)}var Da=M(null),Hu=M(0);function sg(e,n){e=rs,et(Hu,e),et(Da,n),rs=e|n.baseLanes}function pf(){et(Hu,rs),et(Da,Da.current)}function gf(){rs=Hu.current,K(Da),K(Hu)}var Rn=M(null),Fn=null;function zs(e){var n=e.alternate;et(we,we.current&1),et(Rn,e),Fn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Fn=e)}function yf(e){et(we,we.current),et(Rn,e),Fn===null&&(Fn=e)}function rg(e){e.tag===22?(et(we,we.current),et(Rn,e),Fn===null&&(Fn=e)):js()}function js(){et(we,we.current),et(Rn,Rn.current)}function xn(e){K(Rn),Fn===e&&(Fn=null),K(we)}var we=M(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ad(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Nt=null,se=null,Me=null,Gu=!1,Oa=!1,Gr=!1,Ku=0,Wo=0,Ma=null,ST=0;function Ee(){throw Error(a(321))}function _f(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Sn(e[r],n[r]))return!1;return!0}function vf(e,n,r,o,h,f){return Ji=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?qg:Vf,Gr=!1,f=r(o,h),Gr=!1,Oa&&(f=og(n,r,o,h)),ag(e),f}function ag(e){F.H=nl;var n=se!==null&&se.next!==null;if(Ji=0,Me=se=Nt=null,Gu=!1,Wo=0,Ma=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&Lu(e)&&(Ve=!0))}function og(e,n,r,o){Nt=e;var h=0;do{if(Oa&&(Ma=null),Wo=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,Me=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Hg,f=n(r,o)}while(Oa);return f}function wT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Nt.flags|=1024),n}function Ef(){var e=Ku!==0;return Ku=0,e}function Tf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function bf(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}Ji=0,Me=se=Nt=null,Oa=!1,Wo=Ku=0,Ma=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Nt.memoizedState=Me=e:Me=Me.next=e,Me}function Re(){if(se===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Me===null?Nt.memoizedState:Me.next;if(n!==null)Me=n,se=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Me===null?Nt.memoizedState=Me=e:Me=Me.next=e}return Me}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,Ma===null&&(Ma=[]),e=Jp(Ma,e,n),n=Nt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?qg:Vf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===bt)return $e(e)}throw Error(a(438,String(e)))}function Af(e){var n=null,r=Nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),Nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Zi(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=Re();return Sf(n,se,e)}function Sf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,x=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Pt&Y)===Y:(Ji&Y)===Y){var j=z.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===xa&&(G=!0);else if((Ji&j)===j){z=z.next,j===xa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=Y,p=f):x=x.next=Y,Nt.lanes|=j,Hs|=j;Y=z.action,Gr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=j,p=f):x=x.next=j,Nt.lanes|=Y,Hs|=Y;z=z.next}while(z!==null&&z!==n);if(x===null?p=f:x.next=T,!Sn(f,e.memoizedState)&&(Ve=!0,G&&(r=Ca,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=Re(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function lg(e,n,r){var o=Nt,h=Re(),f=Ht;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Sn((se||h).memoizedState,r);if(p&&(h.memoizedState=r,Ve=!0),h=h.queue,Cf(hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},cg.bind(null,o,h,r,n),null),oe===null)throw Error(a(349));f||(Ji&127)!==0||ug(o,n,r)}return r}function ug(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n=Qu(),Nt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function cg(e,n,r,o){n.value=r,n.getSnapshot=o,fg(n)&&dg(e)}function hg(e,n,r){return r(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Sn(e,r)}catch{return!0}}function dg(e){var n=Lr(e,2);n!==null&&yn(n,e,2)}function Rf(e){var n=un();if(typeof e=="function"){var r=e;if(e=r(),Gr){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function mg(e,n,r,o){return e.baseState=r,Sf(e,se,typeof o=="function"?o:Zi)}function RT(e,n,r,o,h){if(Zu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,pg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=r(h,o),x=F.S;x!==null&&x(p,T),gg(e,n,T)}catch(z){xf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,o),gg(e,n,f)}catch(z){xf(e,n,z)}}function gg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){yg(e,n,o)},function(o){return xf(e,n,o)}):yg(e,n,r)}function yg(e,n,r){n.status="fulfilled",n.value=r,_g(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,pg(e,r)))}function xf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==o)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function Eg(e,n){if(Ht){var r=oe.formState;if(r!==null){t:{var o=Nt;if(Ht){if(he){e:{for(var h=he,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Gn(h.nextSibling),o=h.data==="F!";break t}}Vs(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},r.queue=o,r=zg.bind(null,Nt,o),o.dispatch=r,o=Rf(!1),f=Mf.bind(null,Nt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=RT.bind(null,Nt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Tg(e){var n=Re();return bg(n,se,e)}function bg(e,n,r){if(n=Sf(e,n,vg)[0],e=Xu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(p){throw p===Ia?zu:p}else o=n;n=Re();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Nt.flags|=2048,Va(9,{destroy:void 0},xT.bind(null,h,r),null)),[o,f,e]}function xT(e,n){e.action=n}function Ag(e){var n=Re(),r=se;if(r!==null)return bg(n,r,e);Re(),n=n.memoizedState,r=Re();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Va(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Qu(),Nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Sg(){return Re().memoizedState}function $u(e,n,r,o){var h=un();Nt.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ju(e,n,r,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&_f(o,se.memoizedState.deps)?h.memoizedState=Va(n,f,r,o):(Nt.flags|=e,h.memoizedState=Va(1|n,f,r,o))}function wg(e,n){$u(8390656,8,e,n)}function Cf(e,n){Ju(2048,8,e,n)}function CT(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Qu(),Nt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Rg(e){var n=Re().memoizedState;return CT({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xg(e,n){return Ju(4,2,e,n)}function Cg(e,n){return Ju(4,4,e,n)}function Ig(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ng(e,n,r){r=r!=null?r.concat([e]):null,Ju(4,4,Ig.bind(null,n,e),r)}function If(){}function Dg(e,n){var r=Re();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Og(e,n){var r=Re();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),Gr){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[o,n],o}function Nf(e,n,r){return r===void 0||(Ji&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=My(),Nt.lanes|=e,Hs|=e,r)}function Mg(e,n,r,o){return Sn(r,n)?r:Da.current!==null?(e=Nf(e,r,o),Sn(e,n)||(Ve=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Pt&261930)===0?(Ve=!0,e.memoizedState=r):(e=My(),Nt.lanes|=e,Hs|=e,n)}function Vg(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,Mf(e,!1,n,r);try{var x=h(),z=F.S;if(z!==null&&z(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=AT(x,o);el(e,n,G,Nn(e))}else el(e,n,o,Nn(e))}catch(Y){el(e,n,{then:function(){},status:"rejected",reason:Y},Nn())}finally{tt.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function IT(){}function Df(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=kg(e).queue;Vg(e,h,n,at,r===null?IT:function(){return Lg(e),r(o)})}function kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=kg(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},Nn())}function Of(){return $e(_l)}function Ug(){return Re().memoizedState}function Pg(){return Re().memoizedState}function NT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Nn();e=Us(r);var o=Ps(n,e,r);o!==null&&(yn(o,n,r),$o(o,n,r)),n={cache:of()},e.payload=n;return}n=n.return}}function DT(e,n,r){var o=Nn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(e)?jg(n,r):(r=Xh(e,n,r,o),r!==null&&(yn(r,e,o),Bg(r,n,o)))}function zg(e,n,r){var o=Nn();el(e,n,r,o)}function el(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))jg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,p))return Ou(e,n,h,0),oe===null&&Du(),!1}catch{}if(r=Xh(e,n,h,o),r!==null)return yn(r,e,o),Bg(r,n,o),!0}return!1}function Mf(e,n,r,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(n)throw Error(a(479))}else n=Xh(e,r,o,2),n!==null&&yn(n,e,2)}function Zu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function jg(e,n){Oa=Gu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Bg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ao(e,r)}}var nl={readContext:$e,use:Yu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};nl.useEffectEvent=Ee;var qg={readContext:$e,use:Yu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:wg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,$u(4194308,4,Ig.bind(null,n,e),r)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var r=un();n=n===void 0?null:n;var o=e();if(Gr){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=un();if(r!==void 0){var h=r(n);if(Gr){Vn(!0);try{r(n)}finally{Vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=DT.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,r=zg.bind(null,Nt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:If,useDeferredValue:function(e,n){var r=un();return Nf(r,e,n)},useTransition:function(){var e=Rf(!1);return e=Vg.bind(null,Nt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Nt,h=un();if(Ht){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),oe===null)throw Error(a(349));(Pt&127)!==0||ug(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wg(hg.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},cg.bind(null,o,f,r,n),null),r},useId:function(){var e=un(),n=oe.identifierPrefix;if(Ht){var r=Di,o=Ni;r=(o&~(1<<32-Ae(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=ST++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,Nt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return un().memoizedState=NT.bind(null,Nt)},useEffectEvent:function(e){var n=un(),r={impl:e};return n.memoizedState=r,function(){if((Xt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:$e,use:Yu,useCallback:Dg,useContext:$e,useEffect:Cf,useImperativeHandle:Ng,useInsertionEffect:xg,useLayoutEffect:Cg,useMemo:Og,useReducer:Xu,useRef:Sg,useState:function(){return Xu(Zi)},useDebugValue:If,useDeferredValue:function(e,n){var r=Re();return Mg(r,se.memoizedState,e,n)},useTransition:function(){var e=Xu(Zi)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:Of,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var r=Re();return mg(r,se,e,n)},useMemoCache:Af,useCacheRefresh:Pg};Vf.useEffectEvent=Rg;var Hg={readContext:$e,use:Yu,useCallback:Dg,useContext:$e,useEffect:Cf,useImperativeHandle:Ng,useInsertionEffect:xg,useLayoutEffect:Cg,useMemo:Og,useReducer:wf,useRef:Sg,useState:function(){return wf(Zi)},useDebugValue:If,useDeferredValue:function(e,n){var r=Re();return se===null?Nf(r,e,n):Mg(r,se.memoizedState,e,n)},useTransition:function(){var e=wf(Zi)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:Of,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var r=Re();return se!==null?mg(r,se,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Pg};Hg.useEffectEvent=Rg;function kf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Nn(),h=Us(o);h.payload=n,r!=null&&(h.callback=r),n=Ps(e,h,o),n!==null&&(yn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Nn(),h=Us(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ps(e,h,o),n!==null&&(yn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Nn(),o=Us(r);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,r),n!==null&&(yn(n,e,r),$o(n,e,r))}};function Fg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(r,o)||!qo(h,f):!0}function Gg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Kg(e){Nu(e)}function Qg(e){console.error(e)}function Yg(e){Nu(e)}function Wu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,n,r){return r=Us(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(e,n)},r}function $g(e){return e=Us(e),e.tag=3,e}function Jg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Xg(n,r,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function OT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ra(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 31:case 13:return Fn===null?hc():r.alternate===null&&Te===0&&(Te=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return r.flags|=65536,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ld(e,o,h)),!1}throw Error(a(435,r.tag))}return ld(e,o,h),hc(),!1}if(Ht)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(a(422),{cause:o}),Go(jn(e,r)))):(o!==ef&&(n=Error(a(423),{cause:o}),Go(jn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,r),h=Uf(e.stateNode,o,h),df(e,h),Te!==4&&(Te=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,r),cl===null?cl=[f]:cl.push(f),Te!==4&&(Te=2),n===null)return!0;o=jn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Uf(r.stateNode,o,e),df(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Jg(h,e,r,o),df(r,h),!1}r=r.return}while(r!==null);return!1}var Pf=Error(a(461)),Ve=!1;function Je(e,n,r,o){n.child=e===null?eg(n,null,r,o):Fr(n,e.child,r,o)}function Zg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return jr(n),o=vf(e,n,r,p,f,h),T=Ef(),e!==null&&!Ve?(Tf(e,n,h),Wi(e,n,h)):(Ht&&T&&Wh(n),n.flags|=1,Je(e,n,o,h),n.child)}function Wg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(e,n,f,o,h)):(e=Vu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:qo,r(p,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return zf(e,n,r,o,h)}function ey(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):pf(),rg(n);else return o=n.lanes=536870912,ny(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Pu(n,f.cachePool),sg(n,f),js(),n.memoizedState=null):(e!==null&&Pu(n,null),pf(),js());return Je(e,n,h,r),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,r,o,h){var f=uf();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Pu(n,null),pf(),rg(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,r){return Fr(n,e.child,null,r),e=tc(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function MT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=tc(n,o),n.lanes=536870912,il(null,e);if(yf(n),(e=he)?(e=p_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=jp(e),r.return=n,n.child=r,Xe=n,he=null)):e=null,e===null)throw Vs(n);return n.lanes=536870912,null}return tc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Ra(e,n,r,!1),h=(r&e.childLanes)!==0,Ve||h){if(o=oe,o!==null&&(p=So(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Lr(e,p),yn(o,e,p),Pf;hc(),n=iy(e,n,r)}else e=f.treeContext,he=Gn(p.nextSibling),Xe=n,Ht=!0,Ms=null,Hn=!1,e!==null&&Hp(n,e),n=tc(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function zf(e,n,r,o,h){return jr(n),r=vf(e,n,r,o,void 0,h),o=Ef(),e!==null&&!Ve?(Tf(e,n,h),Wi(e,n,h)):(Ht&&o&&Wh(n),n.flags|=1,Je(e,n,r,h),n.child)}function sy(e,n,r,o,h,f){return jr(n),n.updateQueue=null,r=og(n,o,r,h),ag(e),o=Ef(),e!==null&&!Ve?(Tf(e,n,f),Wi(e,n,f)):(Ht&&o&&Wh(n),n.flags|=1,Je(e,n,r,f),n.child)}function ry(e,n,r,o,h){if(jr(n),n.stateNode===null){var f=ba,p=r.contextType;typeof p=="object"&&p!==null&&(f=$e(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?$e(p):ba,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(kf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,x=Kr(r,T);f.props=x;var z=f.context,G=r.contextType;p=ba,typeof G=="object"&&G!==null&&(p=$e(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Gg(n,f,o,p),Ls=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),Jo(),z=n.memoizedState,T||j!==z||Ls?(typeof Y=="function"&&(kf(n,r,Y,o),z=n.memoizedState),(x=Ls||Fg(n,r,x,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),p=n.memoizedProps,G=Kr(r,p),f.props=G,Y=n.pendingProps,j=f.context,z=r.contextType,x=ba,typeof z=="object"&&z!==null&&(x=$e(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==x)&&Gg(n,f,o,x),Ls=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),Jo();var q=n.memoizedState;p!==Y||j!==q||Ls||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof T=="function"&&(kf(n,r,T,o),q=n.memoizedState),(G=Ls||Fg(n,r,G,o,j,q,x)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=x,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,r,h)):Je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function ay(e,n,r,o){return Pr(),n.flags|=256,Je(e,n,r,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:Xp()}}function qf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function oy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?zs(n):js(),(e=he)?(e=p_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=jp(e),r.return=n,n.child=r,Xe=n,he=null)):e=null,e===null)throw Vs(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(js(),h=n.mode,T=nc({mode:"hidden",children:T},h),o=Ur(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(e,p,r),n.memoizedState=jf,il(null,o)):(zs(n),Hf(n,T))}var x=e.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Ff(e,n,r)):n.memoizedState!==null?(js(),n.child=e.child,n.flags|=128,n=null):(js(),T=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),T=Ur(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Fr(n,e.child,null,r),o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(e,p,r),n.memoizedState=jf,n=il(null,o));else if(zs(n),Sd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=Ff(e,n,r)}else if(Ve||Ra(e,n,r,!1),p=(r&e.childLanes)!==0,Ve||p){if(p=oe,p!==null&&(o=So(p,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Lr(e,o),yn(p,e,o),Pf;Ad(T)||hc(),n=Ff(e,n,r)}else Ad(T)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,he=Gn(T.nextSibling),Xe=n,Ht=!0,Ms=null,Hn=!1,e!==null&&Hp(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(js(),T=o.fallback,h=n.mode,x=e.child,z=x.sibling,o=Qi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?T=Qi(z,T):(T=Ur(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,il(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Bf(r):(h=T.cachePool,h!==null?(x=Oe._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Xp(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=qf(e,p,r),n.memoizedState=jf,il(e.child,o)):(zs(n),r=e.child,e=r.sibling,r=Qi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Hf(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Ff(e,n,r){return Fr(n,e.child,null,r),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,r)}function Gf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function uy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=we.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,et(we,p),Je(e,n,o,r),o=Ht?Fo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,r,n);else if(e.tag===19)ly(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Fu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ra(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Qi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Qi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function VT(e,n,r){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),ks(n,Oe,e.memoizedState.cache),Pr();break;case 27:case 5:qi(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(e,n,r):(zs(n),e=Wi(e,n,r),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ra(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return uy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(we,we.current),o)break;return null;case 22:return n.lanes=0,ey(e,n,r,n.pendingProps);case 24:ks(n,Oe,e.memoizedState.cache)}return Wi(e,n,r)}function cy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Kf(e,r)&&(n.flags&128)===0)return Ve=!1,VT(e,n,r);Ve=(e.flags&131072)!==0}else Ve=!1,Ht&&(n.flags&1048576)!==0&&qp(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=qr(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=Kr(e,o),n.tag=1,n=ry(null,n,e,o,r)):(n.tag=0,n=zf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===$t){n.tag=11,n=Zg(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Wg(null,n,e,o,r);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return zf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Kr(o,n.pendingProps),ry(e,n,o,h,r);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Zo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,ks(n,Oe,o),o!==f.cache&&af(n,[Oe],r,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(e,n,o,r);break t}else if(o!==h){h=jn(Error(a(424)),n),Go(h),n=ay(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Gn(e.firstChild),Xe=n,Ht=!0,Ms=null,Hn=!0,r=eg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pr(),o===h){n=Wi(e,n,r);break t}Je(e,n,o,r)}n=n.child}return n;case 26:return ec(e,n),e===null?(r=T_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ht||(r=n.type,e=n.pendingProps,o=_c(xt.current).createElement(r),o[Ie]=n,o[qe]=e,Ze(o,r,e),Ne(o),n.stateNode=o):n.memoizedState=T_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&Ht&&(o=n.stateNode=__(n.type,n.pendingProps,xt.current),Xe=n,Hn=!0,h=he,Ys(n.type)?(wd=h,he=Gn(o.firstChild)):he=h),Je(e,n,n.pendingProps.children,r),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=he)&&(o=cb(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Xe=n,he=Gn(o.firstChild),Hn=!1,h=!0):h=!1),h||Vs(n)),qi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,wT,null,null,r),_l._currentValue=h),ec(e,n),Je(e,n,o,r),n.child;case 6:return e===null&&Ht&&((e=r=he)&&(r=hb(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Xe=n,he=null,e=!0):e=!1),e||Vs(n)),null;case 13:return oy(e,n,r);case 4:return be(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,r):Je(e,n,o,r),n.child;case 11:return Zg(e,n,n.type,n.pendingProps,r);case 7:return Je(e,n,n.pendingProps,r),n.child;case 8:return Je(e,n,n.pendingProps.children,r),n.child;case 12:return Je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=$e(h),o=o(h),n.flags|=1,Je(e,n,o,r),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,r);case 15:return ty(e,n,n.type,n.pendingProps,r);case 19:return uy(e,n,r);case 31:return MT(e,n,r);case 22:return ey(e,n,r,n.pendingProps);case 24:return jr(n),o=$e(Oe),e===null?(h=uf(),h===null&&(h=oe,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},hf(n),ks(n,Oe,h)):((e.lanes&r)!==0&&(ff(e,n),Zo(n,null,null,r),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,Oe,o)):(o=f.cache,ks(n,Oe,o),o!==h.cache&&af(n,[Oe],r,!0))),Je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function Qf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw Hr=ju,cf}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(n))if(Uy())e.flags|=8192;else throw Hr=ju,cf}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,Pa|=n)}function sl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function kT(e,n,r){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Oe),ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wa(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(fe(n),hy(n,f)):(fe(n),Qf(n,h,null,o,r))):f?f!==e.memoizedState?(ts(n),fe(n),hy(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),fe(n),Qf(n,h,e,o,r)),null;case 27:if(vs(n),r=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=rt.current,wa(n)?Fp(n):(e=__(h,o,r),n.stateNode=e,ts(n))}return fe(n),null;case 5:if(vs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=rt.current,wa(n))Fp(n);else{var p=_c(xt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ie]=n,f[qe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return fe(n),Qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=xt.current,wa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||o_(e.nodeValue,r)),e||Vs(n,!0)}else e=_c(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return fe(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else r=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ic(n,n.updateQueue),fe(n),null);case 4:return ue(),e===null&&pd(n.stateNode.containerInfo),fe(n),null;case 10:return $i(n.type),fe(n),null;case 19:if(K(we),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)zp(r,e),r=r.sibling;return et(we,we.current&1|2),Ht&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ce()>lc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return fe(n),null}else 2*ce()-o.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ce(),e.sibling=null,r=we.current,et(we,h?r&1|2:r&1),Ht&&Yi(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return xn(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),r=n.updateQueue,r!==null&&ic(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Br),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$i(Oe),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function LT(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Oe),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(we),null;case 4:return ue(),null;case 10:return $i(n.type),null;case 22:case 23:return xn(n),gf(),e!==null&&K(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Oe),null;case 25:return null;default:return null}}function fy(e,n){switch(tf(n),n.tag){case 3:$i(Oe),ue();break;case 26:case 27:case 5:vs(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:K(we);break;case 10:$i(n.type);break;case 22:case 23:xn(n),gf(),e!==null&&K(Br);break;case 24:$i(Oe)}}function rl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){ne(n,n.return,T)}}function Bs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var x=r,z=T;try{z()}catch(G){ne(h,x,G)}}}o=o.next}while(o!==f)}}catch(G){ne(n,n.return,G)}}function dy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{ig(n,r)}catch(o){ne(e,e.return,o)}}}function my(e,n,r){r.props=Kr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){ne(e,n,o)}}function al(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){ne(e,n,h)}}function Oi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ne(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ne(e,n,h)}else r.current=null}function py(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ne(e,e.return,h)}}function Yf(e,n,r){try{var o=e.stateNode;sb(o,e.type,r,n),o[qe]=n}catch(h){ne(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Ys(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,r),e=e.sibling;e!==null;)$f(e,n,r),e=e.sibling}function sc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ys(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(sc(e,n,r),e=e.sibling;e!==null;)sc(e,n,r),e=e.sibling}function yy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,r),n[Ie]=e,n[qe]=r}catch(f){ne(e,e.return,f)}}var es=!1,ke=!1,Jf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function UT(e,n){if(e=e.containerInfo,_d=wc,e=Np(e),Hh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,T=-1,x=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||o!==0&&Y.nodeType!==3||(x=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(T=p),j===f&&++G===o&&(x=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=T===-1||x===-1?null:{start:T,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:e,selectionRange:r},wc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Kr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){ne(r,r.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)bd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function vy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:is(e,r),o&4&&rl(5,r);break;case 1:if(is(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){ne(r,r.return,p)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ne(r,r.return,p)}}o&64&&dy(r),o&512&&al(r,r.return);break;case 3:if(is(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ig(e,n)}catch(p){ne(r,r.return,p)}}break;case 27:n===null&&o&4&&yy(r);case 26:case 5:is(e,r),n===null&&o&4&&py(r),o&512&&al(r,r.return);break;case 12:is(e,r);break;case 31:is(e,r),o&4&&by(e,r);break;case 13:is(e,r),o&4&&Ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=KT.bind(null,r),fb(e,r))));break;case 22:if(o=r.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||ke,h=es;var f=ke;es=o,(ke=n)&&!f?ss(e,r,(r.subtreeFlags&8772)!==0):is(e,r),es=h,ke=f}break;case 30:break;default:is(e,r)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function ns(e,n,r){for(r=r.child;r!==null;)Ty(e,n,r),r=r.sibling}function Ty(e,n,r){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Xn,r)}catch{}switch(r.tag){case 26:ke||Oi(r,n),ns(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ke||Oi(r,n);var o=ge,h=dn;Ys(r.type)&&(ge=r.stateNode,dn=!1),ns(e,n,r),pl(r.stateNode),ge=o,dn=h;break;case 5:ke||Oi(r,n);case 6:if(o=ge,h=dn,ge=null,ns(e,n,r),ge=o,dn=h,ge!==null)if(dn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(r.stateNode)}catch(f){ne(r,n,f)}else try{ge.removeChild(r.stateNode)}catch(f){ne(r,n,f)}break;case 18:ge!==null&&(dn?(e=ge,d_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ka(e)):d_(ge,r.stateNode));break;case 4:o=ge,h=dn,ge=r.stateNode.containerInfo,dn=!0,ns(e,n,r),ge=o,dn=h;break;case 0:case 11:case 14:case 15:Bs(2,r,n),ke||Bs(4,r,n),ns(e,n,r);break;case 1:ke||(Oi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&my(r,n,o)),ns(e,n,r);break;case 21:ns(e,n,r);break;case 22:ke=(o=ke)||r.memoizedState!==null,ns(e,n,r),ke=o;break;default:ns(e,n,r)}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(r){ne(n,n.return,r)}}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(r){ne(n,n.return,r)}}function PT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(a(435,e.tag))}}function rc(e,n){var r=PT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=QT.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Ys(T.type)){ge=T.stateNode,dn=!1;break t}break;case 5:ge=T.stateNode,dn=!1;break t;case 3:case 4:ge=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(ge===null)throw Error(a(160));Ty(f,p,h),ge=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,e),n=n.sibling}var ri=null;function Sy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),pn(e),o&4&&(Bs(3,e,e.return),rl(3,e),Bs(5,e,e.return));break;case 1:mn(n,e),pn(e),o&512&&(ke||r===null||Oi(r,r.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ri;if(mn(n,e),pn(e),o&512&&(ke||r===null||Oi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,r),f[Ie]=e,Ne(f),o=f;break t;case"link":var p=S_("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;case"meta":if(p=S_("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ie]=e,Ne(f),o=f}e.stateNode=o}else w_(h,e.type,e.stateNode);else e.stateNode=A_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?w_(h,e.type,e.stateNode):A_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),pn(e),o&512&&(ke||r===null||Oi(r,r.return)),r!==null&&o&4&&Yf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),pn(e),o&512&&(ke||r===null||Oi(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(lt){ne(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(mn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){ne(e,e.return,lt)}}break;case 3:if(Tc=null,h=ri,ri=vc(n.containerInfo),mn(n,e),ri=h,pn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(lt){ne(e,e.return,lt)}Jf&&(Jf=!1,wy(e));break;case 4:o=ri,ri=vc(e.stateNode.containerInfo),mn(n,e),pn(e),ri=o;break;case 12:mn(n,e),pn(e);break;case 31:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:mn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=ce()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,z=es,G=ke;if(es=z||h,ke=G||x,mn(n,e),ke=G,es=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||es||ke||Qr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=x.stateNode;var Y=x.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){ne(x,x.return,lt)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(lt){ne(x,x.return,lt)}}}else if(n.tag===18){if(r===null){x=n;try{var q=x.stateNode;h?m_(q,!0):m_(x.stateNode,!1)}catch(lt){ne(x,x.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rc(e,r))));break;case 19:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:mn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(e);sc(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(fn(p,""),r.flags&=-33);var T=Xf(e);sc(e,T,p);break;case 3:case 4:var x=r.stateNode.containerInfo,z=Xf(e);$f(e,z,x);break;default:throw Error(a(161))}}catch(G){ne(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Qr(n);break;case 1:Oi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),Qr(n);break;case 27:pl(n.stateNode);case 26:case 5:Oi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function ss(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,r),rl(4,f);break;case 1:if(ss(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ne(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)ng(x[h],T)}catch(z){ne(o,o.return,z)}}r&&p&64&&dy(f),al(f,f.return);break;case 27:yy(f);case 26:case 5:ss(h,f,r),r&&o===null&&p&4&&py(f),al(f,f.return);break;case 12:ss(h,f,r);break;case 31:ss(h,f,r),r&&p&4&&by(h,f);break;case 13:ss(h,f,r),r&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&ss(h,f,r),al(f,f.return);break;case 30:break;default:ss(h,f,r)}n=n.sibling}}function Zf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ko(r))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e))}function ai(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,r,o),n=n.sibling}function Ry(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,r,o),h&2048&&rl(9,n);break;case 1:ai(e,n,r,o);break;case 3:ai(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){ai(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){ne(n,n.return,x)}}else ai(e,n,r,o);break;case 31:ai(e,n,r,o);break;case 13:ai(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ai(e,n,r,o):ol(e,n):f._visibility&2?ai(e,n,r,o):(f._visibility|=2,ka(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:ai(e,n,r,o),h&2048&&Wf(n.alternate,n);break;default:ai(e,n,r,o)}}function ka(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=r,x=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:ka(f,p,T,x,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?ka(f,p,T,x,h):ol(f,p):(G._visibility|=2,ka(f,p,T,x,h)),h&&z&2048&&Zf(p.alternate,p);break;case 24:ka(f,p,T,x,h),h&&z&2048&&Wf(p.alternate,p);break;default:ka(f,p,T,x,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&Zf(o.alternate,o);break;case 24:ol(r,o),h&2048&&Wf(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function La(e,n,r){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)xy(e,n,r),e=e.sibling}function xy(e,n,r){switch(e.tag){case 26:La(e,n,r),e.flags&ll&&e.memoizedState!==null&&Sb(r,ri,e.memoizedState,e.memoizedProps);break;case 5:La(e,n,r);break;case 3:case 4:var o=ri;ri=vc(e.stateNode.containerInfo),La(e,n,r),ri=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,La(e,n,r),ll=o):La(e,n,r));break;default:La(e,n,r)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,Ny(o,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):ul(e);break;default:ul(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,Ny(o,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function Ny(e,n){for(;Fe!==null;){var r=Fe;switch(r.tag){case 0:case 11:case 15:Bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Fe=o;else t:for(r=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(Ey(o),o===r){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var zT={getCacheForType:function(e){var n=$e(Oe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return $e(Oe).controller.signal}},jT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oe=null,kt=null,Pt=0,ee=0,Cn=null,qs=!1,Ua=!1,td=!1,rs=0,Te=0,Hs=0,Yr=0,ed=0,In=0,Pa=0,cl=null,gn=null,nd=!1,oc=0,Dy=0,lc=1/0,uc=null,Fs=null,ze=0,Gs=null,za=null,as=0,id=0,sd=null,Oy=null,hl=0,rd=null;function Nn(){return(Xt&2)!==0&&Pt!==0?Pt&-Pt:F.T!==null?hd():cu()}function My(){if(In===0)if((Pt&536870912)===0||Ht){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),In=e}else In=536870912;return e=Rn.current,e!==null&&(e.flags|=32),In}function yn(e,n,r){(e===oe&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Ks(e,Pt,In,!1)),br(e,r),((Xt&2)===0||e!==oe)&&(e===oe&&((Xt&2)===0&&(Yr|=r),Te===4&&Ks(e,Pt,In,!1)),Mi(e))}function Vy(e,n,r){if((Xt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||$n(e,n),h=o?HT(e,n):od(e,n,!0),f=o;do{if(h===0){Ua&&!o&&Ks(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!BT(r)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=cl;var x=T.current.memoizedState.isDehydrated;if(x&&(ja(T,p).flags|=256),p=od(T,p,!1),p!==2){if(td&&!x){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),Ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,In,!qs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-ce(),10<h)){if(Ks(o,n,In,!qs),pi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=h_(ky.bind(null,o,r,gn,uc,nd,n,In,Yr,Pa,qs,f,"Throttled",-0,0),h);break t}ky(o,r,gn,uc,nd,n,In,Yr,Pa,qs,f,null,-0,0)}}break}while(!0);Mi(e)}function ky(e,n,r,o,h,f,p,T,x,z,G,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},xy(n,f,Y);var lt=(f&62914560)===f?oc-ce():(f&4194048)===f?Dy-ce():0;if(lt=wb(Y,lt),lt!==null){as=f,e.cancelPendingCommit=lt(Hy.bind(null,e,n,f,r,o,h,p,T,x,G,Y,null,j,q)),Ks(e,f,p,!z);return}}Hy(e,n,f,r,o,h,p,T,x)}function BT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(e,n,r,o){n&=~ed,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Ar(e,r,n)}function cc(){return(Xt&6)===0?(fl(0),!1):!0}function ad(){if(kt!==null){if(ee===0)var e=kt.return;else e=kt,Xi=zr=null,bf(e),Na=null,Yo=0,e=kt;for(;e!==null;)fy(e.alternate,e),e=e.return;kt=null}}function ja(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,ob(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),as=0,ad(),oe=e,kt=r=Qi(e.current,null),Pt=n,ee=0,Cn=null,qs=!1,Ua=$n(e,n),td=!1,Pa=In=ed=Yr=Hs=Te=0,gn=cl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Du(),r}function Ly(e,n){Nt=null,F.H=nl,n===Ia||n===zu?(n=Zp(),ee=3):n===cf?(n=Zp(),ee=4):ee=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,kt===null&&(Te=1,Wu(e,jn(n,e.current)))}function Uy(){var e=Rn.current;return e===null?!0:(Pt&4194048)===Pt?Fn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Fn:!1}function Py(){var e=F.H;return F.H=nl,e===null?nl:e}function zy(){var e=F.A;return F.A=zT,e}function hc(){Te=4,qs||(Pt&4194048)!==Pt&&Rn.current!==null||(Ua=!0),(Hs&134217727)===0&&(Yr&134217727)===0||oe===null||Ks(oe,Pt,In,!1)}function od(e,n,r){var o=Xt;Xt|=2;var h=Py(),f=zy();(oe!==e||Pt!==n)&&(uc=null,ja(e,n)),n=!1;var p=Te;t:do try{if(ee!==0&&kt!==null){var T=kt,x=Cn;switch(ee){case 8:ad(),p=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=ee;if(ee=0,Cn=null,Ba(e,T,x,z),r&&Ua){p=0;break t}break;default:z=ee,ee=0,Cn=null,Ba(e,T,x,z)}}qT(),p=Te;break}catch(G){Ly(e,G)}while(!0);return n&&e.shellSuspendCounter++,Xi=zr=null,Xt=o,F.H=h,F.A=f,kt===null&&(oe=null,Pt=0,Du()),p}function qT(){for(;kt!==null;)jy(kt)}function HT(e,n){var r=Xt;Xt|=2;var o=Py(),h=zy();oe!==e||Pt!==n?(uc=null,lc=ce()+500,ja(e,n)):Ua=$n(e,n);t:do try{if(ee!==0&&kt!==null){n=kt;var f=Cn;e:switch(ee){case 1:ee=0,Cn=null,Ba(e,n,f,1);break;case 2:case 9:if($p(f)){ee=0,Cn=null,By(n);break}n=function(){ee!==2&&ee!==9||oe!==e||(ee=7),Mi(e)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:$p(f)?(ee=0,Cn=null,By(n)):(ee=0,Cn=null,Ba(e,n,f,7));break;case 5:var p=null;switch(kt.tag){case 26:p=kt.memoizedState;case 5:case 27:var T=kt;if(p?R_(p):T.stateNode.complete){ee=0,Cn=null;var x=T.sibling;if(x!==null)kt=x;else{var z=T.return;z!==null?(kt=z,fc(z)):kt=null}break e}}ee=0,Cn=null,Ba(e,n,f,5);break;case 6:ee=0,Cn=null,Ba(e,n,f,6);break;case 8:ad(),Te=6;break t;default:throw Error(a(462))}}FT();break}catch(G){Ly(e,G)}while(!0);return Xi=zr=null,F.H=o,F.A=h,Xt=r,kt!==null?0:(oe=null,Pt=0,Du(),Te)}function FT(){for(;kt!==null&&!ye();)jy(kt)}function jy(e){var n=cy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?fc(e):kt=n}function By(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:bf(n);default:fy(r,n),n=kt=zp(n,rs),n=cy(r,n,rs)}e.memoizedProps=e.pendingProps,n===null?fc(e):kt=n}function Ba(e,n,r,o){Xi=zr=null,bf(n),Na=null,Yo=0;var h=n.return;try{if(OT(e,h,n,r,Pt)){Te=1,Wu(e,jn(r,e.current)),kt=null;return}}catch(f){if(h!==null)throw kt=h,f;Te=1,Wu(e,jn(r,e.current)),kt=null;return}n.flags&32768?(Ht||o===1?e=!0:Ua||(Pt&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,qs);return}e=n.return;var r=kT(n.alternate,n,rs);if(r!==null){kt=r;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=e}while(n!==null);Te===0&&(Te=5)}function qy(e,n){do{var r=LT(e.alternate,e);if(r!==null){r.flags&=32767,kt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){kt=e;return}kt=e=r}while(e!==null);Te=6,kt=null}function Hy(e,n,r,o,h,f,p,T,x){e.cancelPendingCommit=null;do dc();while(ze!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,zh(e,r,f,p,T,x),e===oe&&(kt=oe=null,Pt=0),za=n,Gs=e,as=r,id=f,sd=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YT(bs,function(){return Yy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,p=Xt,Xt|=4;try{UT(e,n,r)}finally{Xt=p,tt.p=h,F.T=o}}ze=1,Fy(),Gy(),Ky()}}function Fy(){if(ze===1){ze=0;var e=Gs,n=za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Xt;Xt|=4;try{Sy(n,e);var f=vd,p=Np(e.containerInfo),T=f.focusedElem,x=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Ip(T.ownerDocument.documentElement,T)){if(x!==null&&Hh(T)){var z=x.start,G=x.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=T.textContent.length,yt=Math.min(x.start,lt),ae=x.end===void 0?yt:Math.min(x.end,lt);!q.extend&&yt>ae&&(p=ae,ae=yt,yt=p);var k=Cp(T,yt),O=Cp(T,ae);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),yt>ae?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!_d,vd=_d=null}finally{Xt=h,tt.p=o,F.T=r}}e.current=n,ze=2}}function Gy(){if(ze===2){ze=0;var e=Gs,n=za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Xt;Xt|=4;try{vy(e,n.alternate,n)}finally{Xt=h,tt.p=o,F.T=r}}ze=3}}function Ky(){if(ze===4||ze===3){ze=0,Ke();var e=Gs,n=za,r=as,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,za=Gs=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Hi(r),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,tt.p=h}}(as&3)!==0&&dc(),Mi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===rd?hl++:(hl=0,rd=e):hl=0,fl(0)}}function Qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ko(n)))}function dc(){return Fy(),Gy(),Ky(),Yy()}function Yy(){if(ze!==5)return!1;var e=Gs,n=id;id=0;var r=Hi(as),o=F.T,h=tt.p;try{tt.p=32>r?32:r,F.T=null,r=sd,sd=null;var f=Gs,p=as;if(ze=0,za=Gs=null,as=0,(Xt&6)!==0)throw Error(a(331));var T=Xt;if(Xt|=4,Iy(f.current),Ry(f,f.current,p,r),Xt=T,fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{tt.p=h,F.T=o,Qy(e,n)}}function Xy(e,n,r){n=jn(r,n),n=Uf(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(br(e,2),Mi(e))}function ne(e,n,r){if(e.tag===3)Xy(e,e,r);else for(;n!==null;){if(n.tag===3){Xy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=jn(r,e),r=$g(2),o=Ps(n,r,2),o!==null&&(Jg(r,o,n,e),br(o,2),Mi(o));break}}n=n.return}}function ld(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new jT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(td=!0,h.add(r),e=GT.bind(null,e,n,r),n.then(e,e))}function GT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,oe===e&&(Pt&r)===r&&(Te===4||Te===3&&(Pt&62914560)===Pt&&300>ce()-oc?(Xt&2)===0&&ja(e,0):ed|=r,Pa===Pt&&(Pa=0)),Mi(e)}function $y(e,n){n===0&&(n=uu()),e=Lr(e,n),e!==null&&(br(e,n),Mi(e))}function KT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),$y(e,r)}function QT(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),$y(e,r)}function YT(e,n){return ht(e,n)}var mc=null,qa=null,ud=!1,pc=!1,cd=!1,Qs=0;function Mi(e){e!==qa&&e.next===null&&(qa===null?mc=qa=e:qa=qa.next=e),pc=!0,ud||(ud=!0,$T())}function fl(e,n){if(!cd&&pc){cd=!0;do for(var r=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t_(o,f))}else f=Pt,f=pi(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$n(o,f)||(r=!0,t_(o,f));o=o.next}while(r);cd=!1}}function XT(){Jy()}function Jy(){pc=ud=!1;var e=0;Qs!==0&&ab()&&(e=Qs);for(var n=ce(),r=null,o=mc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,r===null?mc=h:r.next=h,h===null&&(qa=r)):(r=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}ze!==0&&ze!==5||fl(e),Qs!==0&&(Qs=0)}function Zy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ae(f),T=1<<p,x=h[p];x===-1?((T&r)===0||(T&o)!==0)&&(h[p]=Ph(T,n)):x<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,r=Pt,r=pi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Dt(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$n(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Dt(o),Hi(r)){case 2:case 8:r=bo;break;case 32:r=bs;break;case 268435456:r=su;break;default:r=bs}return o=Wy.bind(null,e),r=ht(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Dt(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(dc()&&e.callbackNode!==r)return null;var o=Pt;return o=pi(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Zy(e,ce()),e.callbackNode!=null&&e.callbackNode===r?Wy.bind(null,e):null)}function t_(e,n){if(dc())return null;Vy(e,n,!0)}function $T(){lb(function(){(Xt&6)!==0?ht(To,XT):Jy()})}function hd(){if(Qs===0){var e=xa;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Qs=e}return Qs}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function n_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function JT(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=e_((h[qe]||null).action),p=o.submitter;p&&(n=(n=p[qe]||null)?e_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ri("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var x=p?n_(h,p):new FormData(h);Df(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=p?n_(h,p):new FormData(h),Df(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var fd=0;fd<Qh.length;fd++){var dd=Qh[fd],ZT=dd.toLowerCase(),WT=dd[0].toUpperCase()+dd.slice(1);si(ZT,"on"+WT)}si(Mp,"onAnimationEnd"),si(Vp,"onAnimationIteration"),si(kp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(pT,"onTransitionRun"),si(gT,"onTransitionStart"),si(yT,"onTransitionCancel"),si(Lp,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function i_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],x=T.instance,z=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=x}else for(p=0;p<o.length;p++){if(T=o[p],x=T.instance,z=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=x}}}}function Lt(e,n){var r=n[oa];r===void 0&&(r=n[oa]=new Set);var o=e+"__bubble";r.has(o)||(s_(n,e,2,!1),r.add(o))}function md(e,n,r){var o=0;n&&(o|=4),s_(r,e,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[gc]){e[gc]=!0,wo.forEach(function(r){r!=="selectionchange"&&(tb.has(r)||md(r,!1,e),md(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gc]||(n[gc]=!0,md("selectionchange",!1,n))}}function s_(e,n,r,o){switch(M_(n)){case 2:var h=Cb;break;case 8:h=Ib;break;default:h=Nd}r=h.bind(null,n,r,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function gd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=vi(T),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Cs(function(){var z=f,G=Ln(r),Y=[];t:{var j=Up.get(e);if(j!==void 0){var q=Ri,lt=e;switch(e){case"keypress":if(Nr(r)===0)break t;case"keydown":case"keyup":q=xu;break;case"focusin":lt="focus",q=Or;break;case"focusout":lt="blur",q=Or;break;case"beforeblur":case"afterblur":q=Or;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case Vp:case kp:q=Eu;break;case Lp:q=b;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ki;break;case"toggle":case"beforetoggle":q=It}var yt=(n&4)!==0,ae=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ti(O,k),Q!=null&&yt.push(ml(O,Q,P))),ae)break;O=O.return}0<yt.length&&(j=new q(j,lt,null,r,G),Y.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Vo&&(lt=r.relatedTarget||r.fromElement)&&(vi(lt)||lt[yi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=z,lt=lt?vi(lt):null,lt!==null&&(ae=c(lt),yt=lt.tag,lt!==ae||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(yt=Po,Q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Ki,Q="onPointerLeave",k="onPointerEnter",O="pointer"),ae=q==null?j:bn(q),P=lt==null?j:bn(lt),j=new yt(Q,O+"leave",q,r,G),j.target=ae,j.relatedTarget=P,Q=null,vi(G)===z&&(yt=new yt(k,O+"enter",lt,r,G),yt.target=P,yt.relatedTarget=ae,Q=yt),ae=Q,q&&lt)e:{for(yt=eb,k=q,O=lt,P=0,Q=k;Q;Q=yt(Q))P++;Q=0;for(var dt=O;dt;dt=yt(dt))Q++;for(;0<P-Q;)k=yt(k),P--;for(;0<Q-P;)O=yt(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){yt=k;break e}k=yt(k),O=yt(O)}yt=null}else yt=null;q!==null&&r_(Y,j,q,yt,!1),lt!==null&&ae!==null&&r_(Y,ae,lt,yt,!0)}}t:{if(j=z?bn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Gt=bp;else if(Ep(j))if(Ap)Gt=fT;else{Gt=cT;var ut=uT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(Gt=bp):Gt=hT;if(Gt&&(Gt=Gt(e,z))){Tp(Y,Gt,r,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ut=z?bn(z):window,e){case"focusin":(Ep(ut)||ut.contentEditable==="true")&&(va=ut,Fh=z,Ho=null);break;case"focusout":Ho=Fh=va=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Dp(Y,r,G);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":Dp(Y,r,G)}var Ot;if(Yt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else _a?Mr(e,r)&&(zt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(zt="onCompositionStart");zt&&(Ii&&r.locale!=="ko"&&(_a||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&_a&&(Ot=Lo()):(wi=G,ko="value"in wi?wi.value:wi.textContent,_a=!0)),ut=yc(z,zt),0<ut.length&&(zt=new Ci(zt,e,null,r,G),Y.push({event:zt,listeners:ut}),Ot?zt.data=Ot:(Ot=ya(r),Ot!==null&&(zt.data=Ot)))),(Ot=Pn?rT(e,r):aT(e,r))&&(zt=yc(z,"onBeforeInput"),0<zt.length&&(ut=new Ci("onBeforeInput","beforeinput",null,r,G),Y.push({event:ut,listeners:zt}),ut.data=Ot)),JT(Y,e,z,r,G)}i_(Y,n)})}function ml(e,n,r){return{instance:e,listener:n,currentTarget:r}}function yc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(e,r),h!=null&&o.unshift(ml(e,h,f)),h=ti(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,x=T.alternate,z=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||z===null||(x=z,h?(z=ti(r,f),z!=null&&p.unshift(ml(r,z,x))):h||(z=ti(r,f),z!=null&&p.push(ml(r,z,x)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(nb,`
`).replace(ib,"")}function o_(e,n){return n=a_(n),a_(e)===n}function re(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,r,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=fa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=fa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yu.get(r)||r,ua(e,r,o))}}function yd(e,n,r,o,h,f){switch(r){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[qe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ua(e,r,o)}}}function Ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,p,r,null)}}h&&re(e,n,"srcSet",r.srcSet,r,null),o&&re(e,n,"src",r.src,r,null);return;case"input":Lt("invalid",e);var T=f=p=h=null,x=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":x=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:re(e,n,o,G,r,null)}}mu(e,f,T,x,z,p,h,!1);return;case"select":Lt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:re(e,n,h,T,r,null)}n=f,r=p,e.multiple=!!o,n!=null?Ss(e,!!o,n,!1):r!=null&&Ss(e,!!o,r,!0);return;case"textarea":Lt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,n,p,T,r,null)}ws(e,o,h,f);return;case"option":for(x in r)r.hasOwnProperty(x)&&(o=r[x],o!=null)&&(x==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":re(e,n,x,o,r,null));return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Lt(dl[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,o,r,null)}return;default:if(ha(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&yd(e,n,G,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&re(e,n,T,o,r,null))}function sb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,x=null,z=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(q)||re(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&re(e,n,j,q,o,Y)}}ca(e,p,T,x,z,G,f,h);return;case"select":q=p=T=j=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(f)||re(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==x&&re(e,n,h,f,o,x)}n=T,r=p,o=q,j!=null?Ss(e,!!r,j,!1):!!o!=!!r&&(n!=null?Ss(e,!!r,n,!0):Ss(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,p,h,o,f)}pu(e,j,q);return;case"option":for(var lt in r)j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:re(e,n,lt,null,o,j));for(x in o)j=o[x],q=r[x],o.hasOwnProperty(x)&&j!==q&&(j!=null||q!=null)&&(x==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":re(e,n,x,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)j=r[yt],r.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&re(e,n,yt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,o,q)}return;default:if(ha(n)){for(var ae in r)j=r[ae],r.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&yd(e,n,ae,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||yd(e,n,G,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&re(e,n,k,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||re(e,n,Y,j,o,q)}function l_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&l_(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],z=x.startTime;if(z>T)break;var G=x.transferSize,Y=x.initiatorType;G&&l_(Y)&&(x=x.responseEnd,p+=G*(x<T?1:(T-z)/(x-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function u_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function ab(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(ub)}:h_;function ub(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function d_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ka(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")pl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,pl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&pl(e.ownerDocument.body);r=h}while(r);Ka(n)}function m_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),la(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function cb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function hb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Gn(e.nextSibling),e===null))return null;return e}function p_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function g_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Gn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function y_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function __(e,n,r){switch(n=_c(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Kn=new Map,v_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=tt.d;tt.d={f:db,r:mb,D:pb,C:gb,L:yb,m:_b,X:Eb,S:vb,M:Tb};function db(){var e=os.f(),n=cc();return e||n}function mb(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):os.r(e)}var Ha=typeof document>"u"?null:document;function E_(e,n,r){var o=Ha;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),v_.has(h)||(v_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Ne(n),o.head.appendChild(n)))}}function pb(e){os.D(e),E_("dns-prefetch",e,null)}function gb(e,n){os.C(e,n),E_("preconnect",e,n)}function yb(e,n,r){os.L(e,n,r);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Fa(e);break;case"script":f=Ga(e)}Kn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Ze(n,"link",e),Ne(n),o.head.appendChild(n)))}}function _b(e,n){os.m(e,n);var r=Ha;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),Ze(o,"link",e),Ne(o),r.head.appendChild(o)}}}function vb(e,n,r){os.S(e,n,r);var o=Ha;if(o&&e){var h=Ei(o).hoistableStyles,f=Fa(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(gl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Kn.get(f))&&Rd(e,r);var x=p=o.createElement("link");Ne(x),Ze(x,"link",e),x._p=new Promise(function(z,G){x.onload=z,x.onerror=G}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Eb(e,n){os.X(e,n);var r=Ha;if(r&&e){var o=Ei(r).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(e=S({src:e,async:!0},n),(n=Kn.get(h))&&xd(e,n),f=r.createElement("script"),Ne(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Tb(e,n){os.M(e,n);var r=Ha;if(r&&e){var o=Ei(r).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&xd(e,n),f=r.createElement("script"),Ne(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T_(e,n,r,o){var h=(h=xt.current)?vc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Fa(r.href),r=Ei(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Fa(r.href);var f=Ei(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(e,r),f||bb(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(r),r=Ei(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Fa(e){return'href="'+hn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function bb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",r),Ne(n),e.head.appendChild(n))}function Ga(e){return'[src="'+hn(e)+'"]'}function yl(e){return"script[async]"+e}function A_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Ze(o,"style",h),Ec(o,r.precedence,e),n.instance=o;case"stylesheet":h=Fa(r.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=b_(r),(h=Kn.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(T,x){p.onload=T,p.onerror=x}),Ze(f,"link",o),n.state.loading|=4,Ec(f,r.precedence,e),n.instance=f;case"script":return f=Ga(r.src),(h=e.querySelector(yl(f)))?(n.instance=h,Ne(h),h):(o=r,(h=Kn.get(f))&&(o=S({},r),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,r.precedence,e));return n.instance}function Ec(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function S_(e,n,r){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(r,o)}else h=Tc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[_i]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function w_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Ab(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fa(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ne(f);return}f=n.ownerDocument||n,o=b_(o),(h=Kn.get(h))&&Rd(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(T,x){p.onload=T,p.onerror=x}),Ze(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=bc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function wb(e,n){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*rb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function Sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(Rb,e),Ac=null,bc.call(e))}function Rb(e,n){if(!(n.state.loading&4)){var r=Ac.get(e);if(r)var o=r.get(null);else{r=new Map,Ac.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:bt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function xb(e,n,r,o,h,f,p,T,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function x_(e,n,r,o,h,f,p,T,x,z,G,Y){return e=new xb(e,n,r,p,x,z,G,Y,T),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},hf(f),e}function C_(e){return e?(e=ba,e):ba}function I_(e,n,r,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ps(e,o,n),r!==null&&(yn(r,e,n),$o(r,e,n))}function N_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Id(e,n){N_(e,n),(e=e.alternate)&&N_(e,n)}function D_(e){if(e.tag===13||e.tag===31){var n=Lr(e,67108864);n!==null&&yn(n,e,67108864),Id(e,67108864)}}function O_(e){if(e.tag===13||e.tag===31){var n=Nn();n=Sr(n);var r=Lr(e,n);r!==null&&yn(r,e,n),Id(e,n)}}var wc=!0;function Cb(e,n,r,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,Nd(e,n,r,o)}finally{tt.p=f,F.T=h}}function Ib(e,n,r,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,Nd(e,n,r,o)}finally{tt.p=f,F.T=h}}function Nd(e,n,r,o){if(wc){var h=Dd(o);if(h===null)gd(e,n,o,Rc,r),V_(e,o);else if(Db(h,e,n,r,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<Nb.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=mi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var x=1<<31-Ae(p);T.entanglements[1]|=x,p&=~x}Mi(f),(Xt&6)===0&&(lc=ce()+500,fl(0))}}break;case 31:case 13:T=Lr(f,2),T!==null&&yn(T,f,2),cc(),Id(f,2)}if(f=Dd(o),f===null&&gd(e,n,o,Rc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,r)}}function Dd(e){return e=Ln(e),Od(e)}var Rc=null;function Od(e){if(Rc=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case To:return 2;case bo:return 8;case bs:case Uh:return 32;case su:return 268435456;default:return 32}default:return 32}}var Md=!1,Xs=null,$s=null,Js=null,vl=new Map,El=new Map,Zs=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&D_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Db(e,n,r,o,h){switch(n){case"focusin":return Xs=Tl(Xs,e,n,r,o,h),!0;case"dragenter":return $s=Tl($s,e,n,r,o,h),!0;case"mouseover":return Js=Tl(Js,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,r,o,h)),!0}return!1}function k_(e){var n=vi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Jn(e.priority,function(){O_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Jn(e.priority,function(){O_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=kn(r),n!==null&&D_(n),e.blockedOn=r,!1;n.shift()}return!0}function L_(e,n,r){xc(e)&&r.delete(n)}function Ob(){Md=!1,Xs!==null&&xc(Xs)&&(Xs=null),$s!==null&&xc($s)&&($s=null),Js!==null&&xc(Js)&&(Js=null),vl.forEach(L_),El.forEach(L_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ob)))}var Ic=null;function U_(e){Ic!==e&&(Ic=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||r)===null)continue;break}var f=kn(r);f!==null&&(e.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ka(e){function n(x){return Cc(x,e)}Xs!==null&&Cc(Xs,e),$s!==null&&Cc($s,e),Js!==null&&Cc(Js,e),vl.forEach(n),El.forEach(n);for(var r=0;r<Zs.length;r++){var o=Zs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)k_(r),r.blockedOn===null&&Zs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[qe]||null;if(typeof f=="function")p||U_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[qe]||null)T=p.formAction;else if(Od(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),U_(r)}}}function P_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}Nc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Nn();I_(r,o,e,n,null,null)},Nc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;I_(e.current,2,null,e,null,null),cc(),n[yi]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Zs.length&&n!==0&&n<Zs[r].priority;r++);Zs.splice(r,0,e),r===0&&k_(e)}};var z_=t.version;if(z_!=="19.2.3")throw Error(a(527,z_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Mb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Xn=Dc.inject(Mb),Qe=Dc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Kg,f=Qg,p=Yg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=x_(e,1,!1,null,null,r,o,null,h,f,p,P_),e[yi]=n.current,pd(e),new Vd(n)},Al.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Kg,p=Qg,T=Yg,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=x_(e,1,!0,n,r??null,o,h,x,f,p,T,P_),n.context=C_(null),r=n.current,o=Nn(),o=Sr(o),h=Us(o),h.callback=null,Ps(r,h,o),r=o,n.current.lanes=r,br(n,r),Mi(n),e[yi]=n.current,pd(e),new Nc(n)},Al.version="19.2.3",Al}var X_;function Hb(){if(X_)return Ud.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=qb(),Ud.exports}var Fb=Hb();const Gb=()=>{};var $_={};const Mv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Kb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(N=64)),a.push(i[E],i[S],i[N],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Mv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Kb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new Qb;const N=c<<2|g>>4;if(a.push(N),y!==64){const H=g<<4&240|y>>2;if(a.push(H),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(s){const t=Mv(s);return Vv.encodeByteArray(t,!0)},Yc=function(s){return Yb(s).replace(/\./g,"")},kv=function(s){try{return Vv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $b=()=>Xb().__FIREBASE_DEFAULTS__,Jb=()=>{if(typeof process>"u"||typeof $_>"u")return;const s=$_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&kv(s[1]);return t&&JSON.parse(t)},yh=()=>{try{return Gb()||$b()||Jb()||Zb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>yh()?.emulatorHosts?.[s],Wb=s=>{const t=Lv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Uv=()=>yh()?.config,Pv=s=>yh()?.[`_${s}`];class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(s){return(await fetch(s,{credentials:"include"})).ok}function eA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Il={};function nA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?s.emulator.push(t):s.prod.push(t);return s}function iA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let J_=!1;function jv(s,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Il[s]===t||Il[s]||J_)return;Il[s]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=nA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{J_=!0,d()},N}function E(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=iA(a),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),it=document.getElementById(nt)||document.createElement("a"),gt=i("preprendIcon"),Ct=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const bt=N.element;g(bt),E(it,nt);const $t=y();_(Ct,gt),bt.append(Ct,Z,it,$t),document.body.appendChild(bt)}c?(Z.innerText="Preview backend disconnected.",Ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function rA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uA(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const dA="FirebaseError";class _s extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=dA,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new _s(l,g,a)}}function mA(s,t){return s.replace(pA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const pA=/\{\$([^}]+)}/g;function gA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function hr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(Z_(c)&&Z_(d)){if(!hr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Kl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yA(s,t){const i=new _A(s,t);return i.subscribe.bind(i)}class _A{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function cn(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $r="[DEFAULT]";class EA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new tA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bA(t))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=$r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$r){return this.instances.has(t)}getOptions(t=$r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=$r){return this.component?this.component.multipleInstances?t:$r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(s){return s===$r?void 0:s}function bA(s){return s.instantiationMode==="EAGER"}class AA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new EA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const SA={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},wA=jt.INFO,RA={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},xA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=RA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=wA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const CA=(s,t)=>t.some(i=>s instanceof i);let W_,t0;function IA(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,rm=new WeakMap,qv=new WeakMap,qd=new WeakMap,Om=new WeakMap;function DA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Om.set(t,s),t}function OA(s){if(rm.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,t)}let am={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return rm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||qv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function MA(s){am=s(am)}function VA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Hd(this),t,...i);return qv.set(a,t.sort?t.sort():[t]),ar(a)}:NA().includes(s)?function(...t){return s.apply(Hd(this),t),ar(Bv.get(this))}:function(...t){return ar(s.apply(Hd(this),t))}}function kA(s){return typeof s=="function"?VA(s):(s instanceof IDBTransaction&&OA(s),CA(s,IA())?new Proxy(s,am):s)}function ar(s){if(s instanceof IDBRequest)return DA(s);if(qd.has(s))return qd.get(s);const t=kA(s);return t!==s&&(qd.set(s,t),Om.set(t,s)),t}const Hd=s=>Om.get(s);function LA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=ar(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ar(d.result),_.oldVersion,_.newVersion,ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const UA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],Fd=new Map;function e0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=PA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||UA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Fd.set(t,c),c}MA(s=>({...s,get:(t,i,a)=>e0(t,i)||s.get(t,i,a),has:(t,i)=>!!e0(t,i)||s.has(t,i)}));class zA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jA(s){return s.getComponent()?.type==="VERSION"}const om="@firebase/app",n0="0.14.7";const fs=new Dm("@firebase/app"),BA="@firebase/app-compat",qA="@firebase/analytics-compat",HA="@firebase/analytics",FA="@firebase/app-check-compat",GA="@firebase/app-check",KA="@firebase/auth",QA="@firebase/auth-compat",YA="@firebase/database",XA="@firebase/data-connect",$A="@firebase/database-compat",JA="@firebase/functions",ZA="@firebase/functions-compat",WA="@firebase/installations",tS="@firebase/installations-compat",eS="@firebase/messaging",nS="@firebase/messaging-compat",iS="@firebase/performance",sS="@firebase/performance-compat",rS="@firebase/remote-config",aS="@firebase/remote-config-compat",oS="@firebase/storage",lS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/ai",hS="@firebase/firestore-compat",fS="firebase",dS="12.8.0";const lm="[DEFAULT]",mS={[om]:"fire-core",[BA]:"fire-core-compat",[HA]:"fire-analytics",[qA]:"fire-analytics-compat",[GA]:"fire-app-check",[FA]:"fire-app-check-compat",[KA]:"fire-auth",[QA]:"fire-auth-compat",[YA]:"fire-rtdb",[XA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[JA]:"fire-fn",[ZA]:"fire-fn-compat",[WA]:"fire-iid",[tS]:"fire-iid-compat",[eS]:"fire-fcm",[nS]:"fire-fcm-compat",[iS]:"fire-perf",[sS]:"fire-perf-compat",[rS]:"fire-rc",[aS]:"fire-rc-compat",[oS]:"fire-gcs",[lS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};const Xc=new Map,pS=new Map,um=new Map;function i0(s,t){try{s.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ro(s){const t=s.name;if(um.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,s);for(const i of Xc.values())i0(i,s);for(const i of pS.values())i0(i,s);return!0}function Mm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Qn(s){return s==null?!1:s.settings!==void 0}const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Gl("app","Firebase",gS);class yS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const po=dS;function Hv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:lm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=Uv()),!i)throw or.create("no-options");const c=Xc.get(l);if(c){if(hr(i,c.options)&&hr(a,c.config))return c;throw or.create("duplicate-app",{appName:l})}const d=new AA(l);for(const _ of um.values())d.addComponent(_);const g=new yS(i,a,d);return Xc.set(l,g),g}function Fv(s=lm){const t=Xc.get(s);if(!t&&s===lm&&Uv())return Hv();if(!t)throw or.create("no-app",{appName:s});return t}function lr(s,t,i){let a=mS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}ro(new Wr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const _S="firebase-heartbeat-database",vS=1,kl="firebase-heartbeat-store";let Gd=null;function Gv(){return Gd||(Gd=LA(_S,vS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function ES(s){try{const i=(await Gv()).transaction(kl),a=await i.objectStore(kl).get(Kv(s));return await i.done,a}catch(t){if(t instanceof _s)fs.warn(t.message);else{const i=or.create("idb-get",{originalErrorMessage:t?.message});fs.warn(i.message)}}}async function s0(s,t){try{const a=(await Gv()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,Kv(s)),await a.done}catch(i){if(i instanceof _s)fs.warn(i.message);else{const a=or.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function Kv(s){return`${s.name}!${s.options.appId}`}const TS=1024,bS=30;class AS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bS){const l=RS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r0(),{heartbeatsToSend:i,unsentEntries:a}=SS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fs.warn(t),""}}}function r0(){return new Date().toISOString().substring(0,10)}function SS(s,t=TS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),a0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),a0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ES(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return s0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return s0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function a0(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function RS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function xS(s){ro(new Wr("platform-logger",t=>new zA(t),"PRIVATE")),ro(new Wr("heartbeat",t=>new AS(t),"PRIVATE")),lr(om,n0,s),lr(om,n0,"esm2020"),lr("fire-js","")}xS("");var CS="firebase",IS="12.8.0";lr(CS,IS,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NS=Qv,Yv=new Gl("auth","Firebase",Qv());const $c=new Dm("@firebase/auth");function DS(s,...t){$c.logLevel<=jt.WARN&&$c.warn(`Auth (${po}): ${s}`,...t)}function Pc(s,...t){$c.logLevel<=jt.ERROR&&$c.error(`Auth (${po}): ${s}`,...t)}function ds(s,...t){throw Vm(s,...t)}function ki(s,...t){return Vm(s,...t)}function Xv(s,t,i){const a={...NS(),[t]:i};return new Gl("auth","Firebase",a).create(t,{appName:s.name})}function hs(s){return Xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Yv.create(s,...t)}function Tt(s,t,...i){if(!s)throw Vm(t,...i)}function us(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Pc(t),new Error(t)}function ms(s,t){s||us(t)}function cm(){return typeof self<"u"&&self.location?.href||""}function OS(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function MS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OS()||oA()||"connection"in navigator)?navigator.onLine:!0}function VS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ms(i>t,"Short delay should be less than long delay!"),this.isMobile=sA()||lA()}get(){return MS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(s,t){ms(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class $v{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],US=new Ql(3e4,6e4);function Yl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function go(s,t,i,a,l={}){return Jv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Kl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return aA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(y.credentials="include"),$v.fetch()(await Zv(s,s.config.apiHost,i,g),y)})}async function Jv(s,t,i){s._canInitEmulator=!1;const a={...kS,...t};try{const l=new PS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Oc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Xv(s,E,y);ds(s,E)}}catch(l){if(l instanceof _s)throw l;ds(s,"network-request-failed",{message:String(l)})}}async function Lm(s,t,i,a,l={}){const c=await go(s,t,i,a,l);return"mfaPendingCredential"in c&&ds(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?km(s.config,l):`${s.config.apiScheme}://${l}`;return LS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class PS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),US.get())})}}function Oc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(s,t,a);return l.customData._tokenResponse=i,l}async function zS(s,t){return go(s,"POST","/v1/accounts:delete",t)}async function Jc(s,t){return go(s,"POST","/v1/accounts:lookup",t)}function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jS(s,t=!1){const i=cn(s),a=await i.getIdToken(t),l=Um(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Kd(l.auth_time)),issuedAtTime:Nl(Kd(l.iat)),expirationTime:Nl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Um(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=kv(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function l0(s){const t=Um(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof _s&&BS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function BS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(s){const t=s.auth,i=await s.getIdToken(),a=await Ll(s,Jc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Wv(l.providerUserInfo):[],d=FS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function HS(s){const t=cn(s);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Wv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GS(s,t){const i=await Jv(s,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Zv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(_.credentials="include"),$v.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KS(s,t){return go(s,"POST","/v2/accounts:revokeToken",Yl(s,t))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=l0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await GS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Wa;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return us("not implemented")}}function tr(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return jS(this,t)}reload(){return HS(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await Ll(this,zS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:H,providerData:Z,stsTokenManager:nt}=i;Tt(S&&nt,t,"internal-error");const it=Wa.fromJSON(this.name,nt);Tt(typeof S=="string",t,"internal-error"),tr(a,t.name),tr(l,t.name),Tt(typeof N=="boolean",t,"internal-error"),Tt(typeof H=="boolean",t,"internal-error"),tr(c,t.name),tr(d,t.name),tr(g,t.name),tr(_,t.name),tr(y,t.name),tr(E,t.name);const gt=new ui({uid:S,auth:t,email:l,emailVerified:N,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:it,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(gt.providerData=Z.map(Ct=>({...Ct}))),_&&(gt._redirectEventId=_),gt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Wv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Wa;g.updateFromIdToken(a);const _=new ui({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const u0=new Map;function cs(s){ms(s instanceof Function,"Expected a class definition");let t=u0.get(s);return t?(ms(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,u0.set(s,t),t)}class t1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}t1.type="NONE";const c0=t1;function zc(s,t,i){return`firebase:${s}:${t}:${i}`}class to{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new to(cs(c0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||cs(c0);const d=zc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const N=await Jc(t,{idToken:E}).catch(()=>{});if(!N)break;S=await ui._fromGetAccountInfoResponse(t,N,E)}else S=ui._fromJSON(t,E);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new to(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new to(c,t,a))}}function h0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(s1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(a1(t))return"Blackberry";if(o1(t))return"Webos";if(n1(t))return"Safari";if((t.includes("chrome/")||i1(t))&&!t.includes("edge/"))return"Chrome";if(r1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function e1(s=on()){return/firefox\//i.test(s)}function n1(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function i1(s=on()){return/crios\//i.test(s)}function s1(s=on()){return/iemobile/i.test(s)}function r1(s=on()){return/android/i.test(s)}function a1(s=on()){return/blackberry/i.test(s)}function o1(s=on()){return/webos/i.test(s)}function Pm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QS(s=on()){return Pm(s)&&!!window.navigator?.standalone}function YS(){return uA()&&document.documentMode===10}function l1(s=on()){return Pm(s)||r1(s)||o1(s)||a1(s)||/windows phone/i.test(s)||s1(s)}function u1(s,t=[]){let i;switch(s){case"Browser":i=h0(on());break;case"Worker":i=`${h0(on())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${a}`}class XS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $S(s,t={}){return go(s,"GET","/v2/passwordPolicy",Yl(s,t))}const JS=6;class ZS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class WS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new XS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),a=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(hs(this));const i=t?cn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $S(this),i=new ZS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await KS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cs(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xl(s){return cn(s)}class f0{constructor(t){this.auth=t,this.observer=null,this.addObserver=yA(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(s){zm=s}function e2(s){return zm.loadJS(s)}function n2(){return zm.gapiScript}function i2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function s2(s,t){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(hr(c,t??{}))return l;ds(l,"already-initialized")}return i.initialize({options:t})}function r2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(cs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function a2(s,t,i){const a=Xl(s);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=c1(t),{host:d,port:g}=o2(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(hr(y,a.config.emulator)&&hr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,mo(d)?(zv(`${c}//${d}${_}`),jv("Auth",!0)):l2()}function c1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function o2(s){const t=c1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:d0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:d0(d)}}}function d0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function l2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class h1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,i){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function eo(s,t){return Lm(s,"POST","/v1/accounts:signInWithIdp",Yl(s,t))}const u2="http://localhost";class ta extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return eo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,eo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,eo(t,i)}buildRequest(){const t={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class f1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends $l{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class nr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends $l{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends $l{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function c2(s,t){return Lm(s,"POST","/v1/accounts:signUp",Yl(s,t))}class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ui._fromIdTokenResponse(t,a,l),d=m0(a);return new ps({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=m0(a);return new ps({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function m0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function h2(s){if(Qn(s.app))return Promise.reject(hs(s));const t=Xl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ps({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await c2(t,{returnSecureToken:!0}),a=await ps._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends _s{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Wc(t,i,a,l)}}function d1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,t,a):c})}async function f2(s,t,i=!1){const a=await Ll(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ps._forOperation(s,"link",a)}async function d2(s,t,i=!1){const{auth:a}=s;if(Qn(a.app))return Promise.reject(hs(a));const l="reauthenticate";try{const c=await Ll(s,d1(a,l,t,s),i);Tt(c.idToken,a,"internal-error");const d=Um(c.idToken);Tt(d,a,"internal-error");const{sub:g}=d;return Tt(s.uid===g,a,"user-mismatch"),ps._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ds(a,"user-mismatch"),c}}async function m2(s,t,i=!1){if(Qn(s.app))return Promise.reject(hs(s));const a="signIn",l=await d1(s,a,t),c=await ps._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function p2(s,t){return Lm(s,"POST","/v1/accounts:signInWithCustomToken",Yl(s,t))}async function g2(s,t){if(Qn(s.app))return Promise.reject(hs(s));const i=Xl(s),a=await p2(i,{token:t,returnSecureToken:!0}),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function y2(s,t,i,a){return cn(s).onIdTokenChanged(t,i,a)}function _2(s,t,i){return cn(s).beforeAuthStateChanged(t,i)}function v2(s,t,i,a){return cn(s).onAuthStateChanged(t,i,a)}const th="__sak";class m1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const E2=1e3,T2=10;class p1 extends m1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,T2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}p1.type="LOCAL";const b2=p1;class g1 extends m1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}g1.type="SESSION";const y1=g1;function A2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new _h(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await A2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function jm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class S2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=jm("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function w2(s){Li().location.href=s}function _1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function R2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x2(){return navigator?.serviceWorker?.controller||null}function C2(){return _1()?self:null}const v1="firebaseLocalStorageDb",I2=1,eh="firebaseLocalStorage",E1="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function N2(){const s=indexedDB.deleteDatabase(v1);return new Jl(s).toPromise()}function fm(){const s=indexedDB.open(v1,I2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:E1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await N2(),t(await fm()))})})}async function p0(s,t,i){const a=vh(s,!0).put({[E1]:t,value:i});return new Jl(a).toPromise()}async function D2(s,t){const i=vh(s,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function g0(s,t){const i=vh(s,!0).delete(t);return new Jl(i).toPromise()}const O2=800,M2=3;class T1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>M2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(C2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||x2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await p0(t,th,"1"),await g0(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>p0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>D2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T1.type="LOCAL";const V2=T1;new Ql(3e4,6e4);function k2(s,t){return t?cs(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Bm extends h1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return eo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function L2(s){return m2(s.auth,new Bm(s),s.bypassAuthState)}function U2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),d2(i,new Bm(s),s.bypassAuthState)}async function P2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),f2(i,new Bm(s),s.bypassAuthState)}class b1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return U2;default:ds(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const z2=new Ql(2e3,1e4);class Za extends b1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,z2.get())};t()}}Za.currentPopupAction=null;const j2="pendingRedirect",jc=new Map;class B2 extends b1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await q2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q2(s,t){const i=G2(t),a=F2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function H2(s,t){jc.set(s._key(),t)}function F2(s){return cs(s._redirectPersistence)}function G2(s){return zc(j2,s.config.apiKey,s.name)}async function K2(s,t,i=!1){if(Qn(s.app))return Promise.reject(hs(s));const a=Xl(s),l=k2(a,t),d=await new B2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Q2=600*1e3;class Y2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!X2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!A1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(t))}saveEventToCache(t){this.cachedEventUids.add(y0(t)),this.lastProcessedEventTime=Date.now()}}function y0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function A1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function X2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(s);default:return!1}}async function $2(s,t={}){return go(s,"GET","/v1/projects",t)}const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function W2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await $2(s);for(const i of t)try{if(tw(i))return}catch{}ds(s,"unauthorized-domain")}function tw(s){const t=cm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Z2.test(i))return!1;if(J2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const ew=new Ql(3e4,6e4);function _0(){const s=Li().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function nw(s){return new Promise((t,i)=>{function a(){_0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_0(),i(ki(s,"network-request-failed"))},timeout:ew.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=i2("iframefcb");return Li()[l]=()=>{gapi.load?a():i(ki(s,"network-request-failed"))},e2(`${n2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function iw(s){return Bc=Bc||nw(s),Bc}const sw=new Ql(5e3,15e3),rw="__/auth/iframe",aw="emulator/auth/iframe",ow={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uw(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?km(t,aw):`https://${s.config.authDomain}/${rw}`,a={apiKey:t.apiKey,appName:s.name,v:po},l=lw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function cw(s){const t=await iw(s),i=Li().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:uw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ow,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(s,"network-request-failed"),g=Li().setTimeout(()=>{c(d)},sw.get());function _(){Li().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const hw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fw=500,dw=600,mw="_blank",pw="http://localhost";class v0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gw(s,t,i,a=fw,l=dw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...hw,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(g=i1(y)?mw:i),e1(y)&&(t=t||pw,_.scrollbars="yes");const E=Object.entries(_).reduce((N,[H,Z])=>`${N}${H}=${Z},`,"");if(QS(y)&&g!=="_self")return yw(t||"",g),new v0(null);const S=window.open(t||"",g,E);Tt(S,s,"popup-blocked");try{S.focus()}catch{}return new v0(S)}function yw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _w="__/auth/handler",vw="emulator/auth/handler",Ew=encodeURIComponent("fac");async function E0(s,t,i,a,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:po,eventId:l};if(t instanceof f1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",gA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(t instanceof $l){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${Ew}=${encodeURIComponent(_)}`:"";return`${Tw(s)}?${Kl(g).slice(1)}${y}`}function Tw({config:s}){return s.emulator?km(s,vw):`https://${s.authDomain}/${_w}`}const Qd="webStorageSupport";class bw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=K2,this._overrideRedirectResult=H2}async _openPopup(t,i,a,l){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E0(t,i,a,cm(),l);return gw(t,c,jm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await E0(t,i,a,cm(),l);return w2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await cw(t),a=new Y2(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=W2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return l1()||n1()||Pm()}}const Aw=bw;var T0="@firebase/auth",b0="1.12.0";class Sw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ww(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rw(s){ro(new Wr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(s)},y=new WS(a,l,c,_);return r2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ro(new Wr("auth-internal",t=>{const i=Xl(t.getProvider("auth").getImmediate());return(a=>new Sw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(T0,b0,ww(s)),lr(T0,b0,"esm2020")}const xw=300,Cw=Pv("authIdTokenMaxAge")||xw;let A0=null;const Iw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Cw)return;const l=i?.token;A0!==l&&(A0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Nw(s=Fv()){const t=Mm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=s2(s,{popupRedirectResolver:Aw,persistence:[V2,b2,y1]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Iw(c.toString());_2(i,d,()=>d(i.currentUser)),y2(i,g=>d(g))}}const l=Lv("auth");return l&&a2(i,`http://${l}`),i}function Dw(){return document.getElementsByTagName("head")?.[0]??document}t2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Dw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rw("Browser");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,S1;(function(){var s;function t(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,L){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],D=I.g[2];let L=I.g[3],R;R=w+(L^C&(D^L))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^L)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~L))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<w;)if(V[D++]=I.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=I[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;V&&L==w||(C[D]=L,V=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return it(y(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return it(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=S;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const R=parseInt(I.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var S=_(0),N=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-it(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(nt(this))return"-"+it(this).toString(I);const w=y(Math.pow(I,6));var C=this;let V="";for(;;){const D=$t(C,w).g;C=gt(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function nt(I){return I.h==-1}s.l=function(I){return I=gt(this,I),nt(I)?-1:Z(I)?0:1};function it(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(N)}s.abs=function(){return nt(this)?it(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(I.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(I,w){return I.add(it(w))}s.j=function(I){if(Z(this)||Z(I))return S;if(nt(this))return nt(I)?it(this).j(it(I)):it(it(this).j(I));if(nt(I))return it(this.j(it(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,Wt=I.i(D)>>>16,le=I.i(D)&65535;C[2*V+2*D]+=R*le,Ct(C,2*V+2*D),C[2*V+2*D+1]+=L*le,Ct(C,2*V+2*D+1),C[2*V+2*D+1]+=R*Wt,Ct(C,2*V+2*D+1),C[2*V+2*D+2]+=L*Wt,Ct(C,2*V+2*D+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Ct(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function bt(I,w){this.g=I,this.h=w}function $t(I,w){if(Z(w))throw Error("division by zero");if(Z(I))return new bt(S,S);if(nt(I))return w=$t(it(I),w),new bt(it(w.g),it(w.h));if(nt(w))return w=$t(I,it(w)),new bt(it(w.g),w.h);if(I.g.length>30){if(nt(I)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,V=w;V.l(I)<=0;)C=me(C),V=me(V);var D=Ut(C,1),L=Ut(V,1);for(V=Ut(V,2),C=Ut(C,2);!Z(V);){var R=L.add(V);R.l(I)<=0&&(D=D.add(C),L=R),V=Ut(V,1),C=Ut(C,1)}return w=gt(I,D.j(w)),new bt(D,w)}for(D=S;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),R=L.j(w);nt(R)||R.l(I)>0;)C-=V,L=y(C),R=L.j(w);Z(L)&&(L=N),D=D.add(L),I=gt(I,R)}return new bt(D,I)}s.B=function(I){return $t(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function me(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ut(I,w){const C=w>>5;w%=32;const V=I.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=w>0?I.i(L+C)>>>w|I.i(L+C+1)<<32-w:I.i(L+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,S1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ur=d}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w1,wl,R1,qc,dm,x1,C1,I1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var W=Array(arguments.length-2),It=2;It<arguments.length;It++)W[It-2]=arguments[It];return m.prototype[U].apply(b,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=U[W]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ct{constructor(){this.h=this.g=null}add(m,v){const b=bt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var bt=new nt(()=>new $t,u=>u.reset());class $t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Ut=!1,I=new Ct,w=()=>{const u=Promise.resolve(void 0);me=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){it(v)}var m=bt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Wt,D),Wt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++F,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Rt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=xt(u,m,b,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(at(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),be={};function ue(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,b,U);return null}return v=_t(v),u&&u[le]?u.J(m,v,g(b)?!!b.capture:!1,U):qi(u,m,v,!1,b,U)}function qi(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const W=g(U)?!!U.capture:!!U;let It=st(u);if(It||(u[Vt]=It=new rt(u)),v=It.add(m,v,b,W,B),v.proxy)return v;if(b=vs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Mn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vs(){function u(v){return m.call(u.src,u.listener,v)}const m=ct;return u}function Es(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Es(u,m[B],v,b,U);else b=g(b)?!!b.capture:!!b,v=_t(v),u&&u[le]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=xt(m,v,b,U),v>-1&&(at(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=st(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,b,U)),(v=u>-1?m[u]:null)&&Ts(v))}function Ts(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[le])Et(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Mn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=st(m))?(Et(v,u),v.h==0&&(v.src=null,m[Vt]=null)):at(u)}}}function Mn(u){return u in be?be[u]:be[u]="on"+u}function ct(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ts(u),u=v.call(b,m)}return u}function st(u){return u=u[Vt],u instanceof rt?u:null}var mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function _t(u){return typeof u=="function"?u:(u[mt]||(u[mt]=function(m){return u.handleEvent(m)}),u[mt])}function $(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S($,V),$.prototype[le]=!0,$.prototype.removeEventListener=function(u,m,v,b){Es(this,u,m,v,b)};function ht(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),et(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=Dt(B,b,!0,m)&&U;if(B=m.g=u,U=Dt(B,b,!0,m)&&U,U=Dt(B,b,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=Dt(B,b,!1,m)&&U}$.prototype.N=function(){if($.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)at(v[b]);delete u.g[m],u.h--}}this.G=null},$.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},$.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Dt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const It=W.listener,Se=W.ha||W.src;W.fa&&Et(u.i,W),U=It.call(Se,b)!==!1&&U}}return U&&!b.defaultPrevented}function ye(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ke(u){u.g=ye(()=>{u.g=null,u.i&&(u.i=!1,Ke(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ce extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(u){V.call(this),this.h=u,this.g={}}S(Er,V);var To=[];function bo(u){Mt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ts(m)},u),u.g={}}Er.prototype.N=function(){Er.Z.N.call(this),bo(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=d.JSON.stringify,Uh=d.JSON.parse,su=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ru(){}function au(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){D.call(this,"d")}S(Qe,D);function Vn(){D.call(this,"c")}S(Vn,D);var Ae={},ou=null;function aa(){return ou=ou||new $}Ae.Ia="serverreachability";function lu(u){D.call(this,Ae.Ia,u)}S(lu,D);function di(u){const m=aa();ht(m,new lu(m))}Ae.STAT_EVENT="statevent";function Tr(u,m){D.call(this,Ae.STAT_EVENT,u),this.stat=m}S(Tr,D);function Ce(u){const m=aa();ht(m,new Tr(m,u))}Ae.Ja="timingevent";function mi(u,m){D.call(this,Ae.Ja,u),this.size=m}S(mi,D);function pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Ph(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var W="",It=B.split("&");for(let Yt=0;Yt<It.length;Yt++){var Se=It[Yt].split("=");if(Se.length>1){const pe=Se[0];Se=Se[1];const Pn=pe.split("_");W=Pn.length>=2&&Pn[1]=="type"?W+(pe+"="+Se+"&"):W+(pe+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function uu(u,m,v,b,U,B,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function gi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(b?" "+b:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return bs(B)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function Sr(){}S(Sr,ru),Sr.prototype.g=function(){return new XMLHttpRequest},So=new Sr;function Hi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Ie={},qe={};function yi(u,m,v){u.M=1,u.A=wr(De(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),_i(u),u.B=De(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Zn,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ce(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(To[0]=U.toString()),U=To);for(let B=0;B<U.length;B++){const W=ue(v,U[B],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),di(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const It=ei(this.g),Se=this.g.ya(),Yt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||It!=4||Se==7||(Se==8||Yt<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Ce(12),bn(this),kn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=fu(this,v),pe==qe){It==4&&(this.m=4,Ce(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Ie){this.m=4,Ce(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,pe,null),Ei(this,pe);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(W),W.P=!0,Ce(11))}}else gi(this.i,this.l,v,null),Ei(this,v);It==4&&bn(this),this.o&&!this.K&&(It==4?Tu(this.j,this):(this.o=!1,_i(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),bn(this),kn(this)}}}catch{}};function jh(u){if(!hu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,U=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?Ie:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}Jn.prototype.cancel=function(){this.K=!0,bn(this)};function _i(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(y(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(di(),Ce(17)),bn(this),this.m=2,kn(this)):la(this,this.T-u)};function kn(u){u.j.I==0||u.K||Tu(u.j,u)}function bn(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ga(v),Ns(v);else break t;Or(v),Ce(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(y(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((u.L||v.g==u)&&ga(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Yt=U[m];const pe=Yt[0];if(!(pe<=v.K))if(v.K=pe,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Pn=Yt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ii=Yt[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ni=Yt[5];ni!=null&&typeof ni=="number"&&ni>0&&(b=1.5*ni,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ii=u.g;if(ii){const Mr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=b.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xo(B,B.h),B.h=null))}if(b.G){const ya=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,te(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var W=u;if(b.na=Su(b,b.L?b.ba:null,b.W),W.L){Co(b.h,W);var It=W,Se=b.O;Se&&(It.H=Se),It.D&&(vi(It),_i(It)),b.g=W}else vu(b);v.i.length>0&&xi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ci(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ci(v,7):Uo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}di(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,No(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,He(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),As(this,m[4]),this.h=Ai(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ca,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Do:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,pu)),u.join("")},An.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const It=U[W++];It=="."?b&&W==U.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&W==U.length&&B.push("")):(B.push(It),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?No(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new An(u)}function He(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof ws?(u.i=m,fa(u.i,u.l)):(v||(m=Rr(m,Ss)),u.i=new ws(m,u.l))}function te(u,m,v){u.i.set(m,v)}function wr(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,mu=/[#\?:]/g,Do=/[#\?]/g,Ss=/[#\?@]/g,pu=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(u,m){fn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){fn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return fn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Mo(u,m){fn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=Rs(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Hi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+Hi(v[B])),u.push(W)}}return this.i=u.join("&")};function yu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(gu(this,b),ha(this,U,v))},u)),u.j=m}function Wn(u,m){const v=new $n;if(d.Image){const b=new Image;b.onload=E(Ln,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Ln,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Ln,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vo(u,m){const v=new $n,b=new AbortController,U=setTimeout(()=>{b.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function xs(){this.g=new su}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Si,ru),Si.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){$.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xr,$),s=xr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ti(this),this.readyState==3&&da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Mt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Un(v),typeof u=="string"?v!=null&&Hi(v):te(u,m,v))}function ie(u){$.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ie,$);var wi=/^https?$/i,ko=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ir(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ir(this,B)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),Fi(u)}function Lo(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ht(this,"complete"),ht(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(ht(u,"readystatechange"),ei(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let W=String(u.D).match(du)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!wi.test(W?W.toLowerCase():"")}v=b}if(v)ht(u,"complete"),ht(u,"success");else{u.o=6;try{var U=ei(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Lo(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ht(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=cu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Rt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Su(this,null,this.W),xi(this)};function Uo(u){if(ma(u),u.I==3){var m=u.V++,v=De(u.J);if(te(v,"SID",u.M),te(v,"RID",m),te(v,"TYPE","terminate"),Dr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=wr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Au(u)}function Ns(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ma(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;me||w(),Ut||(me(),Ut=!0),I.add(m,u),u.D=0}}function pa(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(y(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=De(this.J),te(v,"RID",u),te(v,"CVER",22),this.G&&te(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Hi(Un(B))+"&"+m:this.u&&Cr(v,this.u,B)),xo(this.h,U),this.Ra&&te(v,"TYPE","init"),this.S?(te(v,"$req",m),te(v,"SID","null"),U.U=!0,yi(U,v,null)):yi(U,v,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var v;m?v=m.l:v=u.V++;const b=De(u.J);te(b,"SID",u.M),te(b,"RID",v),te(b,"AID",u.K),Dr(u,b),u.u&&u.o&&Cr(b,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,v),yi(v,b,m)}function Dr(u,m){u.H&&Mt(u.H,function(v,b){te(m,b,v)}),u.l&&Mt({},function(v,b){te(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let It=-1;for(;;){const Se=["count="+v];It==-1?v>0?(It=U[0].g,Se.push("ofs="+It)):It=0:Se.push("ofs="+It);let Yt=!0;for(let pe=0;pe<v;pe++){var B=U[pe].g;const Pn=U[pe].map;if(B-=It,B<0)It=Math.max(0,U[pe].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var W=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ii,ni]of W){let ii=ni;g(ni)&&(ii=bs(ni)),Se.push(B+Ii+"="+encodeURIComponent(ii))}}catch(Ii){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Ii}}catch{b&&b(Pn)}}if(Yt){W=Se.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;me||w(),Ut||(me(),Ut=!0),I.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(y(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Ns(this),Eu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(De(m)),v.u=null,v.R=!0,oa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),Or(this),Ce(19))};function ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){ga(u),zo(u),u.g=null;var b=2}else if(bi(u.h,m))v=m.G,Co(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=aa(),ht(b,new mi(b,v)),xi(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&pa(u,m)||b==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const U=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),wr(b),U?Wn(b.toString(),v):Vo(b.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),Au(u),ma(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var b=v instanceof An?De(v):new An(v);if(b.g!="")m&&(b.g=m+"."+b.g),As(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new An(null);b&&He(B,b),m&&(B.g=m),U&&As(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&te(b,v,m),te(b,"VER",u.ka),Dr(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Si({ab:v})):new ie(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){$.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}S(ln,$),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Uo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=bs(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&xi(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,ln.Z.N.call(this)};function xu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,Qe);function Cu(){Vn.call(this),this.status=1}S(Cu,Vn);function Ki(u){this.g=u}S(Ki,Ru),Ki.prototype.ra=function(){ht(this.g,"a")},Ki.prototype.qa=function(u){ht(this.g,new xu(u))},Ki.prototype.pa=function(u){ht(this.g,new Cu)},Ki.prototype.oa=function(){ht(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,I1=function(){return new Ds},C1=function(){return aa()},x1=Ae,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,qc=Ar,Ao.COMPLETE="complete",R1=Ao,au.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",$.prototype.listen=$.prototype.J,wl=au,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,w1=ie}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let yo="12.8.0";function Ow(s){yo=s}const ea=new Dm("@firebase/firestore");function Qa(){return ea.logLevel}function ot(s,...t){if(ea.logLevel<=jt.DEBUG){const i=t.map(qm);ea.debug(`Firestore (${yo}): ${s}`,...i)}}function gs(s,...t){if(ea.logLevel<=jt.ERROR){const i=t.map(qm);ea.error(`Firestore (${yo}): ${s}`,...i)}}function ao(s,...t){if(ea.logLevel<=jt.WARN){const i=t.map(qm);ea.warn(`Firestore (${yo}): ${s}`,...i)}}function qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,N1(s,a,i)}function N1(s,t,i){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Zt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||N1(t,l,a)}function wt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends _s{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class D1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class Vw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kw{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new D1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class Lw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Uw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Lw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=zw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Bt(s,t){return s<t?-1:s>t?1:0}function mm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Yd(l)===Yd(c)?Bt(l,c):Yd(l)?1:-1}return Bt(s.length,t.length)}const jw=55296,Bw=57343;function Yd(s){const t=s.charCodeAt(0);return t>=jw&&t<=Bw}function oo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const R0="__name__";class Vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Bt(t.length,i.length)}static compareSegments(t,i){const a=Vi.isNumericId(t),l=Vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):mm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class _e extends Vi{construct(t,i,a){return new _e(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Vi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return qw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new tn([R0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(_e.fromString(t))}static fromName(t){return new pt(_e.fromString(t).popFirst(5))}static empty(){return new pt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new _e(t.slice()))}}function Hw(s,t,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Fw(s,t,i,a){if(t===!0&&a===!0)throw new ft(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x0(s){if(!pt.isDocumentKey(s))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Fm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function ci(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(s);throw new ft(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function Zl(s,t){if(!O1(s))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,I0=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*I0);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<C0)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Ue("string",de._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function Gw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new fr(l,pt.empty(),t)}function Kw(s){return new fr(s.readTime,s.key,Ul)}class fr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(At.min(),pt.empty(),Ul)}static max(){return new fr(At.max(),pt.empty(),Ul)}}function Qw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:Bt(s.largestBatchId,t.largestBatchId))}const Yw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function _o(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Yw)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++g,g===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function $w(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;const Gm=-1;function Th(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function Jw(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const M1="";function Zw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=N0(t)),t=Ww(s.get(i),t);return N0(t)}function Ww(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case M1:i+="";break;default:i+=c}}return i}function N0(s){return s+M1+""}function D0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function _r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function V1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vc(this.root,t,this.comparator,!0)}}class Vc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(t){return new O0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class O0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let i=new Be(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k1("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(Zt(!!s,39018),typeof s=="string"){let t=0;const i=tR.exec(s);if(Zt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:xe(s.seconds),nanos:xe(s.nanos)}}function xe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const L1="server_timestamp",U1="__type__",P1="__previous_value__",z1="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[U1]?.stringValue===L1}function bh(s){const t=s.mapValue.fields[P1];return Km(t)?bh(t):t}function Pl(s){const t=dr(s.mapValue.fields[z1].timestampValue);return new de(t.seconds,t.nanos)}class eR{constructor(t,i,a,l,c,d,g,_,y,E,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const ih="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}function nR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(s.options.projectId,t)}const j1="__type__",iR="__max__",kc={mapValue:{}},B1="__vector__",sh="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:rR(s)?9007199254740991:sR(s)?10:11:vt(28295,{value:s})}function ji(s,t){if(s===t)return!0;const i=pr(s);if(i!==pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Pl(s).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),g=dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return mr(l.bytesValue).isEqual(mr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return xe(l.geoPointValue.latitude)===xe(c.geoPointValue.latitude)&&xe(l.geoPointValue.longitude)===xe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xe(l.integerValue)===xe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=xe(l.doubleValue),g=xe(c.doubleValue);return d===g?nh(d)===nh(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(D0(d)!==D0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ji(d[_],g[_])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function jl(s,t){return(s.values||[]).find((i=>ji(i,t)))!==void 0}function lo(s,t){if(s===t)return 0;const i=pr(s),a=pr(t);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=xe(c.integerValue||c.doubleValue),_=xe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return M0(s.timestampValue,t.timestampValue);case 4:return M0(Pl(s),Pl(t));case 5:return mm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=mr(c),_=mr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Bt(g[y],_[y]);if(E!==0)return E}return Bt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Bt(xe(c.latitude),xe(d.latitude));return g!==0?g:Bt(xe(c.longitude),xe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return V0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[sh]?.arrayValue,E=_[sh]?.arrayValue,S=Bt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:V0(y,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const N=mm(_[S],E[S]);if(N!==0)return N;const H=lo(g[_[S]],y[E[S]]);if(H!==0)return H}return Bt(_.length,E.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function M0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const i=dr(s),a=dr(t),l=Bt(i.seconds,a.seconds);return l!==0?l:Bt(i.nanos,a.nanos)}function V0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=lo(i[l],a[l]);if(c)return c}return Bt(i.length,a.length)}function uo(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${pm(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Hc(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(s);return t?16+Hc(t):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return _r(a.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function k0(s){return!!s&&"nullValue"in s}function L0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function sR(s){return(s?.mapValue?.fields||{})[j1]?.stringValue===B1}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Dl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return t}return{...s}}function rR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Dl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){_r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Tn(Dl(this.value))}}function q1(s){const t=[];return _r(s.fields,((i,a)=>{const l=new tn([i]);if(Fc(a)){const c=q1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new On(t)}class an{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new an(t,0,At.min(),At.min(),At.min(),Tn.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,At.min(),At.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,At.min(),At.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function U0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function P0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ji(s.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function aR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class H1{}class je extends H1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new lR(t,i,a):i==="array-contains"?new hR(t,a):i==="in"?new fR(t,a):i==="not-in"?new dR(t,a):i==="array-contains-any"?new mR(t,a):new je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new uR(t,a):new cR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends H1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return F1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F1(s){return s.op==="and"}function G1(s){return oR(s)&&F1(s)}function oR(s){for(const t of s.filters)if(t instanceof Bi)return!1;return!0}function ym(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(G1(s))return s.filters.map((t=>ym(t))).join(",");{const t=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${t})`}}function K1(s,t){return s instanceof je?(function(a,l){return l instanceof je&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(s,t):s instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&K1(d,l.filters[g])),!0):!1})(s,t):void vt(19439)}function Q1(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(s):s instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Q1).join(" ,")+"}"})(s):"Filter"}class lR extends je{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class uR extends je{constructor(t,i){super(t,"in",i),this.keys=Y1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cR extends je{constructor(t,i){super(t,"not-in",i),this.keys=Y1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Y1(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class hR extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Qm(i)&&jl(i.arrayValue,this.value)}}class fR extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class dR extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class mR extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class pR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function z0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new pR(s,t,i,a,l,c,d)}function Ym(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>ym(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>uo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>uo(a))).join(",")),t.Te=i}return t.Te}function Xm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!P0(s.startAt,t.startAt)&&P0(s.endAt,t.endAt)}function _m(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gR(s,t,i,a,l,c,d,g){return new Ah(s,t,i,a,l,c,d,g)}function Sh(s){return new Ah(s)}function j0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yR(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function _R(s){return s.collectionGroup!==null}function Ol(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new ah(tn.keyField(),a))}return t.Ie}function Ui(s){const t=wt(s);return t.Ee||(t.Ee=vR(t,Ol(s))),t.Ee}function vR(s,t){if(s.limitType==="F")return z0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return z0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function vm(s,t,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function wh(s,t){return Xm(Ui(s),Ui(t))&&s.limitType===t.limitType}function X1(s){return`${Ym(Ui(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Q1(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(Ui(s))}; limitType=${s.limitType})`}function Rh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=U0(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,g,_){const y=U0(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Ol(a),l))})(s,t)}function ER(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $1(s){return(t,i)=>{let a=!1;for(const l of Ol(s)){const c=TR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function TR(s,t,i){const a=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?lo(_,y):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return V1(this.inner)}size(){return this.innerSize}}const bR=new ve(pt.comparator);function ys(){return bR}const J1=new ve(pt.comparator);function Rl(...s){let t=J1;for(const i of s)t=t.insert(i.key,i);return t}function Z1(s){let t=J1;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Jr(){return Ml()}function W1(){return Ml()}function Ml(){return new sa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const AR=new ve(pt.comparator),SR=new Be(pt.comparator);function qt(...s){let t=SR;for(const i of s)t=t.add(i);return t}const wR=new Be(Bt);function RR(){return wR}function $m(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function tE(s){return{integerValue:""+s}}function xR(s,t){return Jw(t)?tE(t):$m(s,t)}class xh{constructor(){this._=void 0}}function CR(s,t,i){return s instanceof oh?(function(l,c){const d={fields:{[U1]:{stringValue:L1},[z1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Km(c)&&(c=bh(c)),c&&(d.fields[P1]=c),{mapValue:d}})(i,t):s instanceof co?nE(s,t):s instanceof Bl?iE(s,t):(function(l,c){const d=eE(l,c),g=B0(d)+B0(l.Ae);return gm(d)&&gm(l.Ae)?tE(g):$m(l.serializer,g)})(s,t)}function IR(s,t,i){return s instanceof co?nE(s,t):s instanceof Bl?iE(s,t):i}function eE(s,t){return s instanceof lh?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class oh extends xh{}class co extends xh{constructor(t){super(),this.elements=t}}function nE(s,t){const i=sE(t);for(const a of s.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends xh{constructor(t){super(),this.elements=t}}function iE(s,t){let i=sE(t);for(const a of s.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class lh extends xh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function B0(s){return xe(s.integerValue||s.doubleValue)}function sE(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NR{constructor(t,i){this.field=t,this.transform=i}}function DR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof co&&l instanceof co||a instanceof Bl&&l instanceof Bl?oo(a.elements,l.elements,ji):a instanceof lh&&l instanceof lh?ji(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(s.transform,t.transform)}class OR{constructor(t,i){this.version=t,this.transformResults=i}}class hi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ch{}function rE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Jm(s.key,hi.none()):new Wl(s.key,s.data,hi.none());{const i=s.data,a=Tn.empty();let l=new Be(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new vr(s.key,a,new On(l.toArray()),hi.none())}}function MR(s,t,i){s instanceof Wl?(function(l,c,d){const g=l.value.clone(),_=H0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof vr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=H0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(aE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Vl(s,t,i,a){return s instanceof Wl?(function(c,d,g,_){if(!Gc(c.precondition,d))return g;const y=c.value.clone(),E=F0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof vr?(function(c,d,g,_){if(!Gc(c.precondition,d))return g;const y=F0(c.fieldTransforms,_,d),E=d.data;return E.setAll(aE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,g){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function VR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=eE(a.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function q0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((c,d)=>DR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Wl extends Ch{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends Ch{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function H0(s,t,i){const a=new Map;Zt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,IR(d,g,i[l]))}return a}function F0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,CR(c,d,t))}return a}class Jm extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&MR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Vl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Vl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=W1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=rE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((i,a)=>q0(i,a)))&&oo(this.baseMutations,t.baseMutations,((i,a)=>q0(i,a)))}}class Zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return AR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Zm(t,i,a,l)}}class UR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,Ft;function zR(s){switch(s){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function oE(s){if(s===void 0)return gs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Le.OK:return J.OK;case Le.CANCELLED:return J.CANCELLED;case Le.UNKNOWN:return J.UNKNOWN;case Le.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Le.INTERNAL:return J.INTERNAL;case Le.UNAVAILABLE:return J.UNAVAILABLE;case Le.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Le.NOT_FOUND:return J.NOT_FOUND;case Le.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Le.ABORTED:return J.ABORTED;case Le.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Le.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:s})}}(Ft=Le||(Le={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function jR(){return new TextEncoder}const BR=new ur([4294967295,4294967295],0);function G0(s){const t=jR().encode(s),i=new S1;return i.update(t),new Uint8Array(i.digest())}function K0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ur([i,a],0),new ur([l,c],0)]}class Wm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ur.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ur.fromNumber(a)));return l.compare(BR)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G0(t),[a,l]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Wm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=G0(t),[a,l]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ih(At.min(),l,new ve(Bt),ys(),qt())}}class tu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new tu(a,i,qt(),qt(),qt())}}class Kc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class lE{constructor(t,i){this.targetId=t,this.Ce=i}}class uE{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),a=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Y0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.He=Lc(),this.Je=Lc(),this.Ze=new ve(Bt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(_m(c))if(a===0){const d=new pt(c.path);this.et(i,d,an.newNoDocument(d,At.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=mr(a).toUint8Array()}catch(_){if(_ instanceof k1)return ao("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Wm(d,l,c)}catch(_){return ao(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&_m(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ih(t,i,this.Ze,this.je,a);return this.je=ys(),this.He=Lc(),this.Je=Lc(),this.Ze=new ve(Bt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Q0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(Bt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(Bt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new ve(pt.comparator)}function Y0(){return new ve(pt.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class KR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Em(s,t){return s.useProto3Json||Th(t)?t:{value:t}}function uh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function QR(s,t){return uh(s,t.toTimestamp())}function Pi(s){return Zt(!!s,49232),At.fromTimestamp((function(i){const a=dr(i);return new de(a.seconds,a.nanos)})(s))}function tp(s,t){return Tm(s,t).canonicalString()}function Tm(s,t){const i=(function(l){return new _e(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function hE(s){const t=_e.fromString(s);return Zt(gE(t),10190,{key:t.toString()}),t}function bm(s,t){return tp(s.databaseId,t.path)}function Xd(s,t){const i=hE(t);if(i.get(1)!==s.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(dE(i))}function fE(s,t){return tp(s.databaseId,t)}function YR(s){const t=hE(s);return t.length===4?_e.emptyPath():dE(t)}function Am(s){return new _e(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dE(s){return Zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X0(s,t,i){return{name:bm(s,t),fields:i.value.mapValue.fields}}function XR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Zt(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Zt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:oE(y.code);return new ft(E,y.message||"")})(d);i=new uE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(s,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):At.min(),g=new Tn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Xd(s,a.document),c=a.readTime?Pi(a.readTime):At.min(),d=an.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Xd(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new PR(l,c),g=a.targetId;i=new lE(g,d)}}return i}function $R(s,t){let i;if(t instanceof Wl)i={update:X0(s,t.key,t.value)};else if(t instanceof Jm)i={delete:bm(s,t.key)};else if(t instanceof vr)i={update:X0(s,t.key,t.data),updateMask:rx(t.fieldMask)};else{if(!(t instanceof kR))return vt(16599,{dt:t.type});i={verify:bm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:QR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function JR(s,t){return s&&s.length>0?(Zt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(At.min())&&(d=Pi(c)),new OR(d,l.transformResults||[])})(i,t)))):[]}function ZR(s,t){return{documents:[fE(s,t.path)]}}function WR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fE(s,l);const c=(function(y){if(y.length!==0)return pE(Bi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(N){return{field:Xa(N.field),direction:nx(N.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Em(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function tx(s){let t=YR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const N=mE(S);return N instanceof Bi&&G1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(Z){return new ah($a(Z.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,Th(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,H=S.values||[];return new rh(H,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const N=!S.before,H=S.values||[];return new rh(H,N)})(i.endAt)),gR(t,l,d,c,g,"F",_,y)}function ex(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function mE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>mE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function nx(s){return HR[s]}function ix(s){return FR[s]}function sx(s){return GR[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return tn.fromServerFormat(s.fieldPath)}function pE(s){return s instanceof je?(function(i){if(i.op==="=="){if(L0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(k0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(k0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:ix(i.op),value:i.value}}})(s):s instanceof Bi?(function(i){const a=i.getFilters().map((l=>pE(l)));return a.length===1?a[0]:{compositeFilter:{op:sx(i.op),filters:a}}})(s):vt(54877,{filter:s})}function rx(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function yE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(t,i,a,l,c=At.min(),d=At.min(),g=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ax{constructor(t){this.yt=t}}function ox(s){const t=tx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(t,t.limit,"L"):t}class lx{constructor(){this.Sn=new ux}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(fr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class ux{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Be(_e.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Be(_e.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(_E,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class ho{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ho(0)}static ar(){return new ho(-1)}}const J0="LruGarbageCollector",cx=1048576;function Z0([s,t],[i,a]){const l=Bt(s,i);return l===0?Bt(t,a):l}class hx{constructor(t){this.Pr=t,this.buffer=new Be(Z0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(J0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?ot(J0,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Ar(3e5)}))}}class dx{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Eh.ce);const a=new hx(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Qa()<=jt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function mx(s,t){return new dx(s,t)}class px{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class yx{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Vl(a.mutation,l,On.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,qt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=qt()){const l=Jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Rl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,qt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ys();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((_,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof vr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Vl(E.mutation,y,E.mutation.getFieldMask(),de.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new gx(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ml();let l=new ve(((d,g)=>d-g)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||On.empty();E=g.applyToLocalView(y,E),a.set(_,E);const S=(l.get(g.batchId)||qt()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,S=W1();E.forEach((N=>{if(!c.has(N)){const H=rE(i.get(N),a.get(N));H!==null&&S.set(N,H),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return yR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):_R(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Jr());let g=Ul,_=c;return d.next((y=>X.forEach(y,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((N=>{_=_.insert(E,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,qt()))).next((E=>({batchId:g,changes:Z1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(S,N){return new Ah(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((E=>{E.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let g=Rl();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Vl(E.mutation,y,On.empty(),de.now()),Rh(i,y)&&(g=g.insert(_,y))})),g}))}}class _x{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:ox(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),X.resolve()}}class vx{constructor(){this.overlays=new ve(pt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Jr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Jr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=Jr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new UR(i,a));let c=this.Lr.get(i);c===void 0&&(c=qt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Ex{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class ep{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ge(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new pt(new _e([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new pt(new _e([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=qt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return pt.comparator(t.key,i.key)||Bt(t.Hr,i.Hr)}static Ur(t,i){return Bt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}class Tx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(Bt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new pt(c),0);let g=new Be(Bt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bx{constructor(t){this.ti=t,this.docs=(function(){return new ve(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=ys();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ys();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Qw(Kw(E),a)<=0||(l.has(E.key)||Rh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Ax(this)}getSize(t){return X.resolve(this.size)}}class Ax extends px{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Sx{constructor(t){this.persistence=t,this.ri=new sa((i=>Ym(i)),Xm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new ep,this.targetCount=0,this.oi=ho._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ho(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class vE{constructor(t,i){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new Ex,this.referenceDelegate=t(this),this.li=new Sx(this),this.indexManager=new lx,this.remoteDocumentCache=(function(l){return new bx(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ax(i),this.Pi=new _x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new vx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Tx(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new wx(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class wx extends Xw{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.Ri=new ep,this.Ai=null}static Vi(t){return new np(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=pt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.fi=new sa((a=>Zw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=mx(this,i)}static Vi(t,i){return new ch(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ip{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ip(t,i.fromCache,a,l)}}class Rx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cA()?8:$w(on())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Rx;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Qa()<=jt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Qa()<=jt.DEBUG&&ot("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Qa()<=jt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):X.resolve())}gs(t,i){if(j0(i))return X.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=vm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=qt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,vm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return j0(i)||l.isEqual(At.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Qa()<=jt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.Ds(t,d,i,Gw(l,Ul)).next((g=>g)))}))}bs(t,i){let a=new Be($1(t));return i.forEach(((l,c)=>{Rh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Qa()<=jt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.fs.getDocumentsMatchingQuery(t,i,fr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const sp="LocalStore",Cx=3e8;class Ix{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ve(Bt),this.Fs=new sa((c=>Ym(c)),Xm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Nx(s,t,i,a){return new Ix(s,t,i,a)}async function EE(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=qt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Dx(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const S=y.batch,N=S.keys();let H=X.resolve();return N.forEach((Z=>{H=H.next((()=>E.getEntry(_,Z))).next((nt=>{const it=y.docVersions.get(Z);Zt(it!==null,48541),nt.version.compareTo(it)<0&&(S.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),E.addEntry(nt)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=qt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TE(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function Ox(s,t){const i=wt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((E,S)=>{const N=l.get(S);if(!N)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,S))));let H=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(en.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),l=l.insert(S,H),(function(nt,it,gt){return nt.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Cx?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(N,H,E)&&g.push(i.li.updateTargetData(c,H))}));let _=ys(),y=qt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Mx(c,d,t.documentUpdates).next((E=>{_=E.Bs,y=E.Ls}))),!a.isEqual(At.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function Mx(s,t,i){let a=qt(),l=qt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ys();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):ot(sp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function Vx(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function kx(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new rr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function Sm(s,t,i){const a=wt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;ot(sp,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function W0(s,t,i){const a=wt(s);let l=At.min(),c=qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const S=wt(_),N=S.Fs.get(E);return N!==void 0?X.resolve(S.vs.get(N)):S.li.getTargetData(y,E)})(a,d,Ui(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:qt()))).next((g=>(Lx(a,ER(t),g),{documents:g,ks:c})))))}function Lx(s,t,i){let a=s.Ms.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class tv{constructor(){this.activeTargetIds=RR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ux{constructor(){this.vo=new tv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new tv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Px{Mo(t){}shutdown(){}}const ev="ConnectivityMonitor";class nv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(ev,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function wm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const $d="RestConnection",zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jx{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=wm(),g=this.Qo(t,i.toUriEncodedString());ot($d,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),E=mo(y);return this.zo(t,g,_,a,E).then((S=>(ot($d,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ao($d,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=zx[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Bx{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",Sl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class no extends jx{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!no.c_){const t=C1();Sl(t,x1.STAT_EVENT,(i=>{i.stat===dm.PROXY?ot(sn,"STAT_EVENT: detected buffering proxy"):i.stat===dm.NOPROXY&&ot(sn,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(t,i,a,l,c){const d=wm();return new Promise(((g,_)=>{const y=new w1;y.setWithCredentials(!0),y.listenOnce(R1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qc.NO_ERROR:const S=y.getResponseJson();ot(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case qc.TIMEOUT:ot(sn,`RPC '${t}' ${d} timed out`),_(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const N=y.getStatus();if(ot(sn,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const nt=(function(gt){const Ct=gt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ct)>=0?Ct:J.UNKNOWN})(Z.status);_(new ft(nt,Z.message))}else _(new ft(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ft(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(sn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ot(sn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=wm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ot(sn,`Creating RPC '${t}' stream ${l}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let S=!1,N=!1;const H=new Bx({Ho:Z=>{N?ot(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(S||(ot(sn,`Opening RPC '${t}' stream ${l} transport.`),E.open(),S=!0),ot(sn,`RPC '${t}' stream ${l} sending:`,Z),E.send(Z))},Jo:()=>E.close()});return Sl(E,wl.EventType.OPEN,(()=>{N||(ot(sn,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),Sl(E,wl.EventType.CLOSE,(()=>{N||(N=!0,ot(sn,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(E))})),Sl(E,wl.EventType.ERROR,(Z=>{N||(N=!0,ao(sn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),H.o_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),Sl(E,wl.EventType.MESSAGE,(Z=>{if(!N){const nt=Z.data[0];Zt(!!nt,16349);const it=nt,gt=it?.error||it[0]?.error;if(gt){ot(sn,`RPC '${t}' stream ${l} received error:`,gt);const Ct=gt.status;let bt=(function(Ut){const I=Le[Ut];if(I!==void 0)return oE(I)})(Ct),$t=gt.message;bt===void 0&&(bt=J.INTERNAL,$t="Unknown error status: "+Ct+" with message "+gt.message),N=!0,H.o_(new ft(bt,$t)),E.close()}else ot(sn,`RPC '${t}' stream ${l} received:`,nt),H.__(nt)}})),no.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return I1()}}function qx(s){return new no(s)}function Jd(){return typeof document<"u"?document:null}function Nh(s){return new KR(s,!0)}no.c_=!1;class bE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iv="PersistentStream";class AE{constructor(t,i,a,l,c,d,g,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ft(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hx extends AE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=XR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Pi(d.readTime):At.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=_m(_)?{documents:ZR(c,_)}:{query:WR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=cE(c,d.resumeToken);const y=Em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=uh(c,d.snapshotVersion.toTimestamp());const y=Em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=ex(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=Am(this.serializer),i.removeTarget=t,this.K_(i)}}class Fx extends AE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=JR(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>$R(this.serializer,a)))};this.K_(i)}}class Gx{}class Kx extends Gx{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Tm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,Tm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Qx(s,t,i,a){return new Kx(s,t,i,a)}class Yx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class Xx{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(ot(na,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await eu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Va=new Yx(a,l)}}async function Dh(s){if(ra(s))for(const t of s.Ra)await t(!0)}async function eu(s){for(const t of s.Ra)await t(!1)}function SE(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),lp(i)?op(i):Eo(i).O_()&&ap(i,t))}function rp(s,t){const i=wt(s),a=Eo(i);i.Ia.delete(t),a.O_()&&wE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Va.set("Unknown"))}function ap(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Eo(s).Z_(t)}function wE(s,t){s.da.$e(t),Eo(s).X_(t)}function op(s){s.da=new qR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Va.ua()}function lp(s){return ra(s)&&!Eo(s).x_()&&s.Ia.size>0}function ra(s){return wt(s).Ea.size===0}function RE(s){s.da=void 0}async function $x(s){s.Va.set("Online")}async function Jx(s){s.Ia.forEach(((t,i)=>{ap(s,t)}))}async function Zx(s,t){RE(s),lp(s)?(s.Va.ha(t),op(s)):s.Va.set("Unknown")}async function Wx(s,t,i){if(s.Va.set("Online"),t instanceof uE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){ot(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await hh(s,a)}else if(t instanceof Kc?s.da.Xe(t):t instanceof lE?s.da.st(t):s.da.tt(t),!i.isEqual(At.min()))try{const a=await TE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),wE(c,_);const S=new rr(E.target,_,y,E.sequenceNumber);ap(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ot(na,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,t,i){if(!vo(t))throw t;s.Ea.add(1),await eu(s),s.Va.set("Offline"),i||(i=()=>TE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(na,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function xE(s,t){return t().catch((i=>hh(s,i,t)))}async function Oh(s){const t=wt(s),i=gr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gm;for(;tC(t);)try{const l=await Vx(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,eC(t,l)}catch(l){await hh(t,l)}CE(t)&&IE(t)}function tC(s){return ra(s)&&s.Ta.length<10}function eC(s,t){s.Ta.push(t);const i=gr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function CE(s){return ra(s)&&!gr(s).x_()&&s.Ta.length>0}function IE(s){gr(s).start()}async function nC(s){gr(s).ra()}async function iC(s){const t=gr(s);for(const i of s.Ta)t.ea(i.mutations)}async function sC(s,t,i){const a=s.Ta.shift(),l=Zm.from(a,t,i);await xE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Oh(s)}async function rC(s,t){t&&gr(s).Y_&&await(async function(a,l){if((function(d){return zR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();gr(a).B_(),await xE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(a)}})(s,t),CE(s)&&IE(s)}async function sv(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),ot(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await eu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function aC(s,t){const i=wt(s);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await eu(i),i.Va.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,a,l){const c=wt(i);return c.sa(),new Hx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:$x.bind(null,s),Yo:Jx.bind(null,s),t_:Zx.bind(null,s),J_:Wx.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),lp(s)?op(s):s.Va.set("Unknown")):(await s.ma.stop(),RE(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,a,l){const c=wt(i);return c.sa(),new Fx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nC.bind(null,s),t_:rC.bind(null,s),ta:iC.bind(null,s),na:sC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class up{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new up(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(s,t){if(gs("AsyncQueue",`${t}: ${s}`),vo(s))return new ft(J.UNAVAILABLE,`${t}: ${s}`);throw s}class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new io;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class rv{constructor(){this.ga=new ve(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class fo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fo(t,i,io.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class oC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class lC{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=av(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function av(){return new sa((s=>X1(s)),wh)}async function NE(s,t){const i=wt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new oC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=cp(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&hp(i)}async function DE(s,t){const i=wt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function uC(s,t){const i=wt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&hp(i)}function cC(s,t,i){const a=wt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function hp(s){s.Ca.forEach((t=>{t.next()}))}var Rm,ov;(ov=Rm||(Rm={})).Ma="default",ov.Cache="cache";class OE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new fo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class ME{constructor(t){this.key=t}}class VE{constructor(t){this.key=t}}class hC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.eu=$1(t),this.tu=new io(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new rv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const N=l.get(E),H=Rh(this.query,S)?S:null,Z=!!N&&this.mutatedKeys.has(N.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let it=!1;N&&H?N.data.isEqual(H.data)?Z!==nt&&(a.track({type:3,doc:H}),it=!0):this.su(N,H)||(a.track({type:2,doc:H}),it=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!N&&H?(a.track({type:0,doc:H}),it=!0):N&&!H&&(a.track({type:1,doc:N}),it=!0,(_||y)&&(g=!0)),it&&(H?(d=d.add(H),c=nt?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,S)=>(function(H,Z){const nt=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:it})}};return nt(H)-nt(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new fo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new VE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new ME(a))})),i}cu(t){this.Za=t.ks,this.Ya=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fp="SyncEngine";class fC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class dC{constructor(t){this.key=t,this.hu=!1}}class mC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((g=>X1(g)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ve(pt.comparator),this.Au=new Map,this.Vu=new ep,this.du={},this.mu=new Map,this.fu=ho.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pC(s,t,i=!0){const a=jE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kE(a,t,i,!0),l}async function gC(s,t){const i=jE(s);await kE(i,t,!0,!1)}async function kE(s,t,i,a){const l=await kx(s.localStore,Ui(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await yC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&SE(s.remoteStore,l),g}async function yC(s,t,i,a,l){s.pu=(S,N,H)=>(async function(nt,it,gt,Ct){let bt=it.view.ru(gt);bt.Ss&&(bt=await W0(nt.localStore,it.query,!1).then((({documents:I})=>it.view.ru(I,bt))));const $t=Ct&&Ct.targetChanges.get(it.targetId),me=Ct&&Ct.targetMismatches.get(it.targetId)!=null,Ut=it.view.applyChanges(bt,nt.isPrimaryClient,$t,me);return uv(nt,it.targetId,Ut.au),Ut.snapshot})(s,S,N,H);const c=await W0(s.localStore,t,!0),d=new hC(t,c.ks),g=d.ru(c.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);uv(s,i,y.au);const E=new fC(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function _C(s,t,i){const a=wt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!wh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&rp(a.remoteStore,l.targetId),xm(a,l.targetId)})).catch(_o)):(xm(a,l.targetId),await Sm(a.localStore,l.targetId,!0))}async function vC(s,t){const i=wt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rp(i.remoteStore,a.targetId))}async function EC(s,t,i){const a=xC(s);try{const l=await(function(d,g){const _=wt(d),y=de.now(),E=g.reduce(((H,Z)=>H.add(Z.key)),qt());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=ys(),nt=qt();return _.xs.getEntries(H,E).next((it=>{Z=it,Z.forEach(((gt,Ct)=>{Ct.isValidDocument()||(nt=nt.add(gt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,Z))).next((it=>{S=it;const gt=[];for(const Ct of g){const bt=VR(Ct,S.get(Ct.key).overlayedDocument);bt!=null&&gt.push(new vr(Ct.key,bt,q1(bt.value.mapValue),hi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,gt,g)})).next((it=>{N=it;const gt=it.applyToLocalDocumentSet(S,nt);return _.documentOverlayCache.saveOverlays(H,it.batchId,gt)}))})).then((()=>({batchId:N.batchId,changes:Z1(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new ve(Bt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await nu(a,l.changes),await Oh(a.remoteStore)}catch(l){const c=cp(l,"Failed to persist write");i.reject(c)}}async function LE(s,t){const i=wt(s);try{const a=await Ox(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await nu(i,a,t)}catch(a){await _o(a)}}function lv(s,t,i){const a=wt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=wt(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,S)=>{for(const N of S.ba)N.va(g)&&(y=!0)})),y&&hp(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function TC(s,t,i){const a=wt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(pt.comparator);d=d.insert(c,an.newNoDocument(c,At.min()));const g=qt().add(c),_=new Ih(At.min(),new Map,new ve(Bt),d,g);await LE(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),dp(a)}else await Sm(a.localStore,t,!1).then((()=>xm(a,t,i))).catch(_o)}async function bC(s,t){const i=wt(s),a=t.batch.batchId;try{const l=await Dx(i.localStore,t);PE(i,a,null),UE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await _o(l)}}async function AC(s,t,i){const a=wt(s);try{const l=await(function(d,g){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Zt(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);PE(a,t,i),UE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await nu(a,l)}catch(l){await _o(l)}}function UE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function PE(s,t,i){const a=wt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function xm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||zE(s,a)}))}function zE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(rp(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),dp(s))}function uv(s,t,i){for(const a of i)a instanceof ME?(s.Vu.addReference(a.key,t),SC(s,a)):a instanceof VE?(ot(fp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||zE(s,a.key)):vt(19791,{wu:a})}function SC(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(fp,"New document in limbo: "+i),s.Eu.add(a),dp(s))}function dp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(_e.fromString(t)),a=s.fu.next();s.Au.set(a,new dC(i)),s.Ru=s.Ru.insert(i,a),SE(s.remoteStore,new rr(Ui(Sh(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function nu(s,t,i){const a=wt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=ip.Es(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const E=wt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(N=>X.forEach(N.Ts,(H=>E.persistence.referenceDelegate.addReference(S,N.targetId,H))).next((()=>X.forEach(N.Is,(H=>E.persistence.referenceDelegate.removeReference(S,N.targetId,H)))))))))}catch(S){if(!vo(S))throw S;ot(sp,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const H=E.vs.get(N),Z=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(Z);E.vs=E.vs.insert(N,nt)}}})(a.localStore,c))}async function wC(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){ot(fp,"User change. New user:",t.toKey());const a=await EE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ft(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ns)}}function RC(s,t){const i=wt(s),a=i.Au.get(t);if(a&&a.hu)return qt().add(a.key);{let l=qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function jE(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=LE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TC.bind(null,t),t.Pu.J_=uC.bind(null,t.eventManager),t.Pu.yu=cC.bind(null,t.eventManager),t}function xC(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Nx(this.persistence,new xx,t.initialUser,this.serializer)}Cu(t){return new vE(np.Vi,this.serializer)}Du(t){return new Ux}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class CC extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new vE((a=>ch.Vi(a,i)),this.serializer)}}class Cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await aC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new lC})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),a=qx(t.databaseInfo);return Qx(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new Xx(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new Px})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,E){const S=new mC(l,c,d,g,_,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);ot(na,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class BE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const yr="FirestoreClient";class IC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=cp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Zd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await EE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function cv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await NC(s);ot(yr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>sv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>sv(t.remoteStore,l))),s._onlineComponents=t}async function NC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(yr,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new fh)}}else ot(yr,"Using default OfflineComponentProvider"),await Zd(s,new CC(void 0));return s._offlineComponents}async function qE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(yr,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(ot(yr,"Using default OnlineComponentProvider"),await cv(s,new Cm))),s._onlineComponents}function DC(s){return qE(s).then((t=>t.syncEngine))}async function Im(s){const t=await qE(s),i=t.eventManager;return i.onListen=pC.bind(null,t.syncEngine),i.onUnlisten=_C.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vC.bind(null,t.syncEngine),i}function OC(s,t,i,a){const l=new BE(a),c=new OE(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>NE(await Im(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>DE(await Im(s),c)))}}function MC(s,t,i={}){const a=new cr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const E=new BE({next:N=>{E.Nu(),d.enqueueAndForget((()=>DE(c,S)));const H=N.docs.has(g);!H&&N.fromCache?y.reject(new ft(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&_&&_.source==="server"?y.reject(new ft(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new OE(Sh(g.path),E,{includeMetadataChanges:!0,Ka:!0});return NE(c,S)})(await Im(s),s.asyncQueue,t,i,a))),a.promise}function VC(s,t){const i=new cr;return s.asyncQueue.enqueueAndForget((async()=>EC(await DC(s),t,i))),i.promise}function HE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const kC="ComponentProvider",hv=new Map;function LC(s,t,i,a,l){return new eR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,HE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const FE="firestore.googleapis.com",fv=!0;class dv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=fv}else this.host=t.host,this.ssl=t.ssl??fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cx)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Fw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mp{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Mw;switch(a.type){case"firstParty":return new Uw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=hv.get(i);a&&(ot(kC,"Removing Datastore"),hv.delete(i),a.terminate())})(this),Promise.resolve()}}function UC(s,t,i,a={}){s=ci(s,mp);const l=mo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(zv(`https://${g}`),jv("Firestore",!0)),c.host!==FE&&c.host!==g&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!hr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rn.MOCK_USER;else{y=eA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(S)}s._authCredentials=new Vw(new D1(y,E))}}class Mh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Mh(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Zl(i,Pe._jsonSchema))return new Pe(t,a||null,new pt(_e.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ue("string",Pe._jsonSchemaVersion),referencePath:Ue("string")};class ql extends Mh{constructor(t,i,a){super(t,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new pt(t))}withConverter(t){return new ql(this.firestore,t,this._path)}}function _n(s,t,...i){if(s=cn(s),arguments.length===1&&(t=Hm.newId()),Hw("doc","path",t),s instanceof mp){const a=_e.fromString(t,...i);return x0(a),new Pe(s,null,new pt(a))}{if(!(s instanceof Pe||s instanceof ql))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_e.fromString(t,...i));return x0(a),new Pe(s.firestore,s instanceof ql?s.converter:null,new pt(a))}}const mv="AsyncQueue";class pv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&ot(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;ot(mv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=up.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ia extends mp{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new pv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pv(t),this._firestoreClient=void 0,await t}}}function PC(s,t){const i=typeof s=="object"?s:Fv(),a=typeof s=="string"?s:ih,l=Mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Wb("firestore");c&&UC(l,...c)}return l}function pp(s){if(s._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zC(s),s._firestoreClient}function zC(s){const t=s._freezeSettings(),i=LC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new IC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(en.fromBase64String(t))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Yn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ue("string",Yn._jsonSchemaVersion),bytes:Ue("string")};class gp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vh{constructor(t){this._methodName=t}}class zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ue("string",zi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class fi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new fi(t.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ue("string",fi._jsonSchemaVersion),vectorValues:Ue("object")};const jC=/^__.*__$/;class BC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(t,this.data,i,this.fieldTransforms)}}class GE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new vr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function KE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class kh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new kh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(KE(this.dataSource)&&jC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class qC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(t)}createContext(t,i,a,l=!1){return new kh({dataSource:t,methodName:i,targetDoc:a,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QE(s){const t=s._freezeSettings(),i=Nh(s._databaseId);return new qC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function HC(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);_p("Data must be an object, but it was:",d,a);const g=YE(a,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const N=Hl(t,S,i);if(!d.contains(N))throw new ft(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);JE(E,N)||E.push(N)}_=new On(E),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new BC(new Tn(g),_,y)}class Lh extends Vh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lh}}function FC(s,t,i){return new kh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class yp extends Vh{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=FC(this,t,!0),a=this.Ac.map((c=>iu(c,i))),l=new co(a);return new NR(t.path,l)}isEqual(t){return t instanceof yp&&hr(this.Ac,t.Ac)}}function GC(s,t,i,a){const l=s.createContext(1,t,i);_p("Data must be an object, but it was:",l,a);const c=[],d=Tn.empty();_r(a,((_,y)=>{const E=$E(t,_,i);y=cn(y);const S=l.childContextForFieldPath(E);if(y instanceof Lh)c.push(E);else{const N=iu(y,S);N!=null&&(c.push(E),d.set(E,N))}}));const g=new On(c);return new GE(d,g,l.fieldTransforms)}function KC(s,t,i,a,l,c){const d=s.createContext(1,t,i),g=[Hl(t,a,i)],_=[l];if(c.length%2!=0)throw new ft(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Hl(t,c[N])),_.push(c[N+1]);const y=[],E=Tn.empty();for(let N=g.length-1;N>=0;--N)if(!JE(y,g[N])){const H=g[N];let Z=_[N];Z=cn(Z);const nt=d.childContextForFieldPath(H);if(Z instanceof Lh)y.push(H);else{const it=iu(Z,nt);it!=null&&(y.push(H),E.set(H,it))}}const S=new On(y);return new GE(E,S,d.fieldTransforms)}function iu(s,t){if(XE(s=cn(s)))return _p("Unsupported field value:",t,s),YE(s,t);if(s instanceof Vh)return(function(a,l){if(!KE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=iu(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yn)return{bytesValue:cE(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof fi)return(function(d,g){const _=d instanceof fi?d.toArray():d;return{mapValue:{fields:{[j1]:{stringValue:B1},[sh]:{arrayValue:{values:_.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return $m(g.serializer,E)}))}}}}}})(a,l);if(yE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Fm(a)}`)})(s,t)}function YE(s,t){const i={};return V1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(s,((a,l)=>{const c=iu(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof de||s instanceof zi||s instanceof Yn||s instanceof Pe||s instanceof Vh||s instanceof fi||yE(s))}function _p(s,t,i){if(!XE(i)||!O1(i)){const a=Fm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Hl(s,t,i){if((t=cn(t))instanceof gp)return t._internalPath;if(typeof t=="string")return $E(s,t);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const QC=new RegExp("[~\\*/\\[\\]]");function $E(s,t,i){if(t.search(QC)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gp(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ft(J.INVALID_ARGUMENT,g+s+_)}function JE(s,t){return s.some((i=>i.isEqual(t)))}class YC{convertValue(t,i="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return _r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>xe(a.doubleValue)));return new fi(i)}convertGeoPoint(t){return new zi(xe(t.latitude),xe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=bh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=dr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=_e.fromString(t);Zt(gE(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ZE extends YC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function Xr(...s){return new yp("arrayUnion",s)}const yv="@firebase/firestore",_v="4.10.0";function vv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class WE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Hl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XC extends WE{data(){return super.data()}}function $C(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function JC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends WE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Hl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Ue("string",Zr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Qc extends Zr{data(t={}){return super.data(t)}}class so{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:ZC(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=so._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ue("string",so._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function WC(s){s=ci(s,Pe);const t=ci(s.firestore,ia),i=pp(t);return MC(i,s._key).then((a=>tT(t,s,a)))}function tI(s,t,i){s=ci(s,Pe);const a=ci(s.firestore,ia),l=JC(s.converter,t),c=QE(a);return vp(a,[HC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,hi.none())])}function oi(s,t,i,...a){s=ci(s,Pe);const l=ci(s.firestore,ia),c=QE(l);let d;return d=typeof(t=cn(t))=="string"||t instanceof gp?KC(c,"updateDoc",s._key,t,i,a):GC(c,"updateDoc",s._key,t),vp(l,[d.toMutation(s._key,hi.exists(!0))])}function eI(s){return vp(ci(s.firestore,ia),[new Jm(s._key,hi.none())])}function Ev(s,...t){s=cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||vv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Pe)d=ci(s.firestore,ia),g=Sh(s._key.path),c={next:y=>{t[a]&&t[a](tT(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ci(s,Mh);d=ci(y.firestore,ia),g=y._query;const E=new ZE(d);c={next:S=>{t[a]&&t[a](new so(d,E,y,S))},error:t[a+1],complete:t[a+2]},$C(s._query)}const _=pp(d);return OC(_,g,l,c)}function vp(s,t){const i=pp(s);return VC(i,t)}function tT(s,t,i){const a=i.docs.get(t._key),l=new ZE(s);return new Zr(s,l,t._key,a,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Ow(po),ro(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ia(new kw(a.getProvider("auth-internal")),new Pw(d,a.getProvider("app-check-internal")),nR(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),lr(yv,_v,t),lr(yv,_v,"esm2020")})();const eT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const nI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const iI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const Tv=s=>{const t=iI(s);return t.charAt(0).toUpperCase()+t.slice(1)};var sI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const aI=Jt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Jt.createElement("svg",{ref:_,...sI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:eT("lucide",l),...!c&&!rI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>Jt.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Qt=(s,t)=>{const i=Jt.forwardRef(({className:a,...l},c)=>Jt.createElement(aI,{ref:c,iconNode:t,className:eT(`lucide-${nI(Tv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Tv(s),i};const oI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lI=Qt("arrow-up",oI);const uI=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],bv=Qt("bird",uI);const cI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wd=Qt("book-open",cI);const hI=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Av=Qt("bug",hI);const fI=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Sv=Qt("cat",fI);const dI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nT=Qt("circle-check-big",dI);const mI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pI=Qt("copy",mI);const gI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],yI=Qt("crown",gI);const _I=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],vI=Qt("ellipsis",_I);const EI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TI=Qt("eye",EI);const bI=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],AI=Qt("fish",bI);const SI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],wI=Qt("grid-3x3",SI);const RI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],xI=Qt("hammer",RI);const CI=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Fl=Qt("hexagon",CI);const II=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],NI=Qt("history",II);const DI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],OI=Qt("house",DI);const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VI=Qt("info",MI);const kI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wv=Qt("log-out",kI);const LI=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],UI=Qt("mountain",LI);const PI=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],mh=Qt("paw-print",PI);const zI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],jI=Qt("play",zI);const BI=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],qI=Qt("rabbit",BI);const HI=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],FI=Qt("rat",HI);const GI=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],KI=Qt("skip-forward",GI);const QI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tm=Qt("sparkles",QI);const YI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],XI=Qt("sun",YI);const $I=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],JI=Qt("trash-2",$I);const ZI=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],WI=Qt("tree-deciduous",ZI);const tN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rv=Qt("triangle-alert",tN);const eN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],nN=Qt("trophy",eN);const iN=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],sN=Qt("waves",iN);const rN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iT=Qt("x",rN),aN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c0d92602ad20ed876aa637"},sT=Hv(aN),em=Nw(sT),vn=PC(sT),Dn=typeof __app_id<"u"?__app_id:"equilibrium-game",oN="equilibrium",li={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:vI,name:"Log",validOn:["EMPTY","WOOD"]},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:WI,name:"Foliage",validOn:["WOOD"]},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:UI,name:"Stone",validOn:["EMPTY","STONE"]},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:sN,name:"Water",validOn:["EMPTY"]},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:XI,name:"Sand",validOn:["EMPTY"]},BRICK:{id:"BRICK",color:"bg-red-600",border:"border-red-800",icon:OI,name:"Brick",validOn:["EMPTY","BRICK"]}},ph=(s,t)=>[{q:s+1,r:t},{q:s+1,r:t-1},{q:s,r:t-1},{q:s-1,r:t},{q:s-1,r:t+1},{q:s,r:t+1}],Ja=(s,t,i,a)=>ph(t,i).some(c=>{const d=s[`${c.q},${c.r}`];return d&&a(d)}),ls={EAGLE:{id:"EAGLE",name:"Eagle",desc:"Perches on a Mountain of Height 3.",points:4,slots:2,icon:bv,iconColor:"text-amber-300",check:s=>s.stack.length===3&&s.stack.every(t=>t==="STONE"),visual:{type:"stack",tokens:["STONE","STONE","STONE"]}},DEER:{id:"DEER",name:"Deer",desc:"Hides in a mature Tree (2 Logs + 1 Foliage).",points:3,slots:3,icon:mh,iconColor:"text-orange-400",check:s=>s.stack.length===3&&s.stack[0]==="WOOD"&&s.stack[1]==="WOOD"&&s.stack[2]==="LEAF",visual:{type:"stack",tokens:["WOOD","WOOD","LEAF"]}},SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Climbs small Trees (1 Log + 1 Foliage).",points:2,slots:4,icon:FI,iconColor:"text-orange-300",check:s=>s.stack.length===2&&s.stack[0]==="WOOD"&&s.stack[1]==="LEAF",visual:{type:"stack",tokens:["WOOD","LEAF"]}},OWL:{id:"OWL",name:"Owl",desc:"Perches on any Tree of Height 3.",points:3,slots:3,icon:bv,iconColor:"text-purple-300",check:s=>s.stack.length===3&&s.stack[2]==="LEAF",visual:{type:"stack",tokens:["WOOD","WOOD","LEAF"]}},FROG:{id:"FROG",name:"Frog",desc:"Water adjacent to a Field (Sand).",points:2,slots:4,icon:Av,iconColor:"text-green-400",check:(s,t)=>s.stack[0]==="WATER"&&Ja(t,s.q,s.r,i=>i.stack[0]==="SAND"),visual:{type:"adj",main:"WATER",others:["SAND"]}},FISH:{id:"FISH",name:"Salmon",desc:"Water adjacent to another Water.",points:3,slots:3,icon:AI,iconColor:"text-cyan-300",check:(s,t)=>s.stack[0]==="WATER"&&Ja(t,s.q,s.r,i=>i.stack[0]==="WATER"),visual:{type:"adj",main:"WATER",others:["WATER"]}},LIZARD:{id:"LIZARD",name:"Lizard",desc:"Short Stone (Height 1) adjacent to Sand.",points:2,slots:4,icon:Sv,iconColor:"text-emerald-300",check:(s,t)=>s.stack.length===1&&s.stack[0]==="STONE"&&Ja(t,s.q,s.r,i=>i.stack[0]==="SAND"),visual:{type:"adj",main:"STONE",others:["SAND"]}},RABBIT:{id:"RABBIT",name:"Rabbit",desc:"Field (Sand) adjacent to at least 2 other Fields.",points:4,slots:2,icon:qI,iconColor:"text-yellow-200",check:(s,t)=>{if(s.stack[0]!=="SAND")return!1;let i=0;return ph(s.q,s.r).forEach(a=>{t[`${a.q},${a.r}`]?.stack[0]==="SAND"&&i++}),i>=2},visual:{type:"adj",main:"SAND",others:["SAND","SAND"]}},SPIDER:{id:"SPIDER",name:"Spider",desc:"Building (Brick) adjacent to Tree.",points:3,slots:3,icon:Av,iconColor:"text-slate-400",check:(s,t)=>s.stack[0]==="BRICK"&&Ja(t,s.q,s.r,i=>i.stack.includes("LEAF")),visual:{type:"adj",main:"BRICK",others:["LEAF"]}},CAT:{id:"CAT",name:"Stray Cat",desc:"Building (Brick) adjacent to Field.",points:3,slots:3,icon:Sv,iconColor:"text-indigo-300",check:(s,t)=>s.stack[0]==="BRICK"&&Ja(t,s.q,s.r,i=>i.stack[0]==="SAND"),visual:{type:"adj",main:"BRICK",others:["SAND"]}}},xv=(s,t)=>{if(!s||s.animal||s.stack.length>=3)return!1;const i=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return li[t].validOn.includes(i)},lN=s=>{let t=0;const i=new Set,a=Object.values(s);a.forEach(d=>{if(d.stack.includes("LEAF")){const g=d.stack.length;g===2&&(t+=3),g===3&&(t+=7)}}),a.forEach(d=>{if(d.stack.includes("STONE")){const g=d.stack.length;Ja(s,d.q,d.r,y=>y.stack.includes("STONE"))&&(t+=g)}});const l=(d,g)=>{let _=0,y=[d];for(;y.length>0;){const E=y.pop(),S=`${E.q},${E.r}`;i.has(S)||(i.add(S),_++,ph(E.q,E.r).forEach(N=>{const H=s[`${N.q},${N.r}`];H&&H.stack[0]===g&&!i.has(`${N.q},${N.r}`)&&y.push(H)}))}return _};i.clear(),a.forEach(d=>{d.stack[0]==="SAND"&&!i.has(`${d.q},${d.r}`)&&l(d,"SAND")>=2&&(t+=5)}),i.clear();let c=0;return a.forEach(d=>{if(d.stack[0]==="WATER"&&!i.has(`${d.q},${d.r}`)){const g=l(d,"WATER");g>c&&(c=g)}}),c===2?t+=2:c===3?t+=4:c===4?t+=7:c===5?t+=10:c>=6&&(t+=15),a.forEach(d=>{if(d.stack[0]==="BRICK"){const g=ph(d.q,d.r),_=new Set;g.forEach(y=>{const E=s[`${y.q},${y.r}`];E&&E.stack.length>0&&_.add(E.stack[E.stack.length-1])}),_.size>=3&&(t+=5)}}),t},nm=()=>{const s={};for(let i=-2;i<=2;i++){let a=Math.max(-2,-i-2),l=Math.min(2,-i+2);for(let c=a;c<=l;c++)s[`${i},${c}`]={q:i,r:c,stack:[],animal:null}}return s},Cv=()=>{const s={WOOD:15,LEAF:15,STONE:12,WATER:12,SAND:9,BRICK:9};let t=[];Object.entries(s).forEach(([i,a])=>{for(let l=0;l<a;l++)t.push(i)});for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},Iv=()=>{const s=Object.keys(ls);let t=[];for(let i=0;i<3;i++)t=[...t,...s];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},Nv=(s,t)=>{let i=[...s],a=[...t];for(;i.length<5&&a.length>=3;)i.push({id:Math.random().toString(36).substr(2,9),tokens:[a.pop(),a.pop(),a.pop()].filter(Boolean)});return{market:i,bag:a}},Dv=(s,t)=>{let i=[...s],a=[...t];for(;i.length<4&&a.length>0;){const l=a.pop();i.push({id:Math.random().toString(36).substr(2,9),type:l})}return{market:i,deck:a}},gh=({visual:s})=>s?s.type==="stack"?A.jsx("div",{className:"relative w-8 h-10 mx-auto mt-2",children:s.tokens.map((t,i)=>A.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-5 h-5 rounded-full border shadow-sm ${li[t].color} ${li[t].border}`,style:{bottom:`${i*10}px`,zIndex:i}},i))}):s.type==="adj"?A.jsxs("div",{className:"flex items-center justify-center gap-1 py-2 scale-90 origin-center",children:[A.jsx("div",{className:`w-8 h-8 rounded-full border-2 border-white shadow-sm ${li[s.main].color} ${li[s.main].border} z-10 flex items-center justify-center`,children:A.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),A.jsx("div",{className:"flex flex-col gap-1",children:s.others.map((t,i)=>A.jsx("div",{className:`w-4 h-4 rounded-full border opacity-80 ${li[t].color} ${li[t].border}`},i))})]}):null:null,Ov=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-800 via-slate-950 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[...Array(15)].map((s,t)=>A.jsx("div",{className:"absolute animate-float text-white",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${15+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:A.jsx(Fl,{size:48})},t))}),A.jsx("style",{children:"@keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(10deg); } } .animate-float { animation: float infinite ease-in-out; }"})]}),im=()=>A.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-40 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[A.jsx(Fl,{size:14,className:"text-cyan-500"}),A.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase",children:"EQUILIBRIUM"})]}),uN=({q:s,r:t,stack:i,animal:a,onClick:l,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const E=40*(Math.sqrt(3)*s+Math.sqrt(3)/2*t),S=40*(3/2*t);return A.jsxs("div",{onClick:()=>l&&l(s,t),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${E}px)`,top:`calc(50% + ${S}px)`,width:`${40*1.8}px`,height:"80px",transform:"translate(-50%, -50%)",zIndex:10+t,cursor:d||g?"pointer":"default"},children:[A.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${d||g||_?"bg-slate-700 hover:bg-slate-600 hover:scale-105 shadow-[0_0_10px_rgba(34,211,238,0.2)]":"bg-slate-800"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),A.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:A.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#34d399":"rgba(255,255,255,0.4)",strokeWidth:_?"3":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),A.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[i.map((N,H)=>{const Z=li[N];return A.jsx("div",{className:`absolute w-8 h-8 rounded-full border shadow-md flex items-center justify-center ${Z.color} ${Z.border}`,style:{transform:`translateY(-${H*6}px) scale(${1-H*.05})`,zIndex:H},children:H===i.length-1&&A.jsx(Z.icon,{size:14,className:"text-white/80"})},H)}),d&&c&&A.jsx("div",{className:`absolute w-8 h-8 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${li[c].color} border-white`,style:{transform:`translateY(-${i.length*6}px)`,zIndex:10},children:A.jsx(lI,{size:14,className:"text-white"})}),_&&!a&&A.jsx("div",{className:"absolute -top-6 w-8 h-8 rounded-full border-2 border-dashed border-emerald-400 shadow-xl flex items-center justify-center z-50 animate-pulse bg-emerald-500/20",children:A.jsx(nT,{size:16,className:"text-emerald-400"})}),g&&!a&&A.jsx("div",{className:"absolute -top-6 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const N=ls[g],H=N.icon;return A.jsx(H,{size:16,className:N.iconColor,fill:"currentColor",fillOpacity:.2})})()}),a&&A.jsx("div",{className:"absolute w-6 h-6 rounded-full bg-white border-2 border-cyan-300 shadow-xl flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${i.length*6+4}px)`},children:(()=>{const N=ls[a],H=N.icon;return A.jsx(H,{size:14,className:N.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},cN=({type:s,message:t,subtext:i,icon:a})=>A.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:A.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[a&&A.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:A.jsx(a,{size:64,className:"animate-bounce"})}),A.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:t}),i&&A.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:i})]})}),sm=({onClose:s})=>A.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[A.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full",children:A.jsx(iT,{size:24})}),A.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-cyan-400",children:"Architect's Handbook"}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[A.jsx(Fl,{className:"text-emerald-500"})," Landscape Scoring"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[A.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[A.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Foliage)"}),A.jsxs("ul",{className:"list-disc pl-4 text-xs",children:[A.jsx("li",{children:"2 High (Wood+Leaf): 3 Pts"}),A.jsx("li",{children:"3 High (Wood+Wood+Leaf): 7 Pts"}),A.jsx("li",{className:"text-slate-500 mt-1",children:"Foliage MUST be on Wood."})]})]}),A.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[A.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),A.jsxs("ul",{className:"list-disc pl-4 text-xs",children:[A.jsx("li",{children:"Score Height (1-3) per stack."}),A.jsx("li",{children:"Only scores if adjacent to another Mountain."})]})]}),A.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[A.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),A.jsxs("ul",{className:"list-disc pl-4 text-xs",children:[A.jsx("li",{children:"5 Pts for every group of 2+ connected Sand."}),A.jsx("li",{children:"Cannot stack."})]})]}),A.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[A.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),A.jsxs("ul",{className:"list-disc pl-4 text-xs",children:[A.jsx("li",{children:"Longest Chain scoring:"}),A.jsx("li",{children:"2=2pts, 3=4pts, 4=7pts, 5=10pts, 6+=15pts."})]})]}),A.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-slate-700",children:[A.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),A.jsx("ul",{className:"list-disc pl-4 text-xs",children:A.jsx("li",{children:"5 Pts if surrounded by 3+ different colors."})})]})]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[A.jsx(mh,{className:"text-orange-500"})," Animal Scoring"]}),A.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Complete patterns to place animals. Animals score points AND allow you to score again on the same card."}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.values(ls).map(t=>A.jsxs("div",{className:"bg-slate-800 p-2 rounded border border-slate-700 flex flex-col items-center gap-2 text-xs",children:[A.jsx("div",{className:"scale-75",children:A.jsx(gh,{visual:t.visual})}),A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"font-bold text-white",children:t.name}),A.jsx("div",{className:"text-[10px] text-slate-400 leading-none mb-1",children:t.desc}),A.jsxs("div",{className:"text-[9px] text-yellow-500 font-bold",children:["+",t.points,"pts"]})]})]},t.id))})]})]})]})}),hN=({animal:s,onClose:t})=>A.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:t,children:A.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[A.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:A.jsx(s.icon,{size:48,className:s.iconColor})}),A.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),A.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points," Pts per placement"]}),A.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:A.jsx(gh,{visual:s.visual})}),A.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:A.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),A.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((i,a)=>A.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},a))}),A.jsx("button",{onClick:t,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function fN(){const[s,t]=Jt.useState(null),[i,a]=Jt.useState("menu"),[l,c]=Jt.useState(""),[d,g]=Jt.useState(""),[_,y]=Jt.useState(""),[E,S]=Jt.useState(null),[N,H]=Jt.useState(""),[Z,nt]=Jt.useState(!1),[it,gt]=Jt.useState(!1),[Ct,bt]=Jt.useState(!1),[$t,me]=Jt.useState(!1),[Ut,I]=Jt.useState(!1),[w,C]=Jt.useState(!1),[V,D]=Jt.useState(null),[L,R]=Jt.useState(null),[Wt,le]=Jt.useState(null),[F,tt]=Jt.useState(null),[at,Mt]=Jt.useState(null),[Rt,M]=Jt.useState(null),K=Jt.useRef(null);Jt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await g2(em,__initial_auth_token):await h2(em))();const st=v2(em,mt=>{if(t(mt),mt){const _t=localStorage.getItem("equilibrium_playerName");_t&&c(_t),R(mt.uid)}});return()=>st()},[]),Jt.useEffect(()=>{const ct=Ev(_n(vn,"game_hub_settings","config"),st=>{st.exists()&&st.data()[oN]?.maintenance?gt(!0):gt(!1)},st=>console.log("Config Read Error (Safe to ignore):",st));return()=>ct()},[]),Jt.useEffect(()=>{if(!_||!s)return;const ct=_n(vn,"artifacts",Dn,"public","data","rooms",_),st=Ev(ct,mt=>{if(mt.exists()){const _t=mt.data();S(_t),_t.status==="playing"||_t.status==="finished"?a("game"):_t.status==="lobby"&&a("lobby")}else a("menu"),y(""),H("Voyage ended.")},mt=>{console.error(mt),H("Connection lost.")});return()=>st()},[_,s]),Jt.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const ct=E.logs[E.logs.length-1];if(K.current===null){K.current=ct.id;return}ct.id<=K.current||(K.current=ct.id,ct.type==="success"?(D({type:"success",message:"HARMONY!",subtext:ct.text,icon:tm}),setTimeout(()=>D(null),2500)):ct.type==="warning"&&(D({type:"warning",message:"ATTENTION",subtext:ct.text,icon:Rv}),setTimeout(()=>D(null),2500)))},[E?.logs]);const et=async()=>{if(!l)return H("Enter Name");localStorage.setItem("equilibrium_playerName",l),nt(!0);const ct=Math.random().toString(36).substr(2,6).toUpperCase(),st=Cv(),mt=Iv(),{market:_t,bag:$}=Nv([],st),ht=Dv([],mt),Dt={roomId:ct,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,score:0,landscapeScore:0,board:nm(),holding:[],animals:[],ready:!0}],market:_t,bag:$,animalMarket:ht.market,animalDeck:ht.deck,turnIndex:0,turnPhase:"DRAFT",logs:[],winnerId:null};try{await tI(_n(vn,"artifacts",Dn,"public","data","rooms",ct),Dt),y(ct),R(s.uid)}catch(ye){console.error(ye),H("Failed to create world.")}nt(!1)},rt=async()=>{if(!d||!l)return H("Enter details");localStorage.setItem("equilibrium_playerName",l),nt(!0);try{const ct=d.toUpperCase().trim(),st=_n(vn,"artifacts",Dn,"public","data","rooms",ct),mt=await WC(st);if(mt.exists()&&mt.data().status==="lobby"){const _t=mt.data();if(!_t.players.some($=>$.id===s.uid)){const $=[..._t.players,{id:s.uid,name:l,score:0,landscapeScore:0,board:nm(),holding:[],animals:[],ready:!1}];await oi(st,{players:$})}y(ct),R(s.uid)}else H("Room not found or in progress")}catch(ct){H(ct.message)}nt(!1)},Et=async()=>{await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{status:"playing",logs:Xr({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},xt=async()=>{if(!E)return;const ct=[...E.players],st=ct.find(mt=>mt.id===s.uid);st&&(st.ready=!st.ready,await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{players:ct}))},Vt=async()=>{if(_){try{const ct=_n(vn,"artifacts",Dn,"public","data","rooms",_);if(E.hostId===s.uid)await eI(ct);else{const st=E.players.filter(mt=>mt.id!==s.uid);await oi(ct,{players:st})}}catch{console.log("Room gone")}y(""),a("menu"),C(!1),S(null)}},be=async()=>{if(E.hostId!==s.uid)return;const ct=Cv(),st=Iv(),{market:mt,bag:_t}=Nv([],ct),$=Dv([],st),ht=E.players.map(Dt=>({...Dt,score:0,landscapeScore:0,board:nm(),holding:[],animals:[],ready:!1}));await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{status:"lobby",players:ht,market:mt,bag:_t,animalMarket:$.market,animalDeck:$.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"DRAFT"})},ue=async ct=>{if(E.turnPhase!=="DRAFT")return;const st=E.players.findIndex(ht=>ht.id===s.uid);if(E.turnIndex!==st)return;const mt=[...E.players];let _t=[...E.market],$=[...E.bag];if(mt[st].holding=_t[ct].tokens,_t.splice(ct,1),$.length>=3){const ht={id:Math.random().toString(36).substr(2,9),tokens:[$.pop(),$.pop(),$.pop()].filter(Boolean)};_t.push(ht)}await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{players:mt,market:_t,bag:$,turnPhase:"PLACE",logs:Xr({text:`${mt[st].name} drafted tokens.`,type:"neutral",id:Date.now()})}),le(null)},qi=async ct=>{if(E.turnPhase!=="DRAFT")return;const st=E.players.findIndex(ce=>ce.id===s.uid);if(E.turnIndex!==st)return;const mt=[...E.players],_t=mt[st];let $=[...E.animalMarket],ht=[...E.animalDeck];if(_t.animals.filter(ce=>ce.slotsFilled<ce.maxSlots).length>=4)return;const ye=$[ct],Ke=ls[ye.type];if(_t.animals.push({...ye,slotsFilled:0,maxSlots:Ke.slots}),$.splice(ct,1),ht.length>0){const ce={id:Math.random().toString(36).substr(2,9),type:ht.pop()};$.push(ce)}await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{players:mt,animalMarket:$,animalDeck:ht,logs:Xr({text:`${_t.name} adopted a ${Ke.name}.`,type:"neutral",id:Date.now()})}),le(null)},vs=async(ct,st)=>{if(E.turnPhase!=="PLACE")return;const mt=E.players.findIndex(ht=>ht.id===s.uid);if(E.turnIndex!==mt)return;const _t=[...E.players],$=_t[mt];if(at!==null&&$.holding[at]){const ht=`${ct},${st}`,Dt=$.board[ht],ye=$.holding[at];if(!xv(Dt,ye))return;Dt.stack.push(ye),$.holding.splice(at,1),Mt(null),$.landscapeScore=lN($.board),await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{players:_t});return}if(Rt!==null&&$.animals[Rt]){const ht=$.animals[Rt],Dt=ls[ht.type],ye=$.board[`${ct},${st}`];!ye.animal&&ht.slotsFilled<ht.maxSlots&&Dt.check(ye,$.board)&&(ye.animal=ht.type,ht.slotsFilled+=1,$.score+=Dt.points,M(null),await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{players:_t,logs:Xr({text:`${$.name} placed a ${Dt.name}!`,type:"success",id:Date.now()})}))}},Es=async()=>{if(E.turnPhase!=="PLACE")return;const ct=E.players.findIndex(_t=>_t.id===s.uid);if(E.turnIndex!==ct)return;const st=[...E.players],mt=st[ct];at===null||!mt.holding[at]||(mt.holding.splice(at,1),Mt(null),await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),{players:st,logs:Xr({text:`${mt.name} discarded a token.`,type:"neutral",id:Date.now()})}))},Ts=async()=>{if(E.turnPhase!=="PLACE")return;const ct=E.players.findIndex($=>$.id===s.uid);if(E.turnIndex!==ct||[...E.players][ct].holding.length>0)return;const _t={turnPhase:"DRAFT",turnIndex:(E.turnIndex+1)%E.players.length,logs:Xr({text:`Turn passed to ${E.players[(E.turnIndex+1)%E.players.length].name}.`,type:"neutral",id:Date.now()})};E.bag.length===0&&E.market.length===0&&(_t.status="finished",_t.logs=Xr({text:"Market exhausted! Game Over.",type:"warning",id:Date.now()})),await oi(_n(vn,"artifacts",Dn,"public","data","rooms",_),_t)},Mn=()=>{navigator.clipboard.writeText(_),bt(!0),setTimeout(()=>bt(!1),2e3)};if(it)return A.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[A.jsx(im,{}),A.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30 mt-8",children:[A.jsx(xI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Construction"}),A.jsx("p",{className:"text-gray-400",children:"Balancing the elements..."})]})]});if(!s)return A.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Initializing..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[A.jsx(Ov,{}),Ut&&A.jsx(sm,{onClose:()=>I(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(Fl,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-spin-slow"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),A.jsx("p",{className:"text-white/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),A.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[N&&A.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[A.jsx(Rv,{size:16})," ",N]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("input",{className:"w-full bg-black/50 border border-slate-700 focus:border-cyan-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:l,onChange:ct=>c(ct.target.value),maxLength:12}),A.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[A.jsxs("button",{onClick:et,disabled:Z,className:"bg-gradient-to-br from-cyan-600 to-blue-700 hover:from-cyan-500 hover:to-blue-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-cyan-900/50",children:[A.jsx(tm,{size:24}),A.jsx("span",{children:"Create"})]}),A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("input",{className:"bg-black/50 border border-slate-700 focus:border-cyan-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:ct=>g(ct.target.value),maxLength:6}),A.jsx("button",{onClick:rt,disabled:Z,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join"})]})]}),A.jsxs("button",{onClick:()=>I(!0),className:"w-full mt-4 text-slate-400 hover:text-cyan-400 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[A.jsx(Wd,{size:16})," Architect's Guide"]})]})]}),A.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center z-10",children:["Inspired by Harmonies. A tribute game.",A.jsx("br",{}),"Developed by ",A.jsx("strong",{className:"text-slate-500",children:"RAWFID K SHUVO"}),". Visit ",A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})]}),A.jsx(im,{})]});if(i==="lobby"&&E){const ct=E.hostId===s.uid;return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(Ov,{}),Ut&&A.jsx(sm,{onClose:()=>I(!1)}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-sm text-cyan-500 font-bold uppercase tracking-wider",children:"World Code"}),A.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[A.jsx("div",{className:"text-4xl font-mono text-white font-black",children:_}),A.jsx("button",{onClick:Mn,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400",children:Ct?A.jsx(nT,{size:20,className:"text-green-500"}):A.jsx(pI,{size:20})})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-cyan-400",children:A.jsx(Wd,{size:20})}),A.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:A.jsx(wv,{size:20})})]})]}),A.jsxs("div",{className:"space-y-3 mb-8",children:[A.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",E.players.length,"/4)"]}),E.players.map(st=>A.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[A.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[st.name,st.id===E.hostId&&A.jsx(yI,{size:16,className:"text-yellow-500"})]}),st.ready?A.jsx("span",{className:"text-emerald-400 text-xs font-bold uppercase bg-emerald-900/20 px-2 py-1 rounded",children:"Ready"}):A.jsx("span",{className:"text-slate-500 text-xs font-bold uppercase",children:"Waiting"})]},st.id)),Array.from({length:4-E.players.length}).map((st,mt)=>A.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-xl p-4 flex items-center justify-center text-slate-700 font-bold uppercase text-sm",children:"Empty Slot"},mt))]}),ct?A.jsxs("button",{onClick:Et,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:[A.jsx(jI,{size:24,fill:"currentColor"})," Start Game"]}):A.jsx("button",{onClick:xt,className:`w-full py-4 rounded-xl font-bold text-xl transition-all active:scale-95 ${E.players.find(st=>st.id===s.uid)?.ready?"bg-slate-700 text-emerald-400":"bg-emerald-600 text-white"}`,children:E.players.find(st=>st.id===s.uid)?.ready?"READY":"MARK READY"})]}),w&&A.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),A.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"You will disconnect from this session."}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>C(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),A.jsx("button",{onClick:Vt,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),A.jsx(im,{})]})}if(i==="game"&&E){const ct=E.players.findIndex($=>$.id===s.uid),st=E.players[ct],mt=E.turnIndex===ct,_t=E.players.find($=>$.id===L)||st;return A.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[V&&A.jsx(cN,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),Ut&&A.jsx(sm,{onClose:()=>I(!1)}),F&&A.jsx(hN,{animal:F,onClose:()=>tt(null)}),A.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-2 z-50 shrink-0",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-10 h-10 bg-cyan-950 rounded-lg flex items-center justify-center border border-cyan-800",children:A.jsx(Fl,{className:"text-cyan-500",size:20})}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-sm tracking-wider",children:"EQUILIBRIUM"}),A.jsx("div",{className:"text-[10px] text-slate-400 font-mono uppercase",children:E.status==="finished"?"GAME OVER":`Turn: ${E.players[E.turnIndex].name}`})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-cyan-400",children:A.jsx(Wd,{size:18})}),A.jsx("button",{onClick:()=>me(!$t),className:`p-2 rounded transition-colors ${$t?"bg-cyan-900 text-cyan-400":"hover:bg-slate-800 text-slate-400"}`,children:A.jsx(NI,{size:18})}),A.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:A.jsx(wv,{size:18})})]})]}),$t&&A.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:[A.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),A.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map($=>A.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${$.type==="success"?"border-emerald-500 bg-emerald-900/10":$.type==="warning"?"border-amber-500 bg-amber-900/10":"border-slate-500 bg-slate-800/30"}`,children:$.text},$.id))})]}),w&&A.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),A.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>C(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),A.jsx("button",{onClick:Vt,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),A.jsxs("div",{className:"flex-1 relative bg-slate-950 overflow-hidden flex flex-col items-center justify-center",children:[A.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:E.players.map($=>A.jsxs("button",{onClick:()=>R($.id),className:`
                                flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
                                ${L===$.id?"bg-slate-800 border-cyan-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
                            `,children:[A.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${$.id===E.players[E.turnIndex].id?"text-green-400":""}`,children:$.name}),A.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:$.score+$.landscapeScore})]},$.id))}),_t.id!==s.uid&&A.jsxs("div",{className:"absolute top-20 bg-slate-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur",children:[A.jsx(TI,{size:12})," Viewing ",_t.name,"'s World"]}),A.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-12 transform scale-100 md:scale-125",children:Object.values(_t.board).map($=>{const ht=Rt!==null&&st.animals[Rt]&&!$.animal&&st.animals[Rt].slotsFilled<st.animals[Rt].maxSlots&&ls[st.animals[Rt].type].check($,_t.board);return A.jsx(uN,{...$,isPlaceable:mt&&_t.id===s.uid&&E.turnPhase==="PLACE"&&(at!==null&&st.holding[at]&&xv($,st.holding[at])||Rt!==null&&st.animals[Rt]),ghostToken:at!==null?st.holding[at]:null,ghostAnimal:Rt!==null?st.animals[Rt].type:null,isValidTarget:ht,onClick:_t.id===s.uid?vs:void 0},`${$.q},${$.r}`)})}),Wt&&A.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>le(null),children:A.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-3xl w-full max-w-lg shadow-2xl",onClick:$=>$.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[Wt==="TOKENS"?A.jsx(tm,{className:"text-cyan-400"}):A.jsx(mh,{className:"text-orange-400"}),"Select ",Wt==="TOKENS"?"Tokens":"Animal"]}),A.jsx("button",{onClick:()=>le(null),className:"p-2 bg-slate-800 rounded-full text-slate-400",children:A.jsx(iT,{size:20})})]}),Wt==="TOKENS"?A.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto",children:E.market.map(($,ht)=>A.jsx("button",{onClick:()=>ue(ht),disabled:!mt||E.turnPhase!=="DRAFT",className:"bg-slate-800 border-2 border-slate-700 hover:border-cyan-500 p-4 rounded-xl flex items-center justify-center gap-2 hover:bg-slate-700 transition-all active:scale-95",children:$.tokens.map((Dt,ye)=>{const Ke=li[Dt];return A.jsx("div",{className:`w-8 h-8 rounded-full border shadow-sm flex items-center justify-center ${Ke.color} ${Ke.border}`,children:A.jsx(Ke.icon,{size:14,className:"text-white/70"})},ye)})},$.id))}):A.jsxs("div",{className:"grid grid-cols-1 gap-3 max-h-[60vh] overflow-y-auto",children:[E.animalMarket.map(($,ht)=>{const Dt=ls[$.type],ye=mt&&E.turnPhase==="DRAFT"&&st.animals.filter(Ke=>Ke.slotsFilled<Ke.maxSlots).length<4;return A.jsxs("button",{onClick:()=>qi(ht),disabled:!ye,className:`bg-slate-800 border-2 border-slate-700 p-4 rounded-xl flex items-center gap-4 text-left transition-all ${ye?"hover:border-orange-500 hover:bg-slate-700 active:scale-95":"opacity-50 cursor-not-allowed"}`,children:[A.jsx("div",{className:"bg-black/30 p-3 rounded-full shrink-0",children:A.jsx(Dt.icon,{className:Dt.iconColor,size:24})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("div",{className:"font-bold text-white text-lg",children:Dt.name}),A.jsxs("span",{className:"text-yellow-500 text-sm font-bold",children:["+",Dt.points]})]}),A.jsx("div",{className:"text-slate-400 text-xs",children:Dt.desc}),A.jsx("div",{className:"mt-2 flex justify-center scale-90 origin-left",children:A.jsx(gh,{visual:Dt.visual})})]}),A.jsx("div",{className:"ml-auto bg-slate-700 p-2 rounded-full",children:A.jsx(VI,{size:16,className:"text-slate-400",onClick:Ke=>{Ke.stopPropagation(),tt(Dt)}})})]},$.id)}),E.animalMarket.length===0&&A.jsx("div",{className:"text-slate-500 text-center py-8",children:"No animals wandering by..."})]})]})}),E.status==="finished"&&A.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:A.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-md w-full m-4",children:[A.jsx(nN,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),A.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-4",children:"Game Complete"}),A.jsx("div",{className:"space-y-3 mb-6 max-h-[40vh] overflow-y-auto custom-scrollbar",children:E.players.sort(($,ht)=>ht.score+ht.landscapeScore-($.score+$.landscapeScore)).map(($,ht)=>A.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl flex justify-between items-center border border-slate-700",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"font-mono text-slate-500",children:["#",ht+1]}),A.jsx("span",{className:"font-bold text-white",children:$.name})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"text-xl font-black text-yellow-500",children:$.score+$.landscapeScore}),A.jsxs("div",{className:"text-[10px] text-slate-400",children:["Animals: ",$.score," | Land: ",$.landscapeScore]})]})]},$.id))}),E.hostId===s.uid&&A.jsx("button",{onClick:be,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full",children:"Return to Lobby"})]})})]}),A.jsx("div",{className:"h-24 bg-transparent absolute bottom-0 left-0 right-0 z-40 p-4 flex justify-between items-end pointer-events-none",children:A.jsxs("div",{className:"flex gap-4 pointer-events-auto items-end w-full",children:[A.jsxs("div",{className:"flex flex-col gap-4 mb-1",children:[mt&&E.turnPhase==="PLACE"&&st.holding.length>0&&A.jsxs("div",{className:"bg-slate-900/90 border border-cyan-500/30 px-3 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md",children:[A.jsx("span",{className:"text-[8px] font-bold text-cyan-400 uppercase tracking-widest",children:"Placing"}),A.jsxs("div",{className:"flex items-center gap-2",children:[st.holding.map(($,ht)=>{const Dt=li[$];return A.jsx("button",{onClick:()=>{Mt(ht),M(null)},className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center transition-all active:scale-90 ${Dt.color} ${Dt.border} ${at===ht?"ring-4 ring-white scale-110 z-10":"opacity-80 hover:opacity-100 hover:scale-105"}`,children:A.jsx(Dt.icon,{size:14,className:"text-white/80"})},ht)}),at!==null&&A.jsx("button",{onClick:Es,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token",children:A.jsx(JI,{size:12,className:"text-red-300"})})]})]}),mt&&E.turnPhase==="PLACE"&&st.holding.length===0&&A.jsxs("button",{onClick:Ts,className:"bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 px-4 rounded-xl shadow-lg animate-pulse flex items-center justify-center gap-2 text-sm whitespace-nowrap",children:["End Turn ",A.jsx(KI,{size:14})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{onClick:()=>le("TOKENS"),disabled:!mt||E.turnPhase!=="DRAFT",className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${mt&&E.turnPhase==="DRAFT"?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500 grayscale"}`,children:A.jsx(wI,{size:24})}),A.jsx("button",{onClick:()=>le("ANIMALS"),disabled:!mt||E.turnPhase!=="DRAFT"||st.animals.filter($=>$.slotsFilled<$.maxSlots).length>=4,className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${mt&&E.turnPhase==="DRAFT"&&st.animals.filter($=>$.slotsFilled<$.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500 grayscale"}`,children:A.jsx(mh,{size:24})})]})]}),A.jsx("div",{className:"flex gap-2 items-end ml-2 overflow-x-auto pb-1 max-w-[calc(100vw-160px)] no-scrollbar mask-gradient-right h-48 md:h-52",children:_t.animals.map(($,ht)=>{const Dt=ls[$.type],ye=ht===Rt&&_t.id===s.uid;return A.jsxs("button",{onClick:()=>{_t.id===s.uid&&(Mt(null),M(ye?null:ht))},className:`relative w-28 h-36 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all hover:-translate-y-2 text-left ${ye?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10":"border-slate-600"}`,children:[A.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(Dt.icon,{size:14,className:Dt.iconColor}),A.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[60px]",children:Dt.name})]}),A.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",Dt.points]})]}),A.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center justify-center",children:[A.jsx("div",{className:"my-1 scale-75 origin-center",children:A.jsx(gh,{visual:Dt.visual})}),A.jsx("div",{className:"text-[9px] text-slate-400 text-center leading-tight mb-1 px-1 h-6 overflow-hidden",children:Dt.desc}),A.jsxs("div",{className:"mt-auto w-full pt-1",children:[A.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-bold mb-1 text-center",children:"Progress"}),A.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:$.maxSlots}).map((Ke,ce)=>A.jsx("div",{className:`h-2 w-full rounded-full border ${ce<$.slotsFilled?"bg-green-500 border-green-400":"bg-slate-800 border-slate-700"}`},ce))})]})]})]},$.id)})})]})})]})}return null}Fb.createRoot(document.getElementById("root")).render(A.jsx(Jt.StrictMode,{children:A.jsx(fN,{})}));
